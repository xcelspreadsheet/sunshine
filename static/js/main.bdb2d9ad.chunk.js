(this.webpackJsonpphotos=this.webpackJsonpphotos||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/images.cfa0a8bf.png"},101:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADbCAAAAABc5bIUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJV2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjk3YTQyN2RkLTRjODUtMGQ0ZS05YzZkLTFiNzI2ZTBiZTgwMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZjBhOGY1OC1iMzBkLTQ4ZmUtYTc0Yy1mMjBjYmJlOGFiNTUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iNDU1MzFGOEM0MkZENzgzRTRCRTNEOTIyMjgyQkZGNkEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIxIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iRG90IEdhaW4gMjAlIiB0aWZmOkltYWdlV2lkdGg9IjIzMCIgdGlmZjpJbWFnZUxlbmd0aD0iMjE5IiB0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb249IjIiIHRpZmY6U2FtcGxlc1BlclBpeGVsPSIzIiB0aWZmOlhSZXNvbHV0aW9uPSIxLzEiIHRpZmY6WVJlc29sdXRpb249IjEvMSIgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMSIgZXhpZjpFeGlmVmVyc2lvbj0iMDIzMSIgZXhpZjpDb2xvclNwYWNlPSI2NTUzNSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjIzMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjIxOSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTAtMDNUMTI6NDI6MzQtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTEzYTFjYmMtMmFiMS00NzA0LTliMTAtNGI1MTU0YWM3NmM2IiBzdEV2dDp3aGVuPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252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"},102:function(e,t,a){e.exports=a.p+"static/media/paper.243be7c8.jpg"},109:function(e,t,a){e.exports=a(249)},115:function(e,t,a){},116:function(e,t,a){e.exports=a.p+"static/media/noun_Reply_70802.2551e67c.png"},117:function(e,t,a){e.exports=a.p+"static/media/envmap.58ec940d.jpg"},118:function(e,t,a){e.exports=a.p+"static/media/envmap2.998e01c2.jpg"},119:function(e,t,a){e.exports=a.p+"static/media/scratchtexture.b22144dd.jpg"},248:function(e,t,a){e.exports=a.p+"static/media/daisy.f46a10bc.glb"},249:function(e,t,a){"use strict";a.r(t);var n=a(9),o=a(11),i=a(3),s=a(7),r=a(5),l=a(6),c=a(28),u=a(14),d=a(17),m=a.n(d),p=a(26),h=a(98),g=a.n(h),v=(a(115),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function f(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b=a(0),y=a(99),w=a.n(y),O=a(2),A=a.n(O),I=a(36),j=a.n(I),E=a(8),k=(a(116),a(100)),S=a.n(k),T=a(101),x=a.n(T),U=a(64),R=a.n(U),N=a(65),M=a.n(N),F=(a(117),a(118),a(119),a(66)),C=a.n(F),Z=(a(102),a(67)),L=a.n(Z),Q=a(27),z=a.n(Q),P=(["uniform float mRefractionRatio;","uniform float mFresnelBias;","uniform float mFresnelScale;","uniform float mFresnelPower;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );","\tvec3 I = worldPosition.xyz - cameraPosition;","\tvReflect = reflect( I, worldNormal );","\tvRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );","\tvRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );","\tvRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );","\tvReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );","\tgl_Position = projectionMatrix * mvPosition;","}"].join("\n"),["uniform samplerCube tCube;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","\tvec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","\tvec4 refractedColor = vec4( 1.0 );","\trefractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;","\trefractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;","\trefractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;","\tgl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );","}"].join("\n"),a(103)),D=a(4),W=a.n(D),G=a(104),B=(a(250),a(108)),J=a.n(B),Y=(a(247),a(248),{reply:"reply",sticker:"sticker",feedphoto:"feedphoto",newphoto:"newphoto"}),X="fromright",V="fromleft",K="fromabove",H=new b.ib,q=new b.Y,_=2;console.log("Window width");var $=[],ee=[],te={},ae=0,ne={},oe={},ie={},se={},re={},le=[],ce=0,ue=[];console.log(window.innerWidth),window.innerWidth<737&&(_=1.8);var de=new b.qb;de.crossOrigin="Anonymous";var me=new b.K;W.a.initializeApp({apiKey:"AIzaSyAaVRDb7lnaSSVAKfq8aYZ_KuGhhmMyA28",authDomain:"sunshine-c9025.firebaseapp.com",databaseURL:"https://sunshine-c9025.firebaseio.com",projectId:"sunshine-c9025",storageBucket:"sunshine-c9025.appspot.com",messagingSenderId:"182239551587",appId:"1:182239551587:web:0f69153c66050e45559856"}),W.a.auth().onAuthStateChanged((function(e){e?(console.log("AUTH STATE CHANGED"),console.log(e),e.isAnonymous||W.a.database().ref("stickerusers/"+e.uid+"/time").set(Date.now())):W.a.auth().signInAnonymously().catch((function(e){e.code;var t=e.message;console.log(t)}))}));new P.Cloudinary({cloud_name:"cathedralapp",secure:!0,api_key:"485812499374832",api_secret:"_6igNEblFUeNDo6rMajgIpOH0BU"});function pe(){Object(E.a)({targets:".logindialog",top:[{value:"50%",easing:"easeInOutQuad",duration:600}]})}function he(){Object(E.a)({targets:".logindialog",top:[{value:"-200%",easing:"easeInOutQuad",duration:600}],delay:2e3})}function ge(){W.a.auth().signOut(),console.log("signed out")}function ve(e){if(e.files.length>0){var t=new Image;t.src=window.URL.createObjectURL(e.files[0]),t.onload=function(){ye(e.files[0],t.width,t.height,"testimages/",!1)}}}var fe="";function be(e){if(e.files.length>0){var t=new Image;t.src=window.URL.createObjectURL(e.files[0]),t.onload=function(){ye(e.files[0],t.width,t.height,"testimages/"+fe+"/replies",!0,fe)}}}function ye(e,t,a,n,o,i){var s=new XMLHttpRequest,r=new FormData;s.open("POST","https://api.cloudinary.com/v1_1/cathedralapp/upload",!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),document.getElementById("progress").style.width=0,document.getElementById("progress").style.opacity=1,s.upload.addEventListener("progress",(function(e){var t=Math.round(100*e.loaded/e.total);document.getElementById("progress").style.width=t+"%",console.log("fileuploadprogress data.loaded: ".concat(e.loaded,",\n  data.total: ").concat(e.total))})),s.onreadystatechange=function(e){if(4==s.readyState&&200==s.status){var r=JSON.parse(s.responseText);Object(E.a)({targets:".progress",opacity:[{value:0,easing:"easeInOutQuad",duration:600}]});var l=r.secure_url;console.log(l);var d=W.a.database().ref(n),m={url:l,width:t,height:a,creator:W.a.auth().currentUser.uid,creatorusername:W.a.auth().currentUser.displayName};if(!1===o)d.push(m).then((function(e){e.once("value",(function(e){console.log(e.val());var t=e.val();ze($),console.log($[$.length-1]);var a,n=0,o=Object(u.a)($.entries());try{for(o.s();!(a=o.n()).done;){var i=Object(c.a)(a.value,2),s=i[0],r=(i[1],s+1);if(""!=$[$.length-r].name){n=$[$.length-r].scale.y/2;break}}}catch(h){o.e(h)}finally{o.f()}var l,d=_*(t.height/t.width)/2+.5+n,m=Object(u.a)($);try{for(m.s();!(l=m.n()).done;){var p=l.value;Object(E.a)({targets:p.position,y:[{value:p.position.y-d,easing:"easeInOutQuad",duration:750}]})}}catch(h){m.e(h)}finally{m.f()}t.key=e.key;Xe(t.url,0,0,t.creatorusername,t,Y.newphoto,V);ht()}))}));else{var p=H.getObjectByName(fe);d.push(m).then((function(e){e.once("value",(function(e){console.log(e.val());var t=e.val();te[i].creator!==W.a.auth().currentUser.uid&&function(e,t,a,n,o,i,s){var r=W.a.database().ref("/notifications/"+e),l=i.split("/upload/"),c=l[0]+"/upload/t_media_lib_thumb/"+l[1],u={receiverUid:e,creatorUid:a,originalCreatorDisplay:t,creatorDisplayName:n,photoUid:o,photoUrl:c,type:s};r.push(u)}(te[i].creator,te[i].creatorusername,W.a.auth().currentUser.uid,W.a.auth().currentUser.displayName,i,te[i].url,"reply"),ze($);var a,n=_*(t.height/t.width)+.5,o=Object(u.a)($);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.position.y<p.position.y-.001&&Object(E.a)({targets:s.position,y:[{value:s.position.y-n,easing:"easeInOutQuad",duration:750}]})}}catch(b){o.e(b)}finally{o.f()}var r=p.position.y-p.scale.y/2-_*(t.height/t.width)/2-.5,l=Xe(t.url,.1,r,t.creatorusername,t,Y.newreply,X);if(t.object=l,ne[fe]){var d=ne[fe];for(var m in ne[fe]={},ne[fe][e.key]=t,d)ne[fe][m]=d[m];console.log(ne[fe])}else ne[fe]={},ne[fe][e.key]=t,console.log(ne[fe]);ie[fe]=ie[fe]-n;var h=p.scale.y/2,g=p.position.y-h,v=[];if(Object.entries(ne[fe]).forEach((function(e,t){var a=Object(c.a)(e,2),n=(a[0],a[1]);g<h&&(g-=.5,g-=_*(n.height/n.width)/2),v.push(g-p.position.y),g-=_*(n.height/n.width)/2})),se[p.name]){var f=se[p.name];f.scale.x=0,Object(E.a)({targets:f.material,opacity:[{value:0,easing:"easeInOutQuad",duration:200}],complete:function(){H.remove(f)}})}We(0,v,p)}))}))}}},r.append("upload_preset","sunshine"),r.append("tags","browser_upload"),r.append("file",e),s.send(r)}function we(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.a.database().ref("stickerusers").orderByChild("time").limitToLast(10).once("value").then((function(e){return le=[],e.forEach((function(e){console.log("Sticker "+e.val()),le.push(e.val())})),console.log(le),vt(le),Promise.resolve(le)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe(),console.log(t),W.a.database().ref("/testimages/").child(t).once("value").then((function(e){console.log(e),Te([e.val()],void 0,X,0)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe(),console.log(t),W.a.database().ref("/testimages/").orderByChild("creator").equalTo(t).once("value").then((function(e){console.log(e);var t=[];e.forEach((function(e){var a=e.key;console.log(a);var n=e.val();console.log(n),n.key=a,t.push(n)})),t.reverse(),Te(t,void 0,X,0)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return Se.apply(this,arguments)}function Se(){return(Se=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:le=e.sent,console.log("Stickers promise "+le),xe(),W.a.database().ref("testimages").limitToLast(60).once("value").then((function(e){console.log(e);var t=[];e.forEach((function(e){var a=e.key;console.log(a);var n=e.val();console.log(n),n.key=a,t.push(n)})),t.reverse(),Te(t,void 0,V)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t,a,n){ee=e,ae=0,void 0===n?ht():window.scrollTo(0,n),Ne(gt(ee,20,ae),t,a)}function xe(){var e,t=Object(u.a)($);try{for(t.s();!(e=t.n()).done;){var a=e.value;for(var n in a.children){null!=n.geometry&&n.geometry.dispose();try{n.material.map.dispose()}catch(o){}try{n.material.roughnessMap.dispose()}catch(i){}try{n.material.normalMap.dispose()}catch(s){}try{n.material.dispose()}catch(r){}}a.geometry.dispose(),null!=a.material.map&&a.material.map.dispose();try{a.material.roughnessMap.dispose()}catch(l){}try{a.material.normalMap.dispose()}catch(c){}null!=a.material.map&&a.material.map.dispose(),a.material.dispose(),H.remove(a,a.children)}}catch(d){t.e(d)}finally{t.f()}ne={},$=[],oe={},ie={},se={},re={},ce=0,0}var Ue=-1,Re=!0;function Ne(e,t,a){console.log("Generating feed");var n=0;H.getObjectByName("bottomOfFeed")&&(n=H.getObjectByName("bottomOfFeed").position.y);var o,i=Object(u.a)(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;console.log(s),n<0&&(n-=.5,n-=_*(s.height/s.width)/2);var r="sample";s.creatorusername&&(r=s.creatorusername),Xe(s.url,0,n,r,s,Y.feedphoto,a),0===Ue?(Me(_/2+.35,n+_*(s.height/s.width)/2-.05,Re),Re=!Re):3===Ue?Me(-_/2-.3,n+_*(s.height/s.width)/4,Re):5===Ue?(Me(-_/2-.3,n+_*(s.height/s.width)/4,Re),Re=!Re):6===Ue&&(Ue=-1),Ue+=1,n-=_*(s.height/s.width)/2,2===ce&&(n-=.5,n-=_*(3/4)/2.3,n-=_*(3/4)/2.3,1),ce+=1}}catch(c){i.e(c)}finally{i.f()}if(H.getObjectByName("bottomOfFeed")){H.getObjectByName("bottomOfFeed").position.y=n}else{var l=new b.K;l.name="bottomOfFeed",H.add(l),l.position.y=n,$.push(l)}}function Me(e,t,a){var n=me.clone(),o=2*Math.PI,i=1e4*Math.random(),s=.6*Math.random(),r=Math.random()*Math.PI,l=.1*Math.random();a||(o=-o,s=-s),n.position.set(e+s,t,.25),n.rotation.y=n.rotation.y+r,n.scale.set(n.scale.x+l,n.scale.x+l,n.scale.x+l),Object(E.a)({targets:n.rotation,y:[{value:o,easing:"linear",duration:12e4+i}],loop:!0})}function Fe(){if(ze($),$.length>0){var e=-$[0].position.y||window.innerHeight;document.getElementById("root").style.height=100*e+window.innerHeight+"px"}Ce()}function Ce(){var e,t=q.position.y,a=Object(u.a)($);try{for(a.s();!(e=a.n()).done;){var n=e.value;Math.abs(n.position.y-t)<10?(console.log("Loading photo prelim"),Ze(n)):(console.log("Unloading photo prelim"),Le(n))}}catch(o){a.e(o)}finally{a.f()}}function Ze(e){e.url&&(e.loaded||(console.log("Loading photo"),de.load(e.url,(function(t){console.log("texture loaded"),e.material.map=t,e.material.needsUpdate=!0}))),e.loaded=!0)}function Le(e){if(e.url){if(e.loaded)if(null!=e.material.map)e.material.map.dispose(),e.material.map=null,e.material.needsUpdate=!0;e.loaded=!1}}var Qe=!1;function ze(e){e.sort((function(e,t){return e.position.y-t.position.y}))}function Pe(e){if(Qe){if(clearTimeout(Qe),Qe=null,console.log("DOUBLE TAP"),""===e.intersects[0].object.name)return;var t=e.intersects[0].object.worldToLocal(e.intersects[0].point),a={xposition:t.x,yposition:t.y};W.a.database().ref("/testimages/"+e.intersects[0].object.name+"/stars/"+W.a.auth().currentUser.uid).set(a)}else Qe=setTimeout((function(){Qe=null,""!==e.intersects[0].object.name&&(console.log(e.intersects[0].object.position),Object(E.a)({targets:e.intersects[0].object.position,z:[{value:.5,easing:"easeInOutQuad",duration:100},{value:.75,easing:"easeInOutQuad",duration:300,delay:100}],loop:!1,direction:"alternate"}),console.log("are replies visible "+oe[e.intersects[0].object.name]),!1===(oe[e.intersects[0].object.name]||!1)?(oe[e.intersects[0].object.name]=!0,function(e){console.log("Object scale "+e.scale.y);var t=e.scale.y/2,a=e.position.y-t,n=[];console.log("Starting value "+t);var o=[];ne[e.name]&&(o=ne[e.name]);Object(E.a)({targets:e.position,x:[{value:-.2,easing:"easeInOutQuad",duration:300}]}),Object.entries(o).forEach((function(o,i){var s=Object(c.a)(o,2),r=s[0],l=s[1],u="#"+pt("E6E3DA","3773B3",1-1/(i+2));console.log(r,l),console.log("Y value "+a),H.attach(l.object),a<t&&(a-=.5,a-=_*(l.height/l.width)/2),n.push(a-e.position.y),de.crossOrigin="Anonymous",de.load(j.a,(function(e){console.log("TEXTURE LOADED",e),de.load(l.url,(function(e){console.log("texture loaded")}))})),Object(E.a)({targets:l.object.scale,y:[{value:_*(l.height/l.width),easing:"easeInOutQuad",duration:175,delay:100}],complete:function(){var e=.1*Math.random()/2,t=200*Math.random();l.animations=qe(l.object,e,t);var a=He(l.creatorusername,u,l.object,l.creator);a.material.opacity=0,Object(E.a)({targets:a.material,opacity:[{value:1,easing:"easeInOutQuad",duration:750}]})}}),Object(E.a)({targets:l.object.position,y:[{value:a,easing:"easeInOutQuad",duration:175,delay:100}],x:[{value:.1,easing:"easeInOutQuad",duration:175,delay:100}],complete:function(){$.push(l.object),de.load(j.a,(function(e){console.log("TEXTURE LOADED",e),de.load(l.url,(function(t){console.log("texture loaded");var a=new b.N;a.map=t,a.roughnessMap=e,l.object.material=a}))}))}}),Object(E.a)({targets:l.object.position,z:[{value:.25,easing:"easeInOutQuad",duration:50},{value:.75,easing:"easeInOutQuad",duration:300,delay:200}]}),console.log(a),a-=_*(l.height/l.width)/2})),We(a-e.position.y,n,e);var i=0;ze($);var s,r=Object(u.a)($);try{for(r.s();!(s=r.n()).done;){if((m=s.value).position.y<e.position.y&&""!=e.name){i=e.scale.y/2;break}}}catch(p){r.e(p)}finally{r.f()}ie[e.name]=a-e.position.y+i;var l,d=Object(u.a)($.reverse());try{for(d.s();!(l=d.n()).done;){var m;(m=l.value).position.y<e.position.y&&Object(E.a)({targets:m.position,y:[{value:m.position.y+a-e.position.y+i,easing:"easeInOutQuad",duration:750}]})}}catch(p){d.e(p)}finally{d.f()}re[e.name]?De(re[e.name]):function(e,t){var a=function(){var e=new b.X;e.moveTo(.425-.1,.1-.35),e.quadraticCurveTo(.425,.45-.35,.425-.5,.5-.35),e.lineTo(.425-.5,.25),e.lineTo(-.325,.4-.35),e.lineTo(.425-.5,.2-.35),e.lineTo(.425-.5,.3-.35),e.quadraticCurveTo(.425-.2,.3-.35,.425-.1,.1-.35);var t=e.getPoints(),a=(new b.f).setFromPoints(t),n=new b.z({color:0});return new b.y(a,n)}();re[t]=a,H.add(a),a.position.set(0,e,.25),De(a);a.scale.set(.55,.55,.55),$.push(a),Object(E.a)({targets:a.rotation,y:[{value:2*Math.PI,easing:"linear",duration:8e3}],loop:!0}),a.on("click",(function(){fe=t,document.getElementById("reply-input").click()}))}(e.position.y,e.name)}(e.intersects[0].object),console.log("Reply false")):!0===oe[e.intersects[0].object.name]&&(console.log("Reply true"),oe[e.intersects[0].object.name]=!1,function(e){var t=[];ne[e.name]&&(t=ne[e.name]);a=re[e.name],Object(E.a)({targets:a.position,x:[{value:0,easing:"easeInOutQuad",duration:350,delay:100}],z:[{value:.25,easing:"easeInOutQuad",duration:350,delay:100}]}),Object(E.a)({targets:e.position,x:[{value:0,easing:"easeInOutQuad",duration:300}]}),Object(E.a)({targets:se[e.name].scale,y:[{value:0,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(E.a)({targets:se[e.name].position,x:[{value:se[e.name].position.x+.1,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(E.a)({targets:se[e.name].material,opacity:[{value:0,easing:"easeInOutQuad",duration:175,delay:100}],complete:function(){H.remove(se[e.name])}});var a;var n=e.position.y-.01;Object.entries(t).length>0&&(n=Object.entries(t)[Object.entries(t).length-1][1].object.position.y);var o,i=Object(u.a)($);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.position.y<n&&Object(E.a)({targets:s.position,y:[{value:s.position.y-ie[e.name],easing:"easeInOutQuad",duration:400}]})}}catch(r){i.e(r)}finally{i.f()}Object.entries(t).forEach((function(t,a){var n=Object(c.a)(t,2),o=(n[0],n[1]);!function(e,t){var a=0;for(;a<e.length;)e[a]===t?e.splice(a,1):++a}($,o.object),e.attach(o.object);var i=new b.N;i.color=new b.j(Ge(a)),o.object.material=i,o.object.material.needsUpdate=!0;var s,l=Be(a),d=Object(u.a)(o.animations||[]);try{for(d.s();!(s=d.n()).done;){s.value.pause()}}catch(r){d.e(r)}finally{d.f()}var m,p=Object(u.a)(o.object.children);try{for(p.s();!(m=p.n()).done;){var h=m.value;Object(E.a)({targets:h.material,opacity:[{value:0,easing:"easeInOutQuad",duration:300}],complete:function(){o.object.remove(h)}})}}catch(r){p.e(r)}finally{p.f()}Object(E.a)({targets:o.object.position,x:[{value:l.x}],y:[{value:l.y}],z:[{value:l.z}],easing:"easeInOutQuad",duration:175,delay:100,complete:function(){o.object.rotation.set(0,0,0)}}),Object(E.a)({targets:o.object.scale,x:[{value:1}],y:[{value:1}],z:[{value:1}],easing:"easeInOutQuad",duration:175,delay:100})}))}(e.intersects[0].object)))}),300)}function De(e){Object(E.a)({targets:e.position,x:[{value:_/2+.08,easing:"easeInOutQuad",duration:350,delay:100}],z:[{value:.45,easing:"easeInOutQuad",duration:350,delay:100}]})}function We(e,t,a){var n,o=new b.X,i=Object(u.a)(t.entries());try{for(i.s();!(n=i.n()).done;){var s=Object(c.a)(n.value,2),r=s[0],l=s[1];r!==t.length-1?(o.lineTo(0,l+.15),o.quadraticCurveTo(0,l,.25,l),o.quadraticCurveTo(0,l,0,l-.15),console.log("last midpoint"+l)):(o.lineTo(0,l+.15),o.quadraticCurveTo(0,l,.25,l),console.log("last midpoint"+l))}}catch(v){i.e(v)}finally{i.f()}var d=o.getPoints(),m=(new b.f).setFromPoints(d),p=new b.z({color:0}),h=new b.y(m,p),g=new b.K;H.add(g),g.position.set(-_/2,a.position.y,.45),g.add(h),g.scale.y=0,g.scale.x=0,$.push(g),se[a.name]=g,g.material.opacity=0,Object(E.a)({targets:g.scale,y:[{value:1,easing:"easeInOutQuad",duration:175,delay:100}],x:[{value:1,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(E.a)({targets:g.position,x:[{value:-_/2-.1,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(E.a)({targets:g.material,opacity:[{value:1,easing:"easeInOutQuad",duration:175,delay:100}]})}function Ge(e){return e+=1,parseInt("0x"+pt("3773B3","E6E3DA",1/(1.4*e)))}function Be(e){return{x:.03-1/(1.5*(e+=1))*.03,y:-1/(1.5*e)*-.2-.2,z:-1/(1.5*e)*-.1-.1}}function Je(e){e.material.opacity=0,Object(E.a)({targets:e.material,opacity:[{value:1,easing:"easeInOutQuad",duration:350}]})}function Ye(e,t,a,n){if(e.getObjectByName(t)){var o=e.getObjectByName(t);return o.position.x=a,o.position.y=n,void Je(o)}var i=new b.Z(.1,.1,.1),s=new b.N;s.metalness=.5,s.roughness=.1,s.transparent=!0,de.load(S.a,(function(o){s.map=o,s.roughnessMap=o,de.load(x.a,(function(o){s.alphaMap=o;var r=new b.K(i,s);e.add(r),r.position.set(a,n,1e-4),r.name=t,r.scale.set(1/e.scale.x,1/e.scale.y,1),Je(r)}))}))}function Xe(e,t,a,n,o,i,s,r,l,u){var d=new b.d(1,1,1e-6),m=new b.K(d),p=new b.N;m.material=p;var h=o.height,g=o.width,v=o.key,f=new b.qb;if(f.crossOrigin="Anonymous",f.load(j.a,(function(e){console.log("TEXTURE LOADED",e),m.material.roughnessMap=e,m.material.needsUpdate=!0})),m.scale.y=_*(h/g),m.scale.x=_,m.castShadow=!0,m.name=v,H.add(m),m.position.y=a,m.position.x=t,s===K){m.position.z=5,m.material.opacity=0,Object(E.a)({targets:m.position,z:[{value:.75,easing:"spring(1, 80, 10, 0)",duration:800+100*-a}]}),Object(E.a)({targets:m.material,opacity:[{value:1,easing:"easeInOutQuad",duration:800+10*-a}]});var y=.1*Math.random()/2,w=200*Math.random();qe(m,y,w)}(i!==Y.feedphoto&&i!==Y.newphoto||(m.url=e,m.loaded=!1,function(e,t){var a=W.a.database().ref("testimages/"+t+"/stars");a.on("child_added",(function(t){console.log(t),Ye(e,t.key,t.val().xposition,t.val().yposition)})),a.on("child_changed",(function(t){console.log(t),Ye(e,t.key,t.val().xposition,t.val().yposition)}))}(m,v),function(e){e.cursor="pointer",e.on("click",(function(e){console.log(e),Pe(e)}))}(m),He(n,"#fe5b30",m,o.creator)),s===V&&(m.position.z=.75,m.position.x=t-8,m.position.y=a+1.5,m.rotation.z=-.5,Object(E.a)({targets:m.rotation,z:[{value:0}],easing:"spring(1, 80, 20, 0)",duration:3e3}),Object(E.a)({targets:m.position,x:[{value:t}],easing:"spring(1, 80, 20, 0)",duration:1800,delay:E.a.random(0,150)}),Object(E.a)({targets:m.position,y:[{value:a}],easing:"spring(1, 80, 20, 0)",duration:1800,complete:function(){var e=.1*Math.random()/2,t=200*Math.random();qe(m,e,t)}})),s===X&&(m.position.x=t+8,m.position.y=a+.75,m.position.z=.75,m.rotation.z=-.5,Object(E.a)({targets:m.rotation,z:[{value:0}],easing:"spring(1, 80, 20, 0)",duration:2e3}),Object(E.a)({targets:m.position,x:[{value:t}],easing:"spring(1, 80, 20, 0)",duration:1800,delay:E.a.random(0,150)}),Object(E.a)({targets:m.position,y:[{value:a}],easing:"spring(1, 80, 20, 0)",duration:1800,complete:function(){var e=.1*Math.random()/2,t=200*Math.random();qe(m,e,t)}})),i===Y.newreply)&&(f.load(e,(function(e){console.log("TEXTURE LOADED",e),m.material.map=e,m.material.needsUpdate=!0})),He(n,"#"+pt("E6E3DA","3773B3",.25),m,o.creator));return $.push(m),te[v]=o,o.replies&&(console.log("FOUDN REPLIES"),Object.entries(o.replies).reverse().forEach((function(e,t){var a=Object(c.a)(e,2),n=a[0],o=a[1];console.log("".concat(t,": ").concat(n," = ").concat(o));var i=function(e,t){var a=new b.d(1,1,1e-6),n=Ge(t),o=new b.N({color:n}),i=new b.K(a,o);i.castShadow=!0,e.add(i);var s=Be(t);return i.position.x=s.x,i.position.y=s.y,i.position.z=s.z,console.log(i.position.y),i}(m,t);console.log(i),o.object=i,ne[v]||(ne[v]={}),ne[v][n]=o,console.log(ne)}))),Fe(),m}function Ve(e){var t;console.log(e),function(e){W.a.database().ref("/following/"+W.a.auth().currentUser.uid+"/"+e).set(!0)}(e),t=e,W.a.database().ref("/testimages/").orderByChild("creator").equalTo(t).once("value",(function(e){for(var t in e.val())W.a.database().ref("privatefeeds/"+W.a.auth().currentUser.uid+"/"+t).set(!0)}))}function Ke(e){var t;!function(e){W.a.database().ref("/following/"+W.a.auth().currentUser.uid).child(e).remove()}(e),t=e,W.a.database().ref("/testimages/").orderByChild("creator").equalTo(t).once("value",(function(e){for(var t in e.val())W.a.database().ref("privatefeeds/"+W.a.auth().currentUser.uid).child(t).remove()}))}function He(e,t,a,n){var o=function(e,t,a,n,o,i,s){var r=document.createElement("canvas"),l=r.getContext("2d");r.width=t,r.height=a,l.fillStyle=s,l.beginPath(),l.arc(t/2,a/2,2*n,0,2*Math.PI,!0),function(e,t){var a=new Image;a.onload=function(){e.drawImage(a,t/4,t/4,t/2,t/2)},a.src=R.a}(l,t),l.fill(),l.fillStyle="#00000f",l.font="italic 30px Times New Roman",l.fillTextCircle(e+" ",t,a,n/3*1.8,-Math.PI/2),l.stroke();var c=new b.pb(r);c.minFilter=b.C,c.needsUpdate=!0;var u=new b.h(i/2,20),d=(new b.N({color:16669488,opacity:1}),new b.N({side:b.n,map:c,transparent:!0,opacity:1})),m=new b.K(u,d);return m.castShadow=!0,m}(e,150,150,75,Math.PI,.45,t);return a.add(o),o.cursor="pointer",o.on("click",(function(t){console.log(t),Object(E.a)({targets:a.rotation,x:a.rotation.x+.05,y:a.rotation.y+.12,easing:"easeOutElastic",duration:700,direction:"alternate",complete:function(){}}),Object(E.a)({targets:a.position,x:a.position.x-.25,easing:"easeInQuad",duration:250,complete:function(){}}),setTimeout((function(){window.App.goForward(e,n,null,je,n,$)}),250)})),o.scale.y=1/a.scale.y,o.scale.x=1/a.scale.x,o.scale.z=1/a.scale.z,o.position.z=.05,o.position.y=-_/4,o.position.x=_/4,o}function qe(e,t,a){return[Object(E.a)({targets:e.rotation,x:[{value:-.015-t/2,easing:"easeInOutQuad",duration:3500+a},{value:.015+t/2,easing:"easeInOutQuad",duration:3500+a}],loop:!0,direction:"alternate"}),Object(E.a)({targets:e.rotation,y:[{value:-.01-t/2,easing:"easeInOutQuad",duration:4e3-a},{value:.01+t/2,easing:"easeInOutQuad",duration:4e3-a}],loop:!0,direction:"alternate",duration:4e3}),Object(E.a)({targets:e.rotation,z:[{value:-.002-t/6,easing:"easeInOutQuad",duration:4e3-a},{value:.002+t/6,easing:"easeInOutQuad",duration:4e3-a}],loop:!0,direction:"alternate",duration:4e3})]}if(CanvasRenderingContext2D.prototype.fillTextCircle=function(e,t,a,n,o){Math.PI,e.length;this.save(),this.translate(t/2,a/2),this.rotate(o);for(var i=0;i<e.length;i++)this.save(),this.rotate(.35*i),this.fillText(e[i],0,-n),this.restore();this.restore()},"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)try{for(var _e in document.styleSheets){var $e=document.styleSheets[_e];if($e.rules)for(var et=$e.rules.length-1;et>=0;et--)$e.rules[et].selectorText&&$e.rules[et].selectorText.match(":hover")&&$e.deleteRule(et)}}catch(ft){}var tt=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){q=new b.Y(50,window.innerWidth/window.innerHeight,.1,1e3);var e=new b.wb({alpha:!0});e.setClearColor(16777215,0),e.setPixelRatio(Math.min(devicePixelRatio,2)),e.shadowMap.enabled=!0,e.shadowMapSoft=!0,e.shadowMap.type=b.W,e.setSize(window.innerWidth,window.innerHeight),this.mount.appendChild(e.domElement);var t=new b.Z(800,800,800);(n=new b.jb({color:6710886,side:b.n})).opacity=.2;var a=new b.K(t,n);a.position.z=0,a.receiveShadow=!0,H.add(a),H.add(q),q.position.z=5;new G.a(e,H,q);ke();var n,o=(new b.l).load([z.a,z.a,z.a,z.a,z.a,z.a]),i=de.load(C.a);t=new b.d(2,2,.1);(n=new b.N).normalMap=i,n.normalScale=new b.tb(.4,.4),n.normalMapType=b.U,n.envMap=o,n.metalness=.9,n.envMap.mapping=b.k;var s=new b.K(t,n);s.position.set(0,0,1.75),Object(E.a)({targets:s.rotation,x:[{value:2*Math.PI,easing:"linear",duration:6e3}],y:[{value:2*Math.PI,easing:"linear",duration:6e3}],loop:!0});var r=new b.m(16773595);r.intensity=1,r.castShadow=!0;r.shadow.mapSize.width=2560,r.shadow.mapSize.height=2560;r.shadow.camera.left=-10,r.shadow.camera.right=10,r.shadow.camera.top=10,r.shadow.camera.bottom=-10,r.shadow.radius=10,r.target.position.set(0,0,0),q.add(r),r.position.set(0,5.25,10),q.add(r.target);var l=new b.m(16773595);l.intensity=.25,q.add(l),l.position.set(0,-9.5,10);!function t(){requestAnimationFrame(t),e.render(H,q)}();var c=function(e){var t,a,n,o,i=(e=e||{}).delay||50;function s(){t=null,o=0}return s(),function(){return a=window.scrollY,null!=t&&(o=a-t),t=a,clearTimeout(n),n=setTimeout(s,i),o}}();window.onscroll=function(){!function(){Fe();var e=document.body.scrollTop||document.documentElement.scrollTop;document.documentElement.scrollHeight,document.documentElement.clientHeight;q.position.y=0-e/100,Math.abs(c())}(),Ce(),console.log(e.info);var t=document.body.scrollHeight;window.scrollY+window.innerHeight>=t&&(console.log("at the bottom"),Ne(gt(ee,20,ae+=1),0,V))};var u=null;w()(window).resize((function(){null!=u&&window.clearTimeout(u),u=window.setTimeout((function(){q.aspect=window.innerWidth/window.innerHeight,q.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)}),200)}));!function(e){var t;e&&"function"===typeof e&&window.addEventListener("scroll",(function(a){window.clearTimeout(t),t=setTimeout((function(){e()}),66)}),!1)}((function(){0}))}},{key:"render",value:function(){var e=this;return A.a.createElement("div",{className:"backgroundcanvas",ref:function(t){return e.mount=t}})}}]),a}(O.Component);function at(e,t,a,n,o){a&&a.classList.add("sentBack");var i={div:a,photosList:e,stickers:t,title:n,scroll:window.scrollY,uid:o};ue.push(i),window.App.setState({minimalUI:!0})}var nt=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={formDisplay:!1,strokeCount:0},e.dismissForm=e.dismissForm.bind(Object(o.a)(e)),e.stickerForm=A.a.createRef(),e.accountForm=A.a.createRef(),e.signOut=e.signOut.bind(Object(o.a)(e)),e.addStroke=e.addStroke.bind(Object(o.a)(e)),e.clearStroke=e.clearStroke.bind(Object(o.a)(e)),e.requestUserPhotos=e.requestUserPhotos.bind(Object(o.a)(e)),e}return Object(s.a)(a,[{key:"addStroke",value:function(){this.setState({strokeCount:this.state.strokeCount+1}),console.log(this.state.strokeCount)}},{key:"clearStroke",value:function(){this.setState({strokeCount:0})}},{key:"dismissForm",value:function(){this.state.strokeCount>0&&this.stickerForm.current.submit(),this.setState({formDisplay:!1}),this.props.dismissAccountForm(),this.clearStroke(),this.props.maximizeUI()}},{key:"showForm",value:function(){this.setState({formDisplay:!0})}},{key:"signOut",value:function(){ge(),this.setState({formDisplay:!1}),this.props.maximizeUI(),this.props.dismissAccountForm(),this.props.loginForm.current.setState({success:!1})}},{key:"requestUserPhotos",value:function(e,t){this.props.goForward(t,e,this.accountForm.current,je,e,$),this.props.dismissAccountForm()}},{key:"requestSinglePhoto",value:function(e,t){this.props.goForward(t+"'s photo",e,this.accountForm.current,Ae,e,$),this.props.dismissAccountForm()}},{key:"render",value:function(){var e=this;return A.a.createElement("div",{ref:this.accountForm,className:"accountform "+(this.state.formDisplay?"accountformopen":"")},A.a.createElement("div",{className:"stickerheader"},A.a.createElement("div",{className:"ratio"},"  ",A.a.createElement("svg",{viewBox:"0 0 4 3"}),A.a.createElement(ot,{formDisplay:this.state.formDisplay,ref:this.stickerForm,addStroke:this.addStroke})),A.a.createElement("div",{class:"row"},A.a.createElement("div",{class:"block"},A.a.createElement("h1",null,A.a.createElement("span",null,A.a.createElement("div",{className:"usertext"},this.props.loggedInUser.username||"")))))),A.a.createElement(ct,{requestSinglePhoto:this.requestSinglePhoto.bind(this),setCurrentTitle:this.props.setCurrentTitle,accountForm:this.accountForm.current,currentTitle:this.props.currentTitle}),A.a.createElement(rt,{requestUserPhotos:this.requestUserPhotos.bind(this),setCurrentTitle:this.props.setCurrentTitle,accountForm:this.accountForm.current,currentTitle:this.props.currentTitle}),A.a.createElement("div",{className:"toolbarcontainer"},A.a.createElement("button",{id:"title",onClick:function(){return e.requestUserPhotos(W.a.auth().currentUser.uid,W.a.auth().currentUser.displayName)}},"\u25b7 View Photos"),A.a.createElement("button",{id:"title",onClick:this.signOut},"\u263d Sign Out")))}}]),a}(O.Component);var ot=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).sigCanvas=A.a.createRef(),e.undo=e.undo.bind(Object(o.a)(e)),e.submit=e.submit.bind(Object(o.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.sigCanvas.current.getCanvas().getContext("2d"),a=new Image;a.crossOrigin="anonymous",a.onload=function(){t.drawImage(a,0,0,400,300)},a.src=M.a,W.a.auth().onAuthStateChanged((function(t){W.a.database().ref("users/"+W.a.auth().currentUser.uid+"/stickerimage").once("value").then((function(t){console.log("saved image"),console.log(t.val());var a=e.sigCanvas.current.getCanvas().getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.onload=function(){a.drawImage(n,0,0,400,300)},n.src=t.val()}))}))}},{key:"undo",value:function(){var e=this.sigCanvas.current.getCanvas().getContext("2d"),t=new Image;t.crossOrigin="anonymous",t.onload=function(){e.drawImage(t,0,0,400,300)},t.src=M.a,W.a.database().ref("users/"+W.a.auth().currentUser.uid+"/stickerimage").remove()}},{key:"submit",value:function(){!function(e){var t=new XMLHttpRequest,a=new FormData;t.open("POST","https://api.cloudinary.com/v1_1/cathedralapp/upload",!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onreadystatechange=function(e){if(4==t.readyState&&200==t.status){var a=JSON.parse(t.responseText);console.log("UPLOADED");var n=a.secure_url;console.log(n),W.a.database().ref("users/"+W.a.auth().currentUser.uid+"/stickerimage").set(n),W.a.database().ref("stickerusers/"+W.a.auth().currentUser.uid+"/stickerimage").set(n)}},a.append("upload_preset","sunshinesticker"),a.append("tags","browser_upload"),a.append("file",e),t.send(a)}(this.sigCanvas.current.toDataURL("image/png"));var e=this.sigCanvas.current.toData();console.log(e)}},{key:"render",value:function(){return A.a.createElement("div",{className:"signatureform "+(this.props.formDisplay?"canvasopen":"")},A.a.createElement(J.a,{onEnd:this.props.addStroke,ref:this.sigCanvas,canvasProps:{width:400,height:300,className:"sigCanvas"}}),A.a.createElement("div",{className:"stickerbuttoncontainer"},A.a.createElement("button",{onClick:this.undo},"\u27f2")))}}]),a}(O.Component),it=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1,success:!1},e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePassword=e.handlePassword.bind(Object(o.a)(e)),e.handleUpload=e.handleUpload.bind(Object(o.a)(e)),e}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t;console.log("handling chnage");var a=this;a.setState((t={},Object(n.a)(t,e.target.name,e.target.value),Object(n.a)(t,"errortext",""),t),(function(){W.a.database().ref("/users/").orderByChild("username").equalTo(this.state.username).once("value").then((function(e){var t=[];e.forEach((function(e){var a=e.val();console.log(a),t.push(a)})),0===t.length?a.setState({loginregtext:"i'm new",usernameexists:!1}):a.setState({loginregtext:"login",usernameexists:!0})}))}))}},{key:"handleRegisterLogin",value:function(e){var t=this,a=this.state.username,n=this.state.password;if(this.setState({tryingtologin:!0}),this.state.usernameexists)console.log("username does exist, loggin in"),W.a.database().ref("/users/").orderByChild("username").equalTo(this.state.username).once("value").then((function(e){console.log("checking username against database");var a="";e.forEach((function(e){console.log(e.key),console.log(e.value),a=e.key})),console.log(a),W.a.auth().signInWithEmailAndPassword(a+"@recworld.app",n).then((function(e){console.log("login success"),console.log(e),t.props.signIn(),t.setState({username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1}),he(),t.setState({success:!0}),t.props.handleUpload()})).catch((function(e){e.code;var a=e.message;t.setState({errortext:a})}))}));else{e.preventDefault(),W.a.auth().currentUser.updateProfile({displayName:a}),W.a.database().ref("users/"+W.a.auth().currentUser.uid).set({username:a});var o=W.a.auth.EmailAuthProvider.credential(W.a.auth().currentUser.uid+"@recworld.app",n);W.a.auth().currentUser.linkWithCredential(o).then((function(e){var n=e.user;console.log("Anonymous account successfully upgraded",n),t.props.register(a),t.setState({username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1}),he(),t.setState({success:!0}),t.props.handleUpload()})).catch((function(e){t.setState({errortext:e.message}),console.log("enteredusername"),console.log("Error upgrading anonymous account",e)}))}}},{key:"handlePassword",value:function(e){var t;this.setState((t={},Object(n.a)(t,e.target.name,e.target.value),Object(n.a)(t,"errortext",""),t))}},{key:"handleCancel",value:function(){this.setState({username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1}),Object(E.a)({targets:".logindialog",top:[{value:"200%",easing:"easeInOutQuad",duration:600}]}),this.props.closeloginform()}},{key:"handleUpload",value:function(){ve()}},{key:"render",value:function(){var e,t;return A.a.createElement("div",{className:"logindialog"},A.a.createElement("div",{className:"logindialogimagecontainer"},A.a.createElement("span",null,A.a.createElement("span",null,A.a.createElement("img",{id:"loginimage",className:"logindialogimage",src:L.a,"object-fit":"scale-down"})))),A.a.createElement("div",{className:"loginform",style:{maxHeight:this.state.success?"0px":"800px",overflow:this.state.success?"hidden":"visible"}},A.a.createElement("div",{class:"floating-label"},A.a.createElement("input",(e={className:"floating-input",type:"text",placeholder:" "},Object(n.a)(e,"type","text"),Object(n.a)(e,"name","username"),Object(n.a)(e,"onBlur",this.handleChange),Object(n.a)(e,"onChange",this.handleChange),Object(n.a)(e,"value",this.state.username),e)),A.a.createElement("span",{class:"highlight"}),A.a.createElement("label",null,"USERNAME")),A.a.createElement("div",{class:"floating-label"},A.a.createElement("input",(t={className:"floating-input passwordinput",type:"password",placeholder:" ",onChange:this.handlePassword},Object(n.a)(t,"type","text"),Object(n.a)(t,"name","password"),Object(n.a)(t,"value",this.state.password),t)),A.a.createElement("span",{class:"highlight"}),A.a.createElement("label",null,"PASSWORD")),A.a.createElement("span",null," ",this.state.errortext),A.a.createElement("div",{className:"modalbuttons"},A.a.createElement("button",{onClick:this.handleCancel.bind(this),key:"cancel button",className:"cancelbutton"},"cancel"),A.a.createElement("button",{onClick:this.handleRegisterLogin.bind(this),className:"submitbutton "+(this.state.username.trim()&&this.state.password.trim()?"submitshake":"")},A.a.createElement("span",{style:{display:this.tryingtologin?"inherit":"none"},className:"material-icons rotating"},"work"),this.state.loginregtext))),A.a.createElement("div",{className:"submitform"},A.a.createElement("div",{className:"modalbuttons"},A.a.createElement("button",{onClick:this.handleCancel.bind(this),key:"cancel button",className:"cancelbutton"},"Cancel"),A.a.createElement("button",{onClick:this.handleUpload.bind(this),className:"uploadbutton ",id:"uploadbutton"},A.a.createElement("img",{src:"/images/8-Point-Star_black_void.svg"}),"Send"))),A.a.createElement("div",{className:"backgroundlogin "+(this.state.success?"backgroundloginfadein":"")}))}}]),a}(O.Component),st=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={displayName:"",isFollowing:!0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("short user "+this.props.uid),W.a.database().ref("users/"+this.props.uid).on("value",(function(t){e.setState({displayName:t.val().username||""})})),W.a.database().ref("following/"+W.a.auth().currentUser.uid+"/"+this.props.uid).on("value",(function(t){t.exists()?e.setState({isFollowing:!0}):e.setState({isFollowing:!1})}))}},{key:"requestUserPhotos",value:function(){at(ee,le,this.props.accountForm,this.props.currentTitle),je(this.props.uid),this.props.setCurrentTitle(this.state.displayName)}},{key:"handleFollow",value:function(){Ve(this.props.uid)}},{key:"handleUnfollow",value:function(){Ke(this.props.uid)}},{key:"render",value:function(){var e=this;return A.a.createElement("div",{className:"shortuser",id:this.props.uid},A.a.createElement("div",{onClick:function(){return e.props.requestUserPhotos(e.props.uid,e.state.displayName)},className:"shortusertext"},this.state.displayName),A.a.createElement("div",{className:"shortuserbuttoncontainer"},A.a.createElement("button",{style:this.state.isFollowing?{}:{display:"none"},onClick:this.handleUnfollow.bind(this),className:"shortuserbutton plus"},"\uff0d"),A.a.createElement("button",{style:this.state.isFollowing?{display:"none"}:{},onClick:this.handleFollow.bind(this),className:"shortuserbutton plus"},"\uff0b"),A.a.createElement("button",{className:"shortuserbutton",onClick:function(){return e.props.requestUserPhotos(e.props.uid,e.state.displayName)}},"\u25b7")))}}]),a}(O.Component),rt=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={uidList:[],menuOpen:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){function e(e,t){W.a.database().ref("following/"+t).once("value",(function(t){var a=[];console.log("Loading new followers"),t.forEach((function(e){a.push(e.key),console.log(e.key)})),e.setState({uidList:a})}))}var t=this;W.a.auth().onAuthStateChanged((function(a){e(t,a.uid),W.a.database().ref("following/"+a.uid).on("child_added",(function(n){e(t,a.uid)}))}))}},{key:"toggleMenu",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"render",value:function(){var e=this,t=this.state.uidList.map((function(t){return A.a.createElement(st,{requestUserPhotos:e.props.requestUserPhotos,setCurrentTitle:e.props.setCurrentTitle,accountForm:e.props.accountForm,currentTitle:e.props.currentTitle,uid:t,key:t})}));return A.a.createElement("div",{className:"shortuserlist"},A.a.createElement("div",{onClick:function(){return e.toggleMenu()},className:"listtitle"},A.a.createElement("div",null),"FOLLOWING ",A.a.createElement("div",{className:"arrow "+(this.state.menuOpen?"arrowrotate":"")},"\u25be")),A.a.createElement("div",{className:"list "+(this.state.menuOpen?"listexpanded":"")},t),A.a.createElement("div",{className:"divider"}))}}]),a}(O.Component),lt=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={displayName:"",isFollowing:!0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return A.a.createElement("div",{className:"shortuser",id:this.props.uid},A.a.createElement("img",{className:"notificationImage",src:this.props.notification.photoUrl}),A.a.createElement("div",{onClick:function(){return e.props.requestSinglePhoto(e.props.notification.photoUid,e.props.notification.originalCreatorDisplay||"")},className:"shortusertext"},this.props.notification.creatorDisplayName," replied"),A.a.createElement("div",{className:"shortuserbuttoncontainer"},A.a.createElement("button",{className:"shortuserbutton",onClick:function(){return e.props.requestSinglePhoto(e.props.notification.photoUid,e.props.notification.originalCreatorDisplay||"")}},"\u25b7")))}}]),a}(O.Component),ct=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={notificationList:[],menuOpen:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"toggleMenu",value:function(){this.setState({menuOpen:!this.state.menuOpen});var e=this;W.a.database().ref("notifications/"+W.a.auth().currentUser.uid).limitToLast(50).once("value",(function(t){console.log("Notification"),console.log(t.val());var a=[];t.forEach((function(e){a.push(e.val())})),e.setState({notificationList:a.reverse()})}))}},{key:"render",value:function(){var e=this,t=this.state.notificationList.map((function(t){return A.a.createElement(lt,{requestSinglePhoto:e.props.requestSinglePhoto,currentTitle:e.props.currentTitle,notification:t})}));return A.a.createElement("div",{className:"shortuserlist"},A.a.createElement("div",{onClick:function(){return e.toggleMenu()},className:"listtitle"},A.a.createElement("div",null),"NOTIFICATIONS ",A.a.createElement("div",{className:"arrow "+(this.state.menuOpen?"arrowrotate":"")},"\u25be")),A.a.createElement("div",{className:"list "+(this.state.menuOpen?"listexpanded":"")},t),A.a.createElement("div",{className:"divider"}))}}]),a}(O.Component);var ut="submit",dt=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={currentusername:"",currentuid:"",loginformopen:!1,loginbuttonvisible:!1,isAnonymous:!0,loggedInUser:{},currentUser:{},currentTitle:"",currentTitleUid:"",minimalUI:!1,accountFormOpen:!1,currentTitleUidFollowing:!0},window.App=Object(o.a)(n),n.backTitle=A.a.createRef(),n.loginForm=A.a.createRef(),n.accountForm=A.a.createRef(),n.goBack=n.goBack.bind(Object(o.a)(n)),n.submitInput=A.a.createRef(),n.replyInput=A.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;W.a.auth().onAuthStateChanged((function(t){if(t){console.log("AUTH STATE CHANGED"),console.log(t);var a=t.isAnonymous,n=t.uid;t.displayName;console.log(JSON.stringify(W.a.auth().currentUser)),e.setState({isAnonymous:a,currentUser:JSON.stringify(W.a.auth().currentUser)},(function(){})),t.isAnonymous,t.isAnonymous||W.a.database().ref("users/"+n).on("value",(function(t){console.log("firebase user ref"),console.log(t.val()),e.setState({loggedInUser:t.val()})}))}else W.a.auth().signInAnonymously().catch((function(e){e.code;var t=e.message;console.log(t)}))}))}},{key:"loginFormShow",value:function(){this.setState({loginformopen:!0})}},{key:"loginFormHide",value:function(){this.setState({loginformopen:!1})}},{key:"register",value:function(e){this.setState({currentusername:e,loginformopen:!1})}},{key:"signIn",value:function(){this.setState({loginformopen:!1})}},{key:"requestPrivateFeed",value:function(){xe(),W.a.database().ref("/privatefeeds/"+W.a.auth().currentUser.uid).limitToLast(60).once("value").then((function(e){console.log(e);var t=[],a=0,n=0;e.forEach((function(){n+=1})),console.log("Snapshot length"),console.log(n),e.forEach((function(e){var o=e.key;console.log(o),W.a.database().ref("/testimages/"+o).once("value",(function(e){if(a+=1,e.val()){var i=e.val();console.log(i),i.key=o,t.push(i)}a===n&&(t.reverse(),Te(t,void 0,V))}))}))}))}},{key:"requestPublicFeed",value:function(){ke()}},{key:"signOut",value:function(){ge()}},{key:"showAccountForm",value:function(){this.minizeUI(),this.accountForm.current.showForm(),this.setState({accountFormOpen:!0})}},{key:"dismissAccountForm",value:function(){this.setState({accountFormOpen:!1})}},{key:"goBack",value:function(){var e=ue.pop(),t=!1;void 0!==e&&(!function(e){var t,a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;Object(E.a)({targets:n.rotation,z:[{value:.15}],easing:"spring(1, 80, 20, 0)",duration:3e3}),Object(E.a)({targets:n.position,x:[{value:n.position.x+5,easing:"spring(1, 80, 20, 0)",duration:1e5,delay:E.a.random(0,150)}],y:[{value:n.position.y-1.5,easing:"spring(1, 80, 20, 0)",duration:1e5}]})}}catch(o){a.e(o)}finally{a.f()}}($),setTimeout((function(){xe(),Te(e.photosList,e.stickers,V,e.scroll)}),400),this.setCurrentTitle(e.title,e.uid),e.div&&(e.div.classList.remove("sentBack"),e.div.className.includes("accountform")&&(t=!0,this.setState({accountFormOpen:!0})))),0!==ue.length||t||this.setState({minimalUI:!1,currentTitle:"",currentTitleUid:""})}},{key:"goForward",value:function(e,t,a,n,o,i){at(ee,le,a,this.state.currentTitle,this.state.currentTitleUid),function(e){var t,a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;Object(E.a)({targets:n.rotation,z:[{value:-.15}],easing:"spring(1, 80, 20, 0)",duration:3e3}),Object(E.a)({targets:n.position,x:[{value:n.position.x-5,easing:"spring(1, 80, 20, 0)",duration:1e5,delay:E.a.random(0,150)}],y:[{value:n.position.y+1.5,easing:"spring(1, 80, 20, 0)",duration:1e5}]})}}catch(o){a.e(o)}finally{a.f()}}(i),setTimeout((function(){n(o)}),400),this.setCurrentTitle(e,t)}},{key:"setCurrentTitle",value:function(e,t){var a=this;console.log("TITLE "+e),this.setState({currentTitle:e,currentTitleUid:t},(function(){a.checkIfFollowingTitleUid()}))}},{key:"submitInputOnChange",value:function(e){var t;ut="submit",t=this.submitInput.current,console.log("changed"),0!==t.files.length&&((new FileReader).readAsDataURL(t.files[0]),console.log(t.files[0]),!0===W.a.auth().currentUser.isAnonymous?pe():ve(t)),console.log("Submit input")}},{key:"replyInputOnChange",value:function(e){var t;ut="reply",t=this.replyInput.current,console.log("changed"),console.log(t.files[0]),!0===W.a.auth().currentUser.isAnonymous?pe():be(t)}},{key:"minizeUI",value:function(){this.setState({minimalUI:!0})}},{key:"maximizeUI",value:function(){this.setState({minimalUI:!1})}},{key:"closeAccountButton",value:function(){this.accountForm.current.dismissForm()}},{key:"handleUpload",value:function(){var e=this;setTimeout((function(){"submit"===ut?ve(e.submitInput.current):"reply"===ut&&be(e.replyInput.current)}),100)}},{key:"checkIfFollowingTitleUid",value:function(){var e=this;""!==this.state.currentTitleUid&&W.a.database().ref("/following/"+W.a.auth().currentUser.uid+"/"+this.state.currentTitleUid).once("value",(function(t){console.log(t),t.exists()?e.setState({currentTitleUidFollowing:!0}):e.setState({currentTitleUidFollowing:!1})}))}},{key:"handleTitleFollow",value:function(){Ve(this.state.currentTitleUid),this.setState({currentTitleUidFollowing:!0})}},{key:"handleTitleUnfollow",value:function(){Ke(this.state.currentTitleUid),this.setState({currentTitleUidFollowing:!1})}},{key:"render",value:function(){return A.a.createElement("div",null,A.a.createElement("div",{class:"title"},A.a.createElement("div",{class:"titletext"},"SUNSHINE"),A.a.createElement("div",{className:"topToolbar"}),A.a.createElement("div",{id:"progress",className:"progress"}),A.a.createElement("button",{className:"modebutton closeAccountButton",onClick:this.closeAccountButton.bind(this),style:this.state.accountFormOpen?{opacity:1,pointerEvents:"all",overflow:"auto",bottom:"15px"}:{opacity:0,pointerEvents:"none",overflow:"hidden"}},"X"),A.a.createElement("div",{className:"backTitle ",ref:this.backTitle,style:this.state.currentTitle?{opacity:"1","max-height":100}:{opacity:"0","max-height":0,"margin-bottom":"-10px"}},A.a.createElement("div",{onClick:this.goBack.bind(this),className:"backButton",style:this.state.currentTitle?{display:"inline-block"}:{display:"none"}},"\u27f5\ufe0e"),this.state.currentTitle?this.state.currentTitle:"",A.a.createElement("button",{className:"titleFollowButton",onClick:this.handleTitleFollow.bind(this),style:this.state.currentTitleUid&&!this.state.currentTitleUidFollowing?{display:"inline-block",pointerEvents:"all"}:{display:"none"}},"Follow"),A.a.createElement("button",{className:"titleFollowButton",onClick:this.handleTitleUnfollow.bind(this),style:this.state.currentTitleUid&&this.state.currentTitleUidFollowing?{display:"inline-block",pointerEvents:"all"}:{display:"none"}},"Unfollow")),A.a.createElement(nt,{goForward:this.goForward.bind(this),loginForm:this.loginForm,dismissAccountForm:this.dismissAccountForm.bind(this),showAccountForm:this.showAccountForm.bind(this),accountFormOpen:this.state.accountFormOpen,maximizeUI:this.maximizeUI.bind(this),setCurrentTitle:this.setCurrentTitle.bind(this),ref:this.accountForm,loggedInUser:this.state.loggedInUser,currentUser:this.state.currentUser})),A.a.createElement("div",{className:"modeBar",style:this.state.minimalUI?{opacity:0,pointerEvents:"none"}:{opacity:1}},A.a.createElement("button",{className:"modebutton globe",id:"requestpublic",style:this.state.isAnonymous?{opacity:0,pointerEvents:"none"}:{opacity:1},onClick:this.requestPublicFeed.bind(this)},A.a.createElement("img",{src:R.a})),A.a.createElement("button",{className:"modebutton private",style:this.state.isAnonymous?{opacity:0,pointerEvents:"none"}:{opacity:1},onClick:this.requestPrivateFeed.bind(this)},"Private"),A.a.createElement("button",{className:"modebutton account",style:this.state.isAnonymous?{opacity:0,pointerEvents:"none"}:{opacity:1},onClick:this.showAccountForm.bind(this)},"account"),A.a.createElement("div",{className:"shinebutton",id:"shinebutton"},A.a.createElement("input",{onChange:this.submitInputOnChange.bind(this),ref:this.submitInput,type:"file",accept:"image/*",id:"file-input"}),A.a.createElement("label",{for:"file-input"},A.a.createElement("img",{src:L.a}))),A.a.createElement("div",{className:"replyinput"},A.a.createElement("input",{onChange:this.replyInputOnChange.bind(this),ref:this.replyInput,type:"file",accept:"image/*",id:"reply-input"}),A.a.createElement("label",{for:"reply-input"}))),A.a.createElement("div",{id:"root"},A.a.createElement("div",{className:"threejs",style:this.state.accountFormOpen?{opacity:0,pointerEvents:"none",overflow:"hidden"}:{opacity:1,pointerEvents:"all",overflow:"auto"}},A.a.createElement(tt,null)),A.a.createElement(it,{ref:this.loginForm,closeloginform:this.loginFormHide.bind(this),register:this.register.bind(this),signIn:this.signIn.bind(this),isAnonymous:this.state.isAnonymous,handleUpload:this.handleUpload.bind(this)})))}}]),a}(O.Component),mt=document.getElementById("root2");function pt(e,t,a){var n=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(e.substring(0,2),16)*a+parseInt(t.substring(0,2),16)*(1-a)),i=Math.ceil(parseInt(e.substring(2,4),16)*a+parseInt(t.substring(2,4),16)*(1-a)),s=Math.ceil(parseInt(e.substring(4,6),16)*a+parseInt(t.substring(4,6),16)*(1-a));return n(o)+n(i)+n(s)}g.a.render(A.a.createElement(dt,null),mt),function(e){if("serviceWorker"in navigator){if(new URL("/sunshine",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sunshine","/service-worker.js");v?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):f(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):f(t,e)}))}}();var ht=function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))};function gt(e,t,a){return e.slice(a*t,a*t+t)}function vt(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}},27:function(e,t,a){e.exports=a.p+"static/media/MWHG50-XLARGE.5dae3fc8.jpg"},36:function(e,t,a){e.exports=a.p+"static/media/Plastic_001_ROUGH.99e9084d.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/Globe-5.592510fe.svg"},65:function(e,t,a){e.exports=a.p+"static/media/stickerbg.84ab8dc3.png"},66:function(e,t){e.exports="data:image/jpeg;base64,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"},67:function(e,t,a){e.exports=a.p+"static/media/8-Point-Star_black_void.144d18cf.svg"}},[[109,1,2]]]);
//# sourceMappingURL=main.bdb2d9ad.chunk.js.map