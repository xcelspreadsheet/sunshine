{"version":3,"sources":["images/imagesalpha.png","images/paper.jpeg","images/account2.svg","images/envmap.jpg","images/envmap2.jpg","images/scratchtexture.jpg","images/paper.jpg","images/MWHG50-XLARGE.jpg","models/daisy.glb","serviceWorker.js","shaders/FresnelShader.js","index.js","images/Plastic_001_ROUGH2.jpg","images/globe3.svg","images/smiley.svg","images/stickerbg.png","images/8-Point-Star_black_void.svg","images/images.jpeg"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","join","type","reply","sticker","feedphoto","newphoto","animationType","scene","THREE","camera","imagewidth","photos","currentPhotosList","photoDataByKey","currentPage","replies","areRepliesVisible","yRepliesDifferential","replyLine","replyMeshes","stickers","stickerIndex","stickerCount","backDicts","followingList","innerWidth","textureLoader","crossOrigin","grimetexture","undefined","paperTexture","starObject","geometry","fromGeometry","material","metalness","roughness","transparent","object","load","starimage","texture","map","roughnessMap","starimagealpha","alphaMap","needsUpdate","createStarObject","photoGeometry","getGrimeTexture","Promise","resolve","roughnessmap","assignGrimeTexture","cube","a","getPaperTexture","papermap","normalMap","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","onAuthStateChanged","user","isAnonymous","database","ref","uid","set","Date","now","followingRef","on","snapshot","key","makeFollowingListeners","signInAnonymously","code","errorMessage","message","Cloudinary","cloud_name","secure","api_key","api_secret","displayLoginForm","anime","targets","top","value","easing","duration","successLoginForm","delay","signOut","handlePhotoUpload","element","files","length","img","Image","src","URL","createObjectURL","onload","uploadFile","width","height","replyref","handleReplyUpload","file","firebaseref","replyImageUid","getObjectByName","canClick","xhr","XMLHttpRequest","fd","FormData","open","setRequestHeader","document","getElementById","style","opacity","upload","addEventListener","e","progress","Math","round","loaded","total","onreadystatechange","readyState","status","response","JSON","parse","responseText","url","secure_url","photosRef","newPhoto","creator","currentUser","creatorusername","displayName","timestamp","push","reference","once","val","photodata","sortPhotosByYPosition","topphotoheight","entries","i","index","name","scale","y","heighttodescend","photo","position","createPhoto","scrollToTop","originalphoto","receiverUid","originalCreatorDisplay","creatorUid","creatorDisplayName","photoUid","photoUrl","createNotification","replyDict","forEach","childSnapshot","Object","replyy","newreply","previousreplies","startingyvalue","yvalue","midpoints","originalReplyLine","x","complete","remove","drawReplyLine","append","send","notificationRef","urlSplit","split","notification","requestLatestStickerUsers","orderByChild","limitToLast","stickerimage","shuffleArray","requestSinglePhoto","clearFeed","child","childData","setUpNewFeed","requestUserPhotos","equalTo","photosList","childKey","reverse","feedAnimationType","scrollSet","scrollTo","generateFeed","paginateArray","children","dispose","stickerLeft","stickerRandomIndex","random","username","createSticker","bottomOfFeedMesh","add","createStickerMesh","normalScale","castShadow","receiveShadow","assignPaperTexture","stickerobject","stickerOnLeft","maptexture","fadeInObject","z","rotation","calculateNewFeedSize","bottomoffeed","innerHeight","loadUnloadPhotosByCameraDistance","cameraY","abs","loadPhoto","unloadPhoto","tapped","sort","b","handlePhotoMouseDown","event","clearTimeout","intersects","worldToLocal","point","xposition","yposition","setTimeout","photozposition","loop","direction","objectreplies","color","interpolateColors","attach","addRandomNumber","addTimeRandomNumber","animations","addRotationAnimation","badgeStyle","badge","addBadge","nextPhotoDifferential","animateOutReplyMesh","id","replymesh","path","moveTo","lineTo","quadraticCurveTo","points","getPoints","setFromPoints","drawReplySymbol","PI","click","createReplyMesh","displayReplies","mesh","lowestyreply","arr","splice","removeItemAll","generateReplyPlaceholderColor","generateReplyPlaceholderPosition","pause","contractReplies","endofline","objectanchor","midpoint","splineObject","meshAnchor","parseInt","addMoveStar","parentobject","starKey","star","clone","photoType","photoAnimationType","badgeColor","starsRef","data","addStarsRefs","cursor","ev","addPhotoClickEvent","replykey","replyvalue","newplaceholder","originalcube","createReplyPlaceholder","handleFollow","addedUID","addUIDToFollowList","handleUnfollow","removedUID","removeUIDFromFollowList","text","radius","startRotation","threejsdimension","textcanvas","createElement","ctx","getContext","minFilter","fillStyle","beginPath","arc","drawImage","globeimage","smileyimage","fill","font","fillTextCircle","stroke","material2","side","circleBadge","transitionTime","App","goForward","imageToDraw","image","CanvasRenderingContext2D","prototype","this","save","translate","rotate","fillText","restore","documentElement","maxTouchPoints","msMaxTouchPoints","si","styleSheets","styleSheet","rules","ri","selectorText","deleteRule","ex","ThreeJS","zoom","renderer","alpha","setClearColor","setPixelRatio","min","devicePixelRatio","powerPreference","shadowMap","enabled","shadowMapSoft","setSize","mount","appendChild","domElement","plane","Interaction","spotLight","intensity","shadow","mapSize","bias","left","right","bottom","target","light2","animate","requestAnimationFrame","render","settings","lastPos","newPos","timer","delta","clear","onscroll","winScroll","body","scrollTop","scrollHeight","clientHeight","scrollCam","info","totalPageHeight","scrollY","mode","$","resize","aspect","updateProjectionMatrix","callback","isScrolling","scrollStop","className","Component","AccountForm","formDisplay","strokeCount","notificationList","number","dismissForm","bind","stickerForm","React","createRef","accountForm","addStroke","clearStroke","setState","current","submit","props","dismissAccountForm","maximizeUI","setNotificationsRead","markNotificationsAsRead","requestNotifications","component","notifications","loginForm","success","setHamburgerHidden","creatorName","viewBox","class","loggedInUser","userNumber","newNotifications","setCurrentTitle","currentTitle","onClick","StickerForm","sigCanvas","undo","getCanvas","stickerbg","uploadSticker","toDataURL","toData","onEnd","canvasProps","LoginForm","password","loginregtext","errortext","usernameexists","tryingtologin","handleChange","handlePassword","handleUpload","enteredusername","enteredpassword","signInWithEmailAndPassword","result","signIn","preventDefault","updateProfile","credential","EmailAuthProvider","linkWithCredential","usercred","loginRegisterAction","closeloginform","starbutton","object-fit","maxHeight","overflow","placeholder","onChange","handleCancel","handleRegisterLogin","trim","display","DialList","menuOpen","toggleMenu","Dialer","isFollowing","currentAnimation","handleInput","dialerReport","animation","test","showResponse","snapshotCount","onFocus","handleFocus","pattern","inputmode","onInput","ShortUser","exists","ShortUserList","uidList","getFollowingList","newUids","shortUsers","d","Notification","notificationMessage","NotificationList","uploadStyle","currentusername","currentuid","loginformopen","loginbuttonvisible","currentTitleUid","minimalUI","accountFormOpen","currentTitleUidFollowing","firstLoad","hamburgerHidden","backTitle","goBack","submitInput","replyInput","noFollowingNotification","stringify","getFollowing","requestPublicFeed","createNotificationsListener","firebaseCount","snapshotLength","requestLatestPhotos","minizeUI","showForm","backDict","pop","showingAccountForm","transitionPhotosRight","scroll","title","div","classList","includes","newTitle","newUid","backDiv","newPhotosFunction","functionArgument","newBackDict","addToBackDict","transitionPhotosLeft","checkIfFollowingTitleUid","FileReader","readAsDataURL","maxWidth","marginRight","size","distance","onToggle","toggled","showAccountForm","pointerEvents","requestPrivateFeed","shineButtonClick","loginFormHide","handleTitleFollow","handleTitleUnfollow","replyInputOnChange","accept","for","submitInputOnChange","rootElement","color1","color2","ratio","hex","toString","r","ceil","substring","g","ReactDOM","process","href","origin","fetch","headers","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","array","page_size","page_number","slice","j","floor"],"mappings":"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","file":"static/js/main.791ca0b3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADbCAAAAABc5bIUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJV2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjk3YTQyN2RkLTRjODUtMGQ0ZS05YzZkLTFiNzI2ZTBiZTgwMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZjBhOGY1OC1iMzBkLTQ4ZmUtYTc0Yy1mMjBjYmJlOGFiNTUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iNDU1MzFGOEM0MkZENzgzRTRCRTNEOTIyMjgyQkZGNkEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIxIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iRG90IEdhaW4gMjAlIiB0aWZmOkltYWdlV2lkdGg9IjIzMCIgdGlmZjpJbWFnZUxlbmd0aD0iMjE5IiB0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb249IjIiIHRpZmY6U2FtcGxlc1BlclBpeGVsPSIzIiB0aWZmOlhSZXNvbHV0aW9uPSIxLzEiIHRpZmY6WVJlc29sdXRpb249IjEvMSIgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMSIgZXhpZjpFeGlmVmVyc2lvbj0iMDIzMSIgZXhpZjpDb2xvclNwYWNlPSI2NTUzNSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjIzMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjIxOSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTAtMDNUMTI6NDI6MzQtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTEzYTFjYmMtMmFiMS00NzA0LTliMTAtNGI1MTU0YWM3NmM2IiBzdEV2dDp3aGVuPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252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\"","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/account2.38212e2a.svg\";","module.exports = __webpack_public_path__ + \"static/media/envmap.58ec940d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/envmap2.998e01c2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/scratchtexture.b22144dd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/paper.243be7c8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/MWHG50-XLARGE.5dae3fc8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/daisy.f46a10bc.glb\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","\n/**\n * Based on Nvidia Cg tutorial\n */\n\nvar FresnelShader = {\n\n\tuniforms: {\n\n\t\t\"mRefractionRatio\": { value: 1.02 },\n\t\t\"mFresnelBias\": { value: 0.1 },\n\t\t\"mFresnelPower\": { value: 2.0 },\n\t\t\"mFresnelScale\": { value: 1.0 },\n\t\t\"tCube\": { value: null }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"uniform float mRefractionRatio;\",\n\t\t\"uniform float mFresnelBias;\",\n\t\t\"uniform float mFresnelScale;\",\n\t\t\"uniform float mFresnelPower;\",\n\n\t\t\"varying vec3 vReflect;\",\n\t\t\"varying vec3 vRefract[3];\",\n\t\t\"varying float vReflectionFactor;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\t\t\"\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n\n\t\t\"\tvec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\",\n\n\t\t\"\tvec3 I = worldPosition.xyz - cameraPosition;\",\n\n\t\t\"\tvReflect = reflect( I, worldNormal );\",\n\t\t\"\tvRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );\",\n\t\t\"\tvRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );\",\n\t\t\"\tvRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );\",\n\t\t\"\tvReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );\",\n\n\t\t\"\tgl_Position = projectionMatrix * mvPosition;\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\n\t\t\"uniform samplerCube tCube;\",\n\n\t\t\"varying vec3 vReflect;\",\n\t\t\"varying vec3 vRefract[3];\",\n\t\t\"varying float vReflectionFactor;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\",\n\t\t\"\tvec4 refractedColor = vec4( 1.0 );\",\n\n\t\t\"\trefractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;\",\n\t\t\"\trefractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;\",\n\t\t\"\trefractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;\",\n\n\t\t\"\tgl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};\n\nexport { FresnelShader };\n","import ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport * as THREE from \"three\";\nimport $ from \"jquery\";\nimport React, { Component } from \"react\";\nimport roughnessmap from \"./images/Plastic_001_ROUGH2.jpg\";\nimport anime from \"animejs/lib/anime.es.js\";\n// import replyimage from \"./images/noun_Reply_70802.png\";\nimport starimage from \"./images/images.jpeg\";\nimport starimagealpha from \"./images/imagesalpha.png\";\nimport globeimage from \"./images/globe3.svg\";\nimport smileyimage from \"./images/smiley.svg\";\n// import smileyimage from \"./images/rose-2-2015042038.svg\"\nimport accountimage from \"./images/account2.svg\";\nimport stickerbg from \"./images/stickerbg.png\";\nimport envmap from \"./images/envmap.jpg\";\nimport envmap2 from \"./images/envmap2.jpg\";\nimport scratchmap from \"./images/scratchtexture.jpg\";\nimport papermap from \"./images/paper.jpeg\";\nimport papermap2 from \"./images/paper.jpg\";\nimport starbutton from \"./images/8-Point-Star_black_void.svg\"\nimport holographicmap from \"./images/MWHG50-XLARGE.jpg\";\nimport { SpotLight, MeshNormalMaterial, TorusKnotBufferGeometry } from \"three\";\nimport { FresnelShader } from \"./shaders/FresnelShader.js\";\nimport { Cloudinary } from \"cloudinary-core\"; // If your code is for ES6 or higher\nimport firebase from \"firebase\";\nimport { Interaction } from \"three.interaction\";\n// import Canvas from './canvas';\nimport CanvasDraw from \"react-canvas-draw\";\nimport SignatureCanvas from 'react-signature-canvas'\nimport Hamburger from 'hamburger-react'\n\n\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport scenedata from \"./models/daisy.glb\";\n\nconst type = {reply : \"reply\", sticker : \"sticker\", feedphoto : \"feedphoto\", newphoto: \"newphoto\"}\nconst animationType = {fromright:\"fromright\", fromleft:\"fromleft\", fromabove:\"fromabove\"}\n\nvar scene = new THREE.Scene();\nvar camera = new THREE.PerspectiveCamera()\nvar imagewidth = 2;\nvar feedheight = 0;\nvar bottomoffeed = 0;\nvar photozposition = 0.75;\nconsole.log(\"Window width\");\n\nvar photos = [];\nvar currentPhotosList = []\nvar photoDataByKey = {}\nvar currentPage = 0\nvar replies = {};\n\nvar areRepliesVisible = {};\nvar yRepliesDifferential = {};\nvar replyLine = {};\nvar replyMeshes = {};\n\nvar stickers = []\nvar stickerIndex = 0\nvar stickerCount = 0\nvar stickerMesh = undefined\n\nvar backDicts = []\nconst transitionTime = 500\n\nvar followingList = {}\nvar firstLoad = true\n\nvar primaryorange = \"FDB943\";\nvar primarywhite = \"E6E3DA\";\nvar primarydarkorange = \"fe5b30\"\nvar primarydarkpink = \"fe5b30\"\n\nconsole.log(window.innerWidth);\nif (window.innerWidth < 737) {\n  imagewidth = 1.8;\n}\n\nvar textureLoader = new THREE.TextureLoader();\ntextureLoader.crossOrigin = \"Anonymous\";\n\nvar grimetexture = undefined\nvar paperTexture = undefined\nvar starObject = createStarObject()\n\nvar photoGeometry = new THREE.BufferGeometry().fromGeometry(new THREE.BoxGeometry(1, 1, 0.000001))\n// var sticker = new THREE.BufferGeometry().fromGeometry(new THREE.BoxGeometry(1, 1, 0.000001));\n\nfunction getGrimeTexture() {\n\n\n  return new Promise(resolve => {\n    textureLoader.load(roughnessmap, function (texture) {\n      grimetexture = texture\n      resolve(texture)\n    });\n  })\n};\n\nasync function assignGrimeTexture(cube) {\n  if (grimetexture === undefined) {\n    getGrimeTexture().then(function() {\n      cube.material.roughnessMap = grimetexture\n      cube.material.needsUpdate = true\n    })\n  } else {\n    cube.material.roughnessMap = grimetexture\n    cube.material.needsUpdate = true\n  } \n}\n\nfunction getPaperTexture() {\n\n\n  return new Promise(resolve => {\n    textureLoader.load(papermap, function (texture) {\n      paperTexture = texture\n      resolve(texture)\n    });\n  })\n};\n\nasync function assignPaperTexture(cube) {\n  if (paperTexture === undefined) {\n    getPaperTexture().then(function() {\n      cube.material.normalMap = paperTexture\n      cube.material.needsUpdate = true\n    })\n  } else {\n    cube.material.normalMap = paperTexture\n    cube.material.needsUpdate = true\n  } \n}\n\nvar daisy = new THREE.Mesh();\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAaVRDb7lnaSSVAKfq8aYZ_KuGhhmMyA28\",\n  authDomain: \"sunshine-c9025.firebaseapp.com\",\n  databaseURL: \"https://sunshine-c9025.firebaseio.com\",\n  projectId: \"sunshine-c9025\",\n  storageBucket: \"sunshine-c9025.appspot.com\",\n  messagingSenderId: \"182239551587\",\n  appId: \"1:182239551587:web:0f69153c66050e45559856\",\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nfirebase.auth().onAuthStateChanged(function (user) {\n  if (user) {\n    console.log(\"AUTH STATE CHANGED\");\n    console.log(user);\n    if (!user.isAnonymous) {\n      var timeref = firebase.database().ref('stickerusers/' + user.uid + '/time')\n      timeref.set(Date.now())\n      console.log(\"SETTING TIME\")\n      makeFollowingListeners(user.uid)\n    }\n    // ...\n  } else {\n    // User is signed out.\n    // ...\n    followingList = {}\n\n    firebase\n      .auth()\n      .signInAnonymously()\n      .catch(function (error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        console.log(errorMessage);\n      });\n  }\n  // ...\n});\n\n//firebase.auth().signOut();\n\nvar cl = new Cloudinary({\n  cloud_name: \"cathedralapp\",\n  secure: true,\n  api_key: \"485812499374832\",\n  api_secret: \"_6igNEblFUeNDo6rMajgIpOH0BU\",\n});\n\n// document.getElementById(\"shinebutton\").onclick = function () {};\nfunction getFollowing(uid) {  \n  return new Promise(resolve => {\n    const followingRef = firebase.database().ref('/following/' + uid)\n    followingRef.once('value', function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      followingList[snapshot.key] = true\n    })\n    resolve(true)\n  })\n  })\n\n}\nfunction makeFollowingListeners(uid) {\n  const followingRef = firebase.database().ref('/following/' + uid)\n  followingRef.on('child_added', function(snapshot) {\n      followingList[snapshot.key] = true\n      console.log(\"FOLLOWING \" + snapshot.key)\n  }\n  )\n  followingRef.on('child_removed', function(snapshot) {\n    followingList[snapshot.key] = false\n    console.log(\"FOLLOWING \" + snapshot.key)\n})\n}\n\nfunction displayLoginForm() {\n  anime({\n    targets: \".logindialog\",\n    top: [{ value: \"50%\", easing: \"easeInOutQuad\", duration: 600 }],\n  });\n}\n\nfunction cancelLoginForm() {\n  anime({\n    targets: \".logindialog\",\n    top: [{ value: \"200%\", easing: \"easeInOutQuad\", duration: 600 }],\n  });\n}\n\nfunction successLoginForm() {\n  anime({\n    targets: \".logindialog\",\n    top: [{ value: \"-200%\", easing: \"easeInOutQuad\", duration: 600 }],\n    delay: 500\n  });\n  // submitFilesinFileInput();\n}\n\n// document.getElementById(\"title\").onclick = function (event) {\n//   signOut()\n// }\n\nfunction signOut() {\n  firebase.auth().signOut()\n  console.log(\"signed out\")\n}\n\nfunction submitFilesinFileInput() {\n  if (document.getElementById(\"file-input\").files) {\n    let img = new Image();\n    img.src = window.URL.createObjectURL(\n      document.getElementById(\"file-input\").files[0]\n    );\n\n    img.onload = () => {\n      //alert(img.width + \" \" + img.height);\n      uploadFile(\n        document.getElementById(\"file-input\").files[0],\n        img.width,\n        img.height,\n        \"testimages\"\n      );\n    };\n  }\n}\n\nfunction handlePhotoUpload(element) {\n  if (element.files.length > 0 ) {\n    let img = new Image();\n    img.src = window.URL.createObjectURL(\n      element.files[0]\n    );\n    img.onload = () => {\n      uploadFile(\n        element.files[0],\n        img.width,\n        img.height,\n        \"testimages/\",\n        false\n      );\n    };\n  }\n}\n\n// document.getElementById(\"file-input\").onchange = function (event) {\nfunction submitOnChange(element, event) {\n  console.log(\"changed\");\n\n  if (element.files.length === 0) {\n    return;\n  }\n\n  var reader = new FileReader();\n\n  // reader.onload = function (e) {\n  //   $(\"#loginimage\").attr(\"src\", e.target.result);\n  // };\n\n  reader.readAsDataURL(element.files[0]);\n\n  console.log(element.files[0]);\n\n  if (firebase.auth().currentUser.isAnonymous === true ) {\n    displayLoginForm();\n  } else {\n    handlePhotoUpload(element)\n  }\n};\n\nvar replyref = \"\";\n\n// document.getElementById(\"reply-input\").onchange = function (event) {\nfunction replyOnChange(element, event) {\n  console.log(\"changed\");\n  console.log(element.files[0]);\n\n  if (firebase.auth().currentUser.isAnonymous === true ) {\n    displayLoginForm();\n  } else {\n    handleReplyUpload(element)\n  }\n};\n\nfunction handleReplyUpload(element) {\n\n  if (element.files.length > 0) {\n    let img = new Image();\n    img.src = window.URL.createObjectURL(\n      element.files[0]\n    );\n    img.onload = () => {\n      uploadFile(\n        element.files[0],\n        img.width,\n        img.height,\n        \"testimages/\" + replyref + \"/replies\",\n        true,\n        replyref\n      );\n    };\n  }\n}\n\nfunction uploadFile(file, width, height, firebaseref, reply, replyImageUid) {\n\n  if (reply == true) {\n    var originalphoto = scene.getObjectByName(replyref);\n    originalphoto.canClick = false\n  }\n  var url = `https://api.cloudinary.com/v1_1/cathedralapp/upload`;\n  var xhr = new XMLHttpRequest();\n  var fd = new FormData();\n  xhr.open(\"POST\", url, true);\n  xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\n  // Reset the upload progress bar\n  document.getElementById(\"progress\").style.width = 0;\n  document.getElementById(\"progress\").style.opacity = 1;\n\n  // Update progress (can be used to show progress indicator)\n  xhr.upload.addEventListener(\"progress\", function (e) {\n    var progress = Math.round((e.loaded * 100.0) / e.total);\n    document.getElementById(\"progress\").style.width = progress + \"%\";\n\n    console.log(`fileuploadprogress data.loaded: ${e.loaded},\n  data.total: ${e.total}`);\n  });\n\n  xhr.onreadystatechange = function (e) {\n    if (xhr.readyState == 4 && xhr.status == 200) {\n      // File uploaded successfully\n      var response = JSON.parse(xhr.responseText);\n\n      anime({\n        targets: \".progress\",\n        opacity: [{ value: 0, easing: \"easeInOutQuad\", duration: 600 }],\n      });\n\n      // https://res.cloudinary.com/cloudName/image/upload/v1483481128/public_id.jpg\n      var url = response.secure_url;\n      console.log(url);\n\n      const photosRef = firebase.database().ref(firebaseref);\n      const newPhoto = {\n        url: url,\n        width: width,\n        height: height,\n        creator: firebase.auth().currentUser.uid,\n        creatorusername: firebase.auth().currentUser.displayName,\n        timestamp: Date.now()\n      };\n\n      if (reply === false) {\n        var newphotoreference = photosRef.push(newPhoto).then((reference) => {\n          //ref.child(snapshot.key).update({\"id\": snapshot.key})\n          reference.once(\"value\", function (snapshot) {\n            console.log(snapshot.val());\n            var photodata = snapshot.val();\n\n            sortPhotosByYPosition(photos);\n\n            console.log(photos[photos.length - 1]);\n\n            var topphotoheight = 0;\n\n            for (var [i, value] of photos.entries()) {\n              const index = i + 1;\n\n              if (photos[photos.length - index].name != \"\") {\n                topphotoheight = photos[photos.length - index].scale.y / 2;\n                break;\n              }\n            }\n\n            var heighttodescend =\n              (imagewidth * (photodata.height / photodata.width)) / 2 +\n              0.5 +\n              topphotoheight;\n\n            for (var photo of photos) {\n              anime({\n                targets: photo.position,\n                y: [\n                  {\n                    value: photo.position.y - heighttodescend,\n                    easing: \"easeInOutQuad\",\n                    duration: 750,\n                  },\n                ],\n              });\n            }\n\n            photodata.key = snapshot.key;\n\n            var newphoto = createPhoto(\n              photodata.url, 0, 0,\n              // -5,\n              // 3,\n              photodata.creatorusername,\n              photodata,\n              type.newphoto,\n              animationType.fromleft\n            );\n\n            scrollToTop();\n          });\n        });\n      } else {\n        //Reply action\n\n        var originalphoto = scene.getObjectByName(replyref);\n        originalphoto.canClick = true\n\n        var newphotoreference = photosRef.push(newPhoto).then((reference) => {\n          //ref.child(snapshot.key).update({\"id\": snapshot.key})\n          reference.once(\"value\", function (snapshot) {\n            console.log(snapshot.val());\n            var photodata = snapshot.val();\n\n            if(photoDataByKey[replyImageUid].creator !== firebase.auth().currentUser.uid) {\n\n              createNotification(photoDataByKey[replyImageUid].creator,  photoDataByKey[replyImageUid].creatorusername, firebase.auth().currentUser.uid, firebase.auth().currentUser.displayName, replyImageUid, photoDataByKey[replyImageUid].url, \"reply\")\n              //createNotification(photoDataByKey[replyImageUid].creator, photoDataByKey[replyImageUid].creatorusername, photoDataByKey[replyImageUid].creator, firebase.auth().currentUser.uid, firebase.auth().currentUser.displayName, replyImageUid, photoDataByKey[replyImageUid].url, \"reply\")\n            \n            }\n\n            createAlsoNotifications(photoDataByKey[replyImageUid].creator,  photoDataByKey[replyImageUid].creatorusername, firebase.auth().currentUser.uid, firebase.auth().currentUser.displayName, replyImageUid, photoDataByKey[replyImageUid].url, \"reply\")\n\n\n            //Reply animation\n            sortPhotosByYPosition(photos);\n\n            var heighttodescend =\n              imagewidth * (photodata.height / photodata.width) + 0.5;\n\n            for (var photo of photos) {\n              if (photo.position.y < originalphoto.position.y - 0.001) {\n                anime({\n                  targets: photo.position,\n                  y: [\n                    {\n                      value: photo.position.y - heighttodescend,\n                      easing: \"easeInOutQuad\",\n                      duration: 750,\n                    },\n                  ],\n                });\n              }\n            }\n\n            var replyx = 0.1;\n            var replyy =\n              originalphoto.position.y -\n              originalphoto.scale.y / 2 -\n              (imagewidth * (photodata.height / photodata.width)) / 2 -\n              0.5;\n\n            var newphoto = createPhoto(\n              photodata.url,\n              replyx,\n              replyy,\n              photodata.creatorusername,\n              photodata,\n              type.newreply,\n              animationType.fromright\n            );\n\n            photodata.object = newphoto;\n            if (replies[replyref]) {\n              var previousreplies = replies[replyref];\n              replies[replyref] = {};\n\n              replies[replyref][snapshot.key] = photodata;\n\n              for (var key in previousreplies) {\n                replies[replyref][key] = previousreplies[key];\n              }\n              console.log(replies[replyref]);\n            } else {\n              replies[replyref] = {};\n              replies[replyref][snapshot.key] = photodata;\n              console.log(replies[replyref]);\n            }\n\n            yRepliesDifferential[replyref] =\n              yRepliesDifferential[replyref] - heighttodescend;\n\n            const startingyvalue = originalphoto.scale.y / 2;\n            var yvalue = originalphoto.position.y - startingyvalue;\n            var midpoints = [];\n\n            Object.entries(replies[replyref]).forEach(([key, value], index) => {\n              if (yvalue < startingyvalue) {\n                yvalue = yvalue - 0.5;\n                yvalue =\n                  yvalue - (imagewidth * (value.height / value.width)) / 2;\n              }\n\n              midpoints.push(yvalue - originalphoto.position.y);\n\n              yvalue = yvalue - (imagewidth * (value.height / value.width)) / 2;\n            });\n\n            if (replyLine[originalphoto.name]) {\n              var originalReplyLine = replyLine[originalphoto.name];\n\n              originalReplyLine.scale.x = 0;\n\n              anime({\n                targets: originalReplyLine.material,\n                opacity: [\n                  {\n                    value: 0,\n                    easing: \"easeInOutQuad\",\n                    duration: 200,\n                  },\n                ],\n                complete: function () {\n                  scene.remove(originalReplyLine);\n                },\n              });\n            }\n\n            drawReplyLine(0, midpoints, originalphoto);\n          });\n        });\n      }\n\n      //var newphoto = createPhoto(url, -10, 5, firebase.auth().currentUser.displayName, ,true)\n    }\n  };\n\n  fd.append(\"upload_preset\", \"sunshine\");\n  fd.append(\"tags\", \"browser_upload\"); // Optional - add tag for image admin in Cloudinary\n  fd.append(\"file\", file);\n  xhr.send(fd);\n}\n\nfunction createAlsoNotifications(receiverUid, originalCreatorDisplay, creatorUid, creatorDisplayName, photoUid, photoUrl, type) {\n  var repliesRef = firebase.database().ref('/testimages/' + photoUid + '/replies')\n  \n\n  repliesRef.once('value', function(snapshot) {\n\n    var replyDict = {}\n\n    snapshot.forEach(function(childSnapshot) {\n\n      if (childSnapshot.val().creator !== receiverUid && childSnapshot.val().creator !== creatorUid) {\n        replyDict[childSnapshot.val().creator] = childSnapshot.val()\n      }\n\n    })\n\n    for (const [key, value] of Object.entries(replyDict)) {\n\n      console.log(\"Also receiver \" + key)\n      createNotification(key, originalCreatorDisplay, creatorUid, creatorDisplayName, photoUid, photoUrl, \"also\")    }\n\n  })\n}\n\nfunction createNotification(receiverUid, originalCreatorDisplay, creatorUid, creatorDisplayName, photoUid, photoUrl, type) {\n  const notificationRef = firebase.database().ref('/notifications/' + receiverUid)\n\n  const urlSplit = photoUrl.split(\"/upload/\")\n  const photoStub = urlSplit[0] + \"/upload/t_media_lib_thumb/\" + urlSplit[1]\n\n  var notification = {\n    'receiverUid': receiverUid,\n    'creatorUid':creatorUid,\n    'originalCreatorDisplay':originalCreatorDisplay,\n    'creatorDisplayName':creatorDisplayName,\n    'photoUid':photoUid,\n    'photoUrl':photoStub,\n    'type':type,\n    'status':'unread',\n    'timestamp': Date.now()\n  }\n  // https://res.cloudinary.com/cathedralapp/image/upload/t_media_lib_thumb/v1605748082/sunshine/d9tvpfjhgobvfxbgienq.jpg\n  // https://res.cloudinary.com/cathedralapp/image/upload/v1605748082/sunshine/d9tvpfjhgobvfxbgienq.jpg\n\n  notificationRef.push(notification)\n}\n\nasync function requestLatestStickerUsers() {\n  firebase\n  .database()\n  .ref(\"stickerusers\")\n  .orderByChild('time')\n  .limitToLast(10)\n  .once(\"value\")\n  .then(function (snapshot) {\n    stickers = []\n    snapshot.forEach( function(childSnapshot) {\n      console.log(\"Sticker \" + childSnapshot.val())\n      if (childSnapshot.val().stickerimage) {\n        stickers.push(childSnapshot.val())\n      }\n    })\n    console.log(stickers)\n    shuffleArray(stickers)\n    return Promise.resolve(stickers)\n  })\n\n}\n\nasync function requestSinglePhoto(uid) {\n  clearFeed()\n\n  console.log(uid)\n\n  firebase.database().ref('/testimages/').child(uid)\n    .once(\"value\")\n    .then(function (snapshot) {\n      console.log(snapshot);\n\n      var childData = snapshot.val()\n      childData[\"key\"] = snapshot.key;\n\n      var photosList = [childData]\n      // var photosList = [];\n\n      // snapshot.forEach(function (childSnapshot) {\n      //   var childKey = childSnapshot.key;\n      //   console.log(childKey);\n      //   var childData = childSnapshot.val();\n      //   console.log(childData);\n      //   // ...\n      //   childData[\"key\"] = childKey;\n      //   photosList.push(childData);\n      // });\n\n      //   photosList.reverse();\n        setUpNewFeed(photosList, undefined, animationType.fromright, 0)\n      })\n}\n\nasync function requestUserPhotos(uid) {\n  clearFeed()\n\n  console.log(uid)\n\n  firebase.database().ref('/testimages/').orderByChild('creator').equalTo(uid)\n    .once(\"value\")\n    .then(function (snapshot) {\n      console.log(snapshot);\n\n      var photosList = [];\n\n      snapshot.forEach(function (childSnapshot) {\n        var childKey = childSnapshot.key;\n        console.log(childKey);\n        var childData = childSnapshot.val();\n        console.log(childData);\n        // ...\n        childData[\"key\"] = childKey;\n        photosList.push(childData);\n      });\n\n        photosList.reverse();\n        setUpNewFeed(photosList, undefined, animationType.fromright, 0)\n      })\n}\n\nasync function requestLatestPhotos() {\n\n  stickers = await requestLatestStickerUsers()\n  console.log(\"Stickers promise \" + stickers)\n  clearFeed()\n\n  firebase\n    .database()\n    .ref(\"testimages\")\n    .limitToLast(60)\n    .once(\"value\")\n    .then(function (snapshot) {\n      console.log(snapshot);\n\n      var photosList = [];\n\n      snapshot.forEach(function (childSnapshot) {\n        var childKey = childSnapshot.key;\n        console.log(childKey);\n        var childData = childSnapshot.val();\n        console.log(childData);\n        // ...\n        childData[\"key\"] = childKey;\n        photosList.push(childData);\n      });\n\n        photosList.reverse();\n        setUpNewFeed(photosList, stickers, animationType.fromleft)\n      })\n      \n      \n      // currentPhotosList = photosList\n\n      // currentPage = 0\n      // generateFeed(paginateArray(currentPhotosList,20,currentPage));\n}\n\nfunction setUpNewFeed(photosList, stickers, feedAnimationType, scrollSet) {\n  currentPhotosList = photosList\n  currentPage = 0\n\n  if (scrollSet === undefined) {\n    scrollToTop() \n  } else {\n    window.scrollTo(0,scrollSet)\n  }\n\n  generateFeed(paginateArray(currentPhotosList,20,currentPage), stickers, feedAnimationType);\n}\n\nfunction clearFeed() {\n  for(var photo of photos) {\n\n    for (var child in photo.children) {\n      if (child.geometry != null) {\n        child.geometry.dispose()\n      }\n      try {\n        child.material.map.dispose()\n      } catch {}\n      try {\n        child.material.roughnessMap.dispose()\n      } catch {}\n      try {\n        child.material.normalMap.dispose()\n      } catch {}\n      try {\n        child.material.dispose()\n      } catch {}\n    }\n\n    photo.geometry.dispose()\n    if (photo.material.map != null) {\n      photo.material.map.dispose()\n    }\n    try {\n      photo.material.roughnessMap.dispose()\n    } catch {}\n    try {\n      photo.material.normalMap.dispose()\n    } catch {}\n    if (photo.material.map != null) {\n      photo.material.map.dispose()\n    }\n    photo.material.dispose()\n    scene.remove(photo, photo.children)\n\n  }\n\n  replies = {};\n   photos = [];\n\n  areRepliesVisible = {};\n  yRepliesDifferential = {};\n  replyLine = {};\n   replyMeshes = {};\n   stickerIndex = 0\n   stickerCount = 0\n}\n\nfunction requestPrivateFeed() {\n\n  clearFeed()\n  \n  var photosList = []\n\n  firebase.database().ref('/privatefeeds/' + firebase.auth().currentUser.uid).limitToLast(60)\n  .once(\"value\")\n  .then(function (snapshot) {\n    console.log(snapshot);\n\n    var photosList = [];\n    var firebaseCount = 0\n    var snapshotLength = 0\n\n    snapshot.forEach(function () {\n      snapshotLength += 1\n    })\n\n    console.log(\"Snapshot length\")\n    console.log(snapshotLength)\n\n    snapshot.forEach(function (childSnapshot) {\n      var childKey = childSnapshot.key;\n      console.log(childKey);\n\n      firebase.database().ref('/testimages/' + childKey).once(\"value\", function(snapshot) {\n        firebaseCount += 1\n        \n        if (snapshot.val()) {\n          var childData = snapshot.val()\n          console.log(childData)\n          childData.key = childKey\n          photosList.push(childData);\n        }\n\n        if(firebaseCount === snapshotLength) {\n          photosList.reverse();\n          setUpNewFeed(photosList,undefined,animationType.fromright)\n        }\n      })\n    });\n\n\n  });\n}\n\nvar daisyCount = -1;\nvar daisyRight = true;\n\nvar stickerLeft = true\nvar stickerRandomIndex = anime.random(2, 8)\n\nfunction generateFeed(photosList, stickers, feedAnimationType) {\n  console.log(\"Generating feed\")\n //clearFeed()\n\n  var yvalue = 0;\n\n  //yvalue = 1.25 - ((imagewidth * (photosList[0].height / photosList[0].width)) /2)\n\n  if (scene.getObjectByName( \"bottomOfFeed\" )) {\n    yvalue = scene.getObjectByName( \"bottomOfFeed\" ).position.y\n  }\n\n  for (var photo of photosList) {\n    console.log(photo);\n    if (yvalue < 0) {\n      yvalue = yvalue - 0.5;\n      yvalue = yvalue - (imagewidth * (photo.height / photo.width)) / 2;\n    }\n\n    var username = \"sample\";\n\n    if (photo.creatorusername) {\n      username = photo.creatorusername;\n    }\n\n    createPhoto(photo.url, 0, yvalue, username, photo, type.feedphoto, feedAnimationType);\n\n    // if (daisyCount === 0) {\n    //   addDaisy(\n    //     imagewidth / 2 + 0.35,\n    //     yvalue + (imagewidth * (photo.height / photo.width)) / 2 - 0.05,\n    //     daisyRight\n    //   );\n    //   daisyRight = !daisyRight;\n    // } else if (daisyCount === 3) {\n    //   addDaisy(\n    //     -imagewidth / 2 - 0.3,\n    //     yvalue + (imagewidth * (photo.height / photo.width)) / 4,\n    //     daisyRight\n    //   );\n    // } else if (daisyCount === 5) {\n    //   addDaisy(\n    //     -imagewidth / 2 - 0.3,\n    //     yvalue + (imagewidth * (photo.height / photo.width)) / 4,\n    //     daisyRight\n    //   );\n    //   daisyRight = !daisyRight;\n    // } else if (daisyCount === 6) {\n    //   daisyCount = -1;\n    // }\n\n    // daisyCount = daisyCount + 1;\n\n    yvalue = yvalue - (imagewidth * (photo.height / photo.width)) / 2;\n\n    if ((stickerIndex === stickerRandomIndex) && stickers !== undefined) {\n      if (stickers[stickerCount]) {\n      yvalue = yvalue - 0.8\n      yvalue = yvalue - (imagewidth * (3/4)) / 2.3\n      createSticker(yvalue, stickers[stickerCount], stickerLeft)\n      yvalue = yvalue - (imagewidth * (3/4)) / 2.3\n      yvalue -= 0\n      stickerLeft = !stickerLeft\n      stickerRandomIndex = anime.random(8, 12)\n      stickerIndex = 0\n      stickerCount += 1\n      }\n    }\n\n    stickerLeft = !stickerLeft\n    stickerIndex += 1\n\n    // bottomoffeed = yvalue;\n\n    // document.getElementById(\"root\").style.height = -bottomoffeed * 125 + \"px\";\n    // var el = document.getElementById(\"root\");\n    // el.style.height = 0 + \"px\";\n  }\n\n  if (scene.getObjectByName( \"bottomOfFeed\" )) {\n    var object = scene.getObjectByName( \"bottomOfFeed\" )\n    object.position.y = yvalue\n  } else {\n    var bottomOfFeedMesh = new THREE.Mesh()\n    bottomOfFeedMesh.name = \"bottomOfFeed\"\n    scene.add(bottomOfFeedMesh)\n    bottomOfFeedMesh.position.y = yvalue\n    photos.push(bottomOfFeedMesh)\n\n  }\n\n}\n\nfunction createStickerMesh() {\n\n    var cube = new THREE.Mesh(photoGeometry);\n    var material = new THREE.MeshStandardMaterial()\n    material.roughness = 0.15\n    material.normalScale = new THREE.Vector2(0.35,0.35)\n\n    cube.type = type.sticker\n    cube.material = material\n    cube.castShadow = true\n    cube.receiveShadow = true\n\n    assignPaperTexture(cube)\n  // textureLoader.load(papermap2, function (texture) {\n  //   console.log(\"TEXTURE LOADED\", texture);\n  //   cube.material.roughnessMap = texture\n  //   cube.material.needsUpdate = true;\n  //   // cube.material = material;\n  // })\n\n\n  return cube\n\n};\n\n\nfunction createSticker(yvalue, stickerobject, stickerOnLeft) {\n\n  var cube = createStickerMesh()\n  cube.material.opacity = 0\n\n  var url = stickerobject.stickerimage\n\n  textureLoader.load(url, function (maptexture) {\n    console.log(\"texture loaded\");\n    cube.material.map = maptexture;\n    cube.material.needsUpdate = true;\n    fadeInObject(cube)\n  });\n\n  scene.add(cube)\n  \n\n  cube.position.y = yvalue\n  cube.position.z = 0.05\n\n  if (stickerOnLeft === true) {\n    cube.rotation.z = 0.02 + (Math.random() * (0.1))\n    cube.position.x = -imagewidth/3.75\n  } else {\n    cube.rotation.z = -(0.02 + (Math.random() * (0.1)))\n    cube.position.x = imagewidth/3.75\n  }\n\n  cube.rotation.y = -0.005\n  //cube.rotation.z = 0 + Math.random() * (-0.1 - 0.1) + -0.1;\n\n  cube.scale.x = imagewidth * 1.2\n  cube.scale.y = imagewidth * (3/4) * 1.2\n\n  photos.push(cube)\n}\n\nfunction addDaisy(xvalue, yvalue, daisyRight) {\n  var newdaisy = daisy.clone();\n  //scene.add(newdaisy);\n  var rotationvalue = Math.PI * 2;\n  var randomtime = Math.random() * 10000;\n  var randomx = Math.random() * 0.6;\n  var randomrotationy = Math.random() * Math.PI;\n  var randomscale = Math.random() * 0.1;\n\n  if (!daisyRight) {\n    rotationvalue = -rotationvalue;\n    randomx = -randomx;\n  }\n\n  newdaisy.position.set(xvalue + randomx, yvalue, photozposition - 0.5);\n  newdaisy.rotation.y = newdaisy.rotation.y + randomrotationy;\n  newdaisy.scale.set(\n    newdaisy.scale.x + randomscale,\n    newdaisy.scale.x + randomscale,\n    newdaisy.scale.x + randomscale\n  );\n\n  anime({\n    targets: newdaisy.rotation,\n    y: [\n      {\n        value: rotationvalue,\n        easing: \"linear\",\n        duration: 120000 + randomtime,\n      },\n    ],\n    loop: true,\n  });\n}\n\nfunction increaseHeightByThreeJSValue(value) {\n  var el = document.getElementById(\"root\");\n  var height = el.offsetHeight;\n  var newHeight = height + value * 134;\n  el.style.height = newHeight + \"px\";\n}\n\nfunction calculateNewFeedSize() {\n  sortPhotosByYPosition(photos);\n  if (photos.length > 0) {\n    var bottomoffeed = -photos[0].position.y || window.innerHeight;\n    document.getElementById(\"root\").style.height =\n      bottomoffeed * 100 + window.innerHeight + \"px\";\n  }\n\n  loadUnloadPhotosByCameraDistance()\n}\n\nfunction loadUnloadPhotosByCameraDistance() {\n  var cameraY = camera.position.y\n  const distanceThreshhold = 20\n  //sortPhotosByYPosition(photos)\n  \n  for (var photo of photos) {\n    if (Math.abs(photo.position.y - cameraY) < distanceThreshhold) {\n      console.log(\"Loading photo prelim\")\n      loadPhoto(photo)\n    } else {\n      console.log(\"Unloading photo prelim\")\n      unloadPhoto(photo)\n    }\n  }\n}\n\nfunction loadPhoto(photo) {\n\n  if (photo.url) {\n    if (!photo.loaded) {\n      console.log(\"Loading photo\")\n      textureLoader.load(photo.url, function (maptexture) {\n        console.log(\"texture loaded\");\n        photo.material.map = maptexture;\n        photo.material.needsUpdate = true;\n      });\n    }\n    photo.loaded = true\n  }\n}\n\nfunction unloadPhoto(photo) {\n  if (photo.url) {\n    if (photo.loaded) {\n      if (photo.material.map != null) {\n        var texture = photo.material.map\n        texture.dispose()\n        photo.material.map = null\n        photo.material.needsUpdate = true\n      }\n    }\n    photo.loaded = false\n  }\n}\n\nvar tapped = false;\n\nfunction sortPhotosByYPosition(photos) {\n  photos.sort(function (a, b) {\n    return a.position.y - b.position.y;\n  });\n}\n\nfunction handlePhotoMouseDown(event) {\n  if (!tapped) {\n    //if tap is not set, set up single tap\n    tapped = setTimeout(function () {\n      tapped = null;\n\n      if (event.intersects[0].object.name === \"\") {\n        return;\n      }\n\n      console.log(event.intersects[0].object.position);\n      anime({\n        targets: event.intersects[0].object.position,\n        z: [\n          {\n            value: photozposition - 0.25,\n            easing: \"easeInOutQuad\",\n            duration: 100,\n          },\n          {\n            value: photozposition,\n            easing: \"easeInOutQuad\",\n            duration: 300,\n            delay: 100,\n          },\n        ],\n        loop: false,\n        direction: \"alternate\",\n      });\n\n      //replyref = event.intersects[0].object.name;\n      //document.getElementById(\"reply-input\").click();\n\n      console.log(\n        \"are replies visible \" +\n          areRepliesVisible[event.intersects[0].object.name]\n      );\n      if (\n        (areRepliesVisible[event.intersects[0].object.name] || false) === false\n      ) {\n        areRepliesVisible[event.intersects[0].object.name] = true;\n        displayReplies(event.intersects[0].object);\n        console.log(\"Reply false\");\n      } else if (areRepliesVisible[event.intersects[0].object.name] === true) {\n        console.log(\"Reply true\");\n        areRepliesVisible[event.intersects[0].object.name] = false;\n        contractReplies(event.intersects[0].object);\n      }\n      //console.log(replyref);\n    }, 300); //wait 300ms then run single click code\n  } else {\n    //tapped within 300ms of last tap. double tap\n    clearTimeout(tapped); //stop single tap callback\n    tapped = null;\n\n    console.log(\"DOUBLE TAP\");\n    // double tap\n\n    if (event.intersects[0].object.name === \"\") {\n      return;\n    }\n\n    var position = event.intersects[0].object.worldToLocal(\n      event.intersects[0].point\n    );\n\n    var point = {xposition: position.x, yposition: position.y}\n\n    firebase.database().ref(\"/testimages/\" + event.intersects[0].object.name + \"/stars/\" + firebase.auth().currentUser.uid).set(point)\n  }\n}\n\nfunction contractReplies(object) {\n\n  object.canClick = true\n\n  var objectreplies = [];\n\n  if (replies[object.name]) {\n    objectreplies = replies[object.name];\n  }\n\n  animateInReplyMesh(replyMeshes[object.name]);\n\n  anime({\n    targets: object.position,\n    x: [\n      {\n        value: 0,\n        easing: \"easeInOutQuad\",\n        duration: 300,\n      },\n    ],\n  });\n\n  anime({\n    targets: replyLine[object.name].scale,\n    y: [\n      {\n        value: 0,\n        easing: \"easeInOutQuad\",\n        duration: 175,\n        delay: 100,\n      },\n    ],\n  });\n  anime({\n    targets: replyLine[object.name].position,\n    x: [\n      {\n        value: replyLine[object.name].position.x + 0.1,\n        easing: \"easeInOutQuad\",\n        duration: 175,\n        delay: 100,\n      },\n    ],\n  });\n\n  anime({\n    targets: replyLine[object.name].material,\n    opacity: [\n      {\n        value: 0,\n        easing: \"easeInOutQuad\",\n        duration: 175,\n        delay: 100,\n      },\n    ],\n    complete: function () {\n      scene.remove(replyLine[object.name]);\n    },\n  });\n\n  var lowestyreply = object.position.y - 0.01;\n\n  if (Object.entries(objectreplies).length > 0) {\n    lowestyreply = Object.entries(objectreplies)[\n      Object.entries(objectreplies).length - 1\n    ][1].object.position.y;\n  }\n\n  for (var photo of photos) {\n    if (photo.position.y < lowestyreply) {\n      anime({\n        targets: photo.position,\n        y: [\n          {\n            value: photo.position.y - yRepliesDifferential[object.name],\n            easing: \"easeInOutQuad\",\n            duration: 400,\n          },\n        ],\n        complete: function() {\n          object.canClick = true\n        }\n      });\n    }\n  }\n\n  Object.entries(objectreplies).forEach(([key, value], index) => {\n    removeItemAll(photos, value.object);\n\n    object.attach(value.object);\n    //value.object.scale.set(1,1,1)\n\n    var material = new THREE.MeshStandardMaterial();\n    material.color = new THREE.Color(generateReplyPlaceholderColor(index));\n    value.object.material = material;\n    value.object.material.needsUpdate = true;\n\n    var position = generateReplyPlaceholderPosition(index);\n\n    // value.object.position.x = position.x\n    // value.object.position.y = position.y\n    // value.object.position.z = position.z\n\n    //value.object.children[0].opacity = 0\n\n    for (var animation of value.animations || []) {\n      animation.pause();\n    }\n\n    //value.object.rotation.set(0, 0, 0);\n\n    for (var child of value.object.children) {\n      anime({\n        targets: child.material,\n        opacity: [\n          {\n            value: 0,\n            easing: \"easeInOutQuad\",\n            duration: 300,\n          },\n        ],\n        complete: function () {\n          value.object.remove(child);\n        },\n      });\n    }\n\n    anime({\n      targets: value.object.position,\n      x: [\n        {\n          value: position.x,\n        },\n      ],\n      y: [\n        {\n          value: position.y,\n        },\n      ],\n      z: [\n        {\n          value: position.z,\n        },\n      ],\n      easing: \"easeInOutQuad\",\n      duration: 175,\n      delay: 100,\n      complete: function () {\n        value.object.rotation.set(0, 0, 0);\n      },\n    });\n\n    anime({\n      targets: value.object.scale,\n      x: [\n        {\n          value: 1,\n        },\n      ],\n      y: [\n        {\n          value: 1,\n        },\n      ],\n      z: [\n        {\n          value: 1,\n        },\n      ],\n      easing: \"easeInOutQuad\",\n      duration: 175,\n      delay: 100,\n    });\n\n    //   anime({\n    //     targets: value.object.rotation,\n    //     x: [\n    //       {\n    //         value: 0,\n    //       },\n    //     ],\n    //     y: [\n    //       {\n    //         value: 0,\n    //       },\n    //     ],\n    //     z: [\n    //       {\n    //         value: 0,\n    //       },\n    //     ],\n    //     easing: \"easeInOutQuad\",\n    //     duration: 175,\n    //     delay: 100,\n    //   });\n  });\n}\n\nfunction displayReplies(object) {\n  object.canClick = false\n\n  console.log(\"Object scale \" + object.scale.y);\n  const startingyvalue = object.scale.y / 2;\n  var yvalue = object.position.y - startingyvalue;\n  var midpoints = [];\n  console.log(\"Starting value \" + startingyvalue);\n  var objectreplies = [];\n\n  if (replies[object.name]) {\n    objectreplies = replies[object.name];\n  }\n\n  anime({\n    targets: object.position,\n    x: [\n      {\n        value: 0 - 0.2,\n        easing: \"easeInOutQuad\",\n        duration: 300,\n      },\n    ],\n  });\n\n  Object.entries(objectreplies).forEach(([key, value], index) => {\n    var color =\n      \"#\" +\n      interpolateColors(primarywhite, \"3773B3\", 1 - 1 / (index + 1 * 2), 16);\n\n    console.log(key, value);\n    console.log(\"Y value \" + yvalue);\n\n    scene.attach(value.object);\n\n    if (yvalue < startingyvalue) {\n      yvalue = yvalue - 0.5;\n      yvalue = yvalue - (imagewidth * (value.height / value.width)) / 2;\n    }\n\n    midpoints.push(yvalue - object.position.y);\n\n    textureLoader.crossOrigin = \"Anonymous\";\n    // eslint-disable-next-line no-loop-func\n    textureLoader.load(roughnessmap, function (texture) {\n      console.log(\"TEXTURE LOADED\", texture);\n      //value.object.material.roughnessMap = texture;\n\n      textureLoader.load(value.url, function (maptexture) {\n        console.log(\"texture loaded\");\n        //var material = new THREE.MeshStandardMaterial()\n        //material.map = maptexture\n        //material.roughnessMap = texture\n\n        //value.object.material = material\n        // value.object.material.map = maptexture;\n        // value.object.material.needsUpdate = true;\n      });\n    });\n\n    anime({\n      targets: value.object.scale,\n      y: [\n        {\n          value: imagewidth * (value.height / value.width),\n          easing: \"easeInOutQuad\",\n          duration: 175,\n          delay: 100,\n        },\n      ],\n      complete: function () {\n        // value.object.material.color = \"0xffffff\"\n\n        var addRandomNumber = (Math.random() * 0.1) / 2;\n        var addTimeRandomNumber = Math.random() * 200;\n\n        value.animations = addRotationAnimation(\n          value.object,\n          addRandomNumber,\n          addTimeRandomNumber\n        );\n\n        calculateNewFeedSize();\n\n        var badgeStyle = \"globe\"\n    \n        if (followingList[value.creator] === true) {\n          badgeStyle = \"following\"\n          console.log(\"Found following\")\n        }\n\n        var badge = addBadge(value.creatorusername, color, value.object,value.creator, badgeStyle);\n        badge.material.opacity = 0;\n\n        anime({\n          targets: badge.material,\n          opacity: [\n            {\n              value: 1,\n              easing: \"easeInOutQuad\",\n              duration: 750,\n            },\n          ],\n        });\n      },\n    });\n\n    anime({\n      targets: value.object.position,\n      y: [\n        {\n          value: yvalue,\n          easing: \"easeInOutQuad\",\n          duration: 175,\n          delay: 100,\n        },\n      ],\n      x: [\n        {\n          value: 0.1,\n          easing: \"easeInOutQuad\",\n          duration: 175,\n          delay: 100,\n        },\n      ],\n      complete: function () {\n        photos.push(value.object);\n\n        var material = new THREE.MeshStandardMaterial();\n         value.object.material = material;\n         assignGrimeTexture(value.object)\n\n\n          textureLoader.load(value.url, function (maptexture) {\n            console.log(\"texture loaded\");\n            material.map = maptexture;\n            //material.roughnessMap = texture;\n\n            // value.object.material.map = maptexture;\n             value.object.material.needsUpdate = true;\n          });\n    \n      },\n    });\n\n    anime({\n      targets: value.object.position,\n      z: [\n        {\n          value: photozposition - 0.5,\n          easing: \"easeInOutQuad\",\n          duration: 50,\n        },\n        {\n          value: photozposition,\n          easing: \"easeInOutQuad\",\n          duration: 300,\n          delay: 200,\n        },\n      ],\n    });\n\n    console.log(yvalue);\n\n    yvalue = yvalue - (imagewidth * (value.height / value.width)) / 2;\n\n  });\n\n  drawReplyLine(yvalue - object.position.y, midpoints, object);\n\n  \n\n  var stickerdifferential = 0\n  var nextPhotoDifferential = 0\n\n  sortPhotosByYPosition(photos)\n\n  for (var photo of photos) {\n    if (photo.position.y < object.position.y && object.name != \"\") {\n\n      nextPhotoDifferential = object.scale.y / 2\n      break\n\n    }\n  }\n\n  yRepliesDifferential[object.name] = yvalue - object.position.y + nextPhotoDifferential;\n  \n  for (var photo of photos.reverse()) {\n    if (photo.position.y < object.position.y) {\n\n\n      anime({\n        targets: photo.position,\n        y: [\n          {\n            value: photo.position.y + yvalue - object.position.y + nextPhotoDifferential,\n            easing: \"easeInOutQuad\",\n            duration: 550,\n          },\n        ],\n        complete: function() {\n          object.canClick = true\n        }\n      });\n    }\n  }\n  if (!replyMeshes[object.name]) {\n    createReplyMesh(object.position.y, object.name);\n  } else {\n    animateOutReplyMesh(replyMeshes[object.name]);\n  }\n}\n\nfunction animateOutReplyMesh(mesh) {\n  anime({\n    targets: mesh.position,\n    x: [\n      {\n        value: imagewidth / 2 + 0.1,\n        easing: \"easeInOutQuad\",\n        duration: 350,\n        delay: 100,\n      },\n    ],\n    z: [\n      {\n        value: photozposition - 0.3,\n        easing: \"easeInOutQuad\",\n        duration: 350,\n        delay: 100,\n      },\n    ],\n  });\n}\n\nfunction animateInReplyMesh(mesh) {\n  anime({\n    targets: mesh.position,\n    x: [\n      {\n        value: 0,\n        easing: \"easeInOutQuad\",\n        duration: 350,\n        delay: 100,\n      },\n    ],\n    z: [\n      {\n        value: photozposition - 0.5,\n        easing: \"easeInOutQuad\",\n        duration: 350,\n        delay: 100,\n      },\n    ],\n  });\n}\n\nfunction createReplyMesh(yvalue, id) {\n  var replymesh = drawReplySymbol();\n\n  ///replymesh.name = id + \"reply\"\n\n  replyMeshes[id] = replymesh;\n\n  scene.add(replymesh);\n\n  replymesh.position.set(0, yvalue, photozposition - 0.5);\n\n  animateOutReplyMesh(replymesh);\n\n  var scale = 0.45;\n  replymesh.scale.set(scale, scale, scale);\n\n  photos.push(replymesh);\n\n  //addBadge(\"xcelspreadsheet\",\"#\" + primarywhite,replymesh)\n\n  // var addRandomNumber = (Math.random() * 0.1) / 2;\n  // var addTimeRandomNumber = Math.random() * 200;\n  // addRotationAnimation(replymesh, addRandomNumber, addTimeRandomNumber);\n  anime({\n    targets: replymesh.rotation,\n    y: [\n      {\n        value: Math.PI * 2,\n        easing: \"linear\",\n        duration: 8000,\n      },\n    ],\n    loop: true,\n  });\n\n  replymesh.on(\"click\", function () {\n    replyref = id;\n    document.getElementById(\"reply-input\").click();\n    anime({\n      targets: replymesh.position,\n      z: [\n        {\n          value: photozposition - 0.3 - 0.25,\n          easing: \"easeInOutQuad\",\n          duration: 100,\n        },\n        {\n          value: photozposition - 0.3,\n          easing: \"easeInOutQuad\",\n          duration: 300,\n          delay: 100,\n        },\n      ],\n    });\n  });\n}\n\nfunction drawReplySymbol() {\n  var path = new THREE.Path();\n  var xoffset = 0.425;\n  var yoffset = -0.35;\n  var multiplier = 1;\n  // path.moveTo(-0.1 + xoffset * multiplier, 0.1 + yoffset * multiplier);\n  // path.quadraticCurveTo(\n  //   0 + xoffset * multiplier,\n  //   0.45 + yoffset * multiplier,\n  //   -0.5 + xoffset * multiplier,\n  //   0.5 + yoffset * multiplier\n  // );\n  // path.lineTo(-0.5 + xoffset * multiplier, 0.6 + yoffset * multiplier);\n  // path.lineTo(-0.75 + xoffset * multiplier, 0.4 + yoffset * multiplier);\n  // path.lineTo(-0.5 + xoffset * multiplier, 0.2 + yoffset * multiplier);\n  // path.lineTo(-0.5 + xoffset * multiplier, 0.3 + yoffset * multiplier);\n  // path.quadraticCurveTo(\n  //   -0.2 + xoffset * multiplier,\n  //   0.3 + yoffset * multiplier,\n  //   -0.1 + xoffset * multiplier,\n  //   0.1 + yoffset * multiplier\n  // );\n\n  //path.lineTo( 1, 1 );\n\n  path.moveTo(-0.05 , 0.2 )\n  path.lineTo(-0.3 , 0 )\n  path.lineTo(-0.05 , -0.2 )\n  path.lineTo(-0.3 , 0 )\n  path.lineTo( 0, 0 )\n  path.quadraticCurveTo( 0.3, 0,   0.3, -0.20)\n  path.quadraticCurveTo( 0.3, -0.4,   0.1, -0.4)\n  path.quadraticCurveTo( -0.1, -0.2,0.1, -0.1)\n\n\n  var points = path.getPoints(25);\n\n  var geometry = new THREE.BufferGeometry().setFromPoints(points);\n\n  var material = new THREE.LineBasicMaterial({ color: 0x00000 });\n\n  // Create the final object to add to the scene\n  var splineObject = new THREE.Line(geometry, material);\n  // scene.add(splineObject);\n  // splineObject.position.set(0, 0, 2);\n  return splineObject;\n\n}\n//drawReplySymbol();\nfunction drawReplyLine(endofline, midpoints, objectanchor) {\n  // Create a sine-like wave\n  // var curve = new THREE.SplineCurve( [\n  // \tnew THREE.Vector2( 0, 0 ),\n  // \tnew THREE.Vector2( 0, endofline ),\n  // \tnew THREE.Vector2( 0.1, endofline )\n  // ] );\n\n  // var points = curve.getPoints( 10 );\n\n  var path = new THREE.Path();\n\n  for (var [index, midpoint] of midpoints.entries()) {\n    if (index === midpoints.length - 1) {\n      path.lineTo(0, midpoint + 0.15);\n      path.quadraticCurveTo(0, midpoint, 0.25, midpoint);\n      console.log(\"last midpoint\" + midpoint);\n      continue;\n    }\n    // console.log(\"other midpoint\" + midpoint);\n    // path.lineTo(0, midpoint);\n    // path.lineTo(0.15, midpoint);\n    // path.lineTo(0, midpoint);\n\n    path.lineTo(0, midpoint + 0.15);\n    path.quadraticCurveTo(0, midpoint, 0.25, midpoint);\n    path.quadraticCurveTo(0, midpoint, 0, midpoint - 0.15);\n    console.log(\"last midpoint\" + midpoint);\n\n  }\n  // var pointArray = []\n  // pointArray.push(new THREE.Vector2(-0.05, 0))\n  // for (var midpoint of midpoints) {\n\n  //   const vectorPoint = new THREE.Vector2(0 + (imagewidth/2) + (Math.random() * 0.2), midpoint)\n  //   const vectorPoint2 = new THREE.Vector2(0 - Math.random() * 0.5, midpoint - (Math.random() * 0.5))\n\n  //   pointArray.push(vectorPoint2)\n  //   pointArray.push(vectorPoint)\n  // }\n\n  // var curve =  new THREE.SplineCurve(pointArray)\n\n\n  // path.lineTo(0, endofline + 0.1);\n  // path.quadraticCurveTo(0, endofline, 0.1, endofline);\n\n  //path.lineTo( 1, 1 );\n\n  var points = path.getPoints();\n\n  var geometry = new THREE.BufferGeometry().setFromPoints(points);\n\n  var material = new THREE.LineBasicMaterial({ color: 0x00000 });\n\n  // Create the final object to add to the scene\n  var splineObject = new THREE.Line(geometry, material);\n\n  var meshAnchor = new THREE.Mesh();\n  scene.add(meshAnchor);\n  meshAnchor.position.set(\n    -(imagewidth / 2),\n    objectanchor.position.y,\n    photozposition - 0.5\n  );\n  meshAnchor.add(splineObject);\n  meshAnchor.scale.y = 0;\n  meshAnchor.scale.x = 0;\n\n  photos.push(meshAnchor);\n\n  replyLine[objectanchor.name] = meshAnchor;\n\n  meshAnchor.material.opacity = 0;\n\n  anime({\n    targets: meshAnchor.scale,\n    y: [\n      {\n        value: 1,\n        easing: \"easeInOutQuad\",\n        duration: 175,\n        delay: 100,\n      },\n    ],\n    x: [\n      {\n        value: 1,\n        easing: \"easeInOutQuad\",\n        duration: 175,\n        delay: 100,\n      },\n    ],\n  });\n  anime({\n    targets: meshAnchor.position,\n    x: [\n      {\n        value: -(imagewidth / 2) - 0.1,\n        easing: \"easeInOutQuad\",\n        duration: 175,\n        delay: 100,\n      },\n    ],\n  });\n\n  anime({\n    targets: meshAnchor.material,\n    opacity: [\n      {\n        value: 1,\n        easing: \"easeInOutQuad\",\n        duration: 175,\n        delay: 100,\n      },\n    ],\n  });\n}\n\nfunction handlePhotoMouseUp(event) {\n  // anime({\n  //   targets: event.intersects[0].object.position,\n  //   z: [{ value: photozposition, easing: \"easeInOutQuad\", duration: 300 }],\n  //   loop: false,\n  //   direction: \"alternate\",\n  // });\n}\n\nfunction createReplyPlaceholder(originalcube, index) {\n  var geometry = photoGeometry\n\n  var color = generateReplyPlaceholderColor(index); //parseInt(\n  //   \"0x\" + interpolateColors(\"3773B3\", primarywhite, 1 / (index * 1.4), 16)\n  // );\n\n  var material = new THREE.MeshStandardMaterial({\n    color: color,\n  });\n  var cube = new THREE.Mesh(geometry, material);\n  cube.castShadow = true;\n  originalcube.add(cube);\n  // cube.position.x = 0.03 - 0.03 * (1 / (index * 1.5));\n  // cube.position.y = -0.2 + -0.2 * -(1 / (index * 1.5));\n  // cube.position.z = -0.1 + -0.1 * -(1 / (index * 1.5));\n\n  var position = generateReplyPlaceholderPosition(index);\n\n  cube.position.x = position.x;\n  cube.position.y = position.y;\n  cube.position.z = position.z;\n  console.log(cube.position.y);\n\n  // cube.scale.set(1/originalcube.scale.x, 1/originalcube.scale.y, 1/originalcube.scale.z);\n\n  return cube;\n}\n\nfunction generateReplyPlaceholderColor(index) {\n  index = index + 1;\n  return parseInt(\n    \"0x\" + interpolateColors(\"3773B3\", primarywhite, 1 / (index * 1.4), 16)\n  );\n}\n\nfunction generateReplyPlaceholderPosition(index) {\n  index = index + 1;\n  var x = 0.03 - 0.03 * (1 / (index * 1.5));\n  var y = -0.2 + -0.2 * -(1 / (index * 1.5));\n  var z = -0.1 + -0.1 * -(1 / (index * 1.5));\n  return { x: x, y: y, z: z };\n}\n\nfunction fadeInObject(object) {\n  object.material.opacity = 0\n\n  anime({\n    targets: object.material,\n    opacity: [\n      {\n        value: 1,\n        easing: \"easeInOutQuad\",\n        duration: 300,\n      },\n    ],\n  });\n}\n\nfunction createStarObject() {\n  var geometry = new THREE.BufferGeometry().fromGeometry(new THREE.PlaneGeometry(0.0865, 0.08565, 0.1))\n  var material = new THREE.MeshStandardMaterial();\n  material.metalness = 0.5;\n  material.roughness = 0.1;\n  material.transparent = true;\n  var object = new THREE.Mesh(geometry, material);\n\n\n  // eslint-disable-next-line no-loop-func\n  textureLoader.load(starimage, function (texture) {\n    material.map = texture;\n    material.roughnessMap = texture;\n    textureLoader.load(starimagealpha, function (texture) {\n      material.alphaMap = texture;\n      material.needsUpdate = true\n    })\n  })\n\n  return object\n}\n\nfunction addMoveStar(parentobject, starKey, xposition, yposition) {\n\n  if (parentobject.getObjectByName(starKey)) {\n    var star = parentobject.getObjectByName(starKey)\n    star.position.x = xposition\n    star.position.y = yposition\n    //star.rotation.x = Math.random() * Math.PI\n\n    fadeInObject(star)\n\n    return\n  }\n\n  // var geometry = new THREE.PlaneGeometry(0.1, 0.1, 0.1);\n  // var material = new THREE.MeshStandardMaterial();\n  // material.metalness = 0.5;\n  // material.roughness = 0.1;\n  // material.transparent = true;\n\n  // // eslint-disable-next-line no-loop-func\n  // textureLoader.load(starimage, function (texture) {\n  //   material.map = texture;\n  //   material.roughnessMap = texture;\n  //   textureLoader.load(starimagealpha, function (texture) {\n  //     material.alphaMap = texture;\n  //     var object = new THREE.Mesh(geometry, material);\n    const object = new THREE.Mesh(starObject.geometry, starObject.material.clone())\n      parentobject.add(object);\n      object.position.set(xposition, yposition, 0.0001);\n      //object.rotation.z = Math.random() * Math.PI\n      object.name = starKey\n\n      object.scale.set(\n        1 / parentobject.scale.x,\n        1 / parentobject.scale.y,\n        1\n      );\n\n      fadeInObject(object)\n  //   });\n  // });\n}\n\n\n\n\nfunction createPhoto(\n  url,\n  xposition,\n  yposition,\n  username,\n  photo,\n  photoType,\n  photoAnimationType,\n  feedphoto,\n  newphoto,\n  newreply\n) {\n  // var photoGeometry = new THREE.BufferGeometry().fromGeometry(new THREE.BoxGeometry(1, 1, 0.000001))\n  var cube = new THREE.Mesh(photoGeometry);\n  var material = new THREE.MeshStandardMaterial()\n  cube.material = material\n\n  assignGrimeTexture(cube)\n\n  //material.needsUpdate = true\n\n  var height = photo.height;\n  var width = photo.width;\n  var key = photo.key;\n\n  // var textureLoader = new THREE.TextureLoader();\n  // textureLoader.crossOrigin = \"Anonymous\";\n  // textureLoader.load(roughnessmap, function (texture) {\n  //   console.log(\"TEXTURE LOADED\", texture);\n\n  //     cube.material.roughnessMap = texture\n  //     cube.material.needsUpdate = true\n  //   });\n    // cube.rotation.x = -0.1;\n    // cube.rotation.y = -0.2;\n\n    cube.scale.y = imagewidth * (height / width);\n    cube.scale.x = imagewidth;\n    cube.castShadow = true;\n    cube.name = key;\n    scene.add(cube);\n\n    cube.position.y = yposition;\n    cube.position.x = xposition;\n\n    cube.canClick = false\n\n    var badgeStyle = \"globe\"\n    var badgeColor = \"#fe5b30\"\n\n    console.log(\"Following photo \" + photo.creator)\n    console.log(followingList)\n\n      if (followingList[photo.creator] === true) {\n        badgeStyle = \"following\"\n        badgeColor = \"#\" + primarydarkpink\n        console.log(\"Found following\")\n      }\n    \n\n    if (photoAnimationType === animationType.fromabove) {\n      cube.position.z = 5;\n      cube.material.opacity = 0;\n\n      anime({\n        targets: cube.position,\n        z: [\n          {\n            value: photozposition,\n            easing: \"spring(1, 80, 10, 0)\",\n            duration: 800 + -yposition * 100,\n          },\n        ], \n        complete: function() {\n          cube.canClick = true\n        }\n      });\n\n      anime({\n        targets: cube.material,\n        opacity: [\n          {\n            value: 1,\n            easing: \"easeInOutQuad\",\n            duration: 800 + -yposition * 10,\n          },\n        ],\n      });\n\n      var addRandomNumber = (Math.random() * 0.1) / 2;\n      var addTimeRandomNumber = Math.random() * 200;\n    \n    \n      addRotationAnimation(cube, addRandomNumber, addTimeRandomNumber);\n    }\n\n    if (photoType === type.feedphoto || photoType === type.newphoto) {\n\n      cube.url = url\n      cube.loaded = false\n\n      addStarsRefs(cube,key)\n      addPhotoClickEvent(cube)\n      addBadge(username, badgeColor, cube, photo.creator, badgeStyle);\n\n\n    } \n    \n    if (photoAnimationType === animationType.fromleft) {\n      cube.position.z = photozposition;\n      cube.position.x = xposition - 8\n      cube.position.y = yposition + 1.5\n      cube.rotation.z = -0.5;\n    \n\n      anime({\n        targets: cube.rotation,\n        z: [\n          {\n            value: 0,\n          },\n        ],\n        easing: \"spring(1, 80, 20, 0)\",\n        duration: 3000,\n      });\n\n      anime({\n        targets: cube.position,\n        x: [\n          {\n            value: xposition,\n          },\n        ],\n        easing: \"spring(1, 100, 20, 0)\",\n        duration: 1800,\n        delay: anime.random(0, 150),\n        complete: function() {\n          cube.canClick = true\n        }\n      });\n\n      anime({\n        targets: cube.position,\n        y: [\n          {\n            value: yposition,\n          },\n        ],\n        easing: \"spring(1, 80, 20, 0)\",\n        duration: 1800 ,\n        complete: function () {\n          var addRandomNumber = (Math.random() * 0.1) / 2;\n          var addTimeRandomNumber = Math.random() * 200;\n\n          addRotationAnimation(cube, addRandomNumber, addTimeRandomNumber);\n        },\n      });\n    }\n\n    if (photoAnimationType === animationType.fromright) {\n      cube.position.x = xposition + 8;\n      cube.position.y = yposition + 0.75;\n      cube.position.z = photozposition;\n      cube.rotation.z = -0.5;\n\n      anime({\n        targets: cube.rotation,\n        z: [\n          {\n            value: 0,\n          },\n        ],\n        easing: \"spring(1, 80, 20, 0)\",\n        duration: 2000,\n      });\n\n      anime({\n        targets: cube.position,\n        x: [\n          {\n            value: xposition,\n          },\n        ],\n        easing: \"spring(1, 80, 20, 0)\",\n        duration: 1800,\n        delay: anime.random(0, 150),\n        complete: function() {\n          cube.canClick = true\n        }\n      });\n\n      anime({\n        targets: cube.position,\n        y: [\n          {\n            value: yposition,\n          },\n        ],\n        easing: \"spring(1, 80, 20, 0)\",\n        duration: 1800 ,\n        complete: function () {\n          var addRandomNumber = (Math.random() * 0.1) / 2;\n          var addTimeRandomNumber = Math.random() * 200;\n\n          addRotationAnimation(cube, addRandomNumber, addTimeRandomNumber);\n        },\n      });\n    }\n\n    if (photoType === type.newreply) {\n\n      textureLoader.load(url, function (texture) {\n        console.log(\"TEXTURE LOADED\", texture);\n    \n          cube.material.map = texture\n          cube.material.needsUpdate = true\n        });\n\n        var color =\n      \"#\" +\n      interpolateColors(primarywhite, \"3773B3\", 0.25);\n      addBadge(username, color, cube, photo.creator, badgeStyle);\n\n    }\n\n    //cube.position.z = photozposition;\n\n    photos.push(cube);\n    photoDataByKey[key] = photo\n\n    if (photo.replies) {\n      console.log(\"FOUDN REPLIES\");\n      Object.entries(photo.replies)\n        .reverse()\n        .forEach(([replykey, replyvalue], index) => {\n          console.log(`${index}: ${replykey} = ${replyvalue}`);\n          var newplaceholder = createReplyPlaceholder(cube, index, cube);\n          console.log(newplaceholder);\n          replyvalue.object = newplaceholder;\n          if (replies[key]) {\n            replies[key][replykey] = replyvalue;\n          } else {\n            replies[key] = {};\n            replies[key][replykey] = replyvalue;\n          }\n          console.log(replies);\n        });\n    }\n\n\n\n    // textureLoader.load(url, function (maptexture) {\n    //   console.log(\"texture loaded\");\n    //   cube.material.map = maptexture;\n    //   cube.material.needsUpdate = true;\n\n      \n    // });\n\n  calculateNewFeedSize()\n\n  return cube;\n}\n\nfunction addPhotoClickEvent(cube) {\n  cube.cursor = \"pointer\";\n  cube.on(\"click\", (ev) => {\n    console.log(ev);\n    if (ev.intersects[0].object.canClick === true) {\n      handlePhotoMouseDown(ev);\n    }\n  });\n}\n\nfunction addStarsRefs(cube, key) {\n  var starsRef = firebase.database().ref('testimages/' + key + \"/stars\");\n\n  starsRef.on('child_added', function(data) {\n    console.log(data)\n    addMoveStar(cube, data.key, data.val().xposition, data.val().yposition)\n });\n starsRef.on('child_changed', function(data) {\n  console.log(data)\n  addMoveStar(cube, data.key, data.val().xposition, data.val().yposition)\n});\n cube.starsRef = starsRef\n}\n\nfunction addUIDToFollowList(uid) {\n  firebase.database().ref(\"/following/\" + firebase.auth().currentUser.uid + \"/\" + uid).set(true)\n}\n\nfunction addFollowedPostToPrivateFeed(addedUID) {\n  firebase.database().ref('/testimages/').orderByChild('creator').equalTo(addedUID).once('value',function(snapshot) {\n    for (let key in snapshot.val()) {\n        firebase.database().ref('privatefeeds/' + firebase.auth().currentUser.uid + '/' + key).set(true)\n    }\n})\n}\n\nfunction removeUIDFromFollowList(uid) {\n  firebase.database().ref(\"/following/\" + firebase.auth().currentUser.uid).child(uid).remove()\n}\n\nfunction removeFollowedPostFromPrivateFeed(removedUID) {\n  firebase.database().ref('/testimages/').orderByChild('creator').equalTo(removedUID).once('value',function(snapshot) {\n      for (let key in snapshot.val()) {\n          firebase.database().ref('privatefeeds/' + firebase.auth().currentUser.uid).child(key).remove()\n      }\n  })\n}\n\nfunction handleFollow(uid) {\n  console.log(uid)\n  addUIDToFollowList(uid)\n  addFollowedPostToPrivateFeed(uid)\n}\n\nfunction handleUnfollow(uid) {\n  removeUIDFromFollowList(uid)\n  removeFollowedPostFromPrivateFeed(uid)\n}\n\nfunction addBadge(username, color, object, uid, badgeStyle) {\n  var mesh = circleBadge(username, 100, 100, 50, Math.PI / 2, 0.45, color, badgeStyle);\n\n  object.add(mesh);\n\n  mesh.cursor = \"pointer\";\n  mesh.on(\"click\", (ev) => {\n    console.log(ev);\n\n    anime({\n      targets: object.rotation,\n      x:  object.rotation.x + 0.05,\n      y: object.rotation.y + 0.12,\n      easing: 'easeOutElastic',\n      duration:transitionTime + 200,\n      direction:'alternate',\n     complete: function() {\n      // handleFollow(uid);\n\n     }})\n\n    anime({\n      targets: object.position,\n      x:  object.position.x - 0.25,\n      easing: 'easeInQuad',\n      duration:transitionTime/2,\n     complete: function() {\n      // handleFollow(uid);\n\n     }})\n\n     setTimeout(function() {\n      window.App.goForward(username,uid,null,requestUserPhotos, uid,photos)\n      // addToBackDict(currentPhotosList, stickers, null,window.App.state.currentTitle, uid)\n      // transitionPhotosLeft(photos)\n\n      // setTimeout(function() { \n      //   requestUserPhotos(uid)\n      // }, transitionTime - 100);  \n      // window.App.setState({\n      //   currentTitle:username,\n      //   currentTitleUid: uid\n      // })\n     }, transitionTime/2)\n\n\n  });\n\n\n  mesh.scale.y = 1 / object.scale.y;\n  mesh.scale.x = 1 / object.scale.x;\n  mesh.scale.z = 1 / object.scale.z;\n\n  mesh.position.z = 0.05;\n  mesh.position.y = -imagewidth / 4;\n  mesh.position.x = imagewidth / 4;\n  return mesh;\n}\n\nfunction addRotationAnimation(cube, addRandomNumber, addTimeRandomNumber) {\n  var animation1 = anime({\n    targets: cube.rotation,\n    x: [\n      {\n        value: -0.015 - addRandomNumber / 2,\n        easing: \"easeInOutQuad\",\n        duration: 3500 + addTimeRandomNumber,\n      },\n      {\n        value: 0.015 + addRandomNumber / 2,\n        easing: \"easeInOutQuad\",\n        duration: 3500 + addTimeRandomNumber,\n      },\n    ],\n    loop: true,\n    direction: \"alternate\",\n  });\n  var animation2 = anime({\n    targets: cube.rotation,\n    y: [\n      {\n        value: -0.01 - addRandomNumber / 2,\n        easing: \"easeInOutQuad\",\n        duration: 4000 - addTimeRandomNumber,\n      },\n      {\n        value: 0.01 + addRandomNumber / 2,\n        easing: \"easeInOutQuad\",\n        duration: 4000 - addTimeRandomNumber,\n      },\n    ],\n    loop: true,\n    direction: \"alternate\",\n    duration: 4000,\n  });\n\n  var animation3 = anime({\n    targets: cube.rotation,\n    z: [\n      {\n        value: -0.002 - addRandomNumber / 6,\n        easing: \"easeInOutQuad\",\n        duration: 4000 - addTimeRandomNumber,\n      },\n      {\n        value: 0.002 + addRandomNumber / 6,\n        easing: \"easeInOutQuad\",\n        duration: 4000 - addTimeRandomNumber,\n      },\n    ],\n    loop: true,\n    direction: \"alternate\",\n    duration: 4000,\n  });\n\n  return [animation1, animation2, animation3];\n}\n\nfunction hasTouch() {\n  return (\n    \"ontouchstart\" in document.documentElement ||\n    navigator.maxTouchPoints > 0 ||\n    navigator.msMaxTouchPoints > 0\n  );\n}\n\nCanvasRenderingContext2D.prototype.fillTextCircle = function (\n  text,\n  x,\n  y,\n  radius,\n  startRotation\n) {\n  var numRadsPerLetter = (2 * Math.PI) / text.length;\n  var numRadsPerLetter = 0.35;\n  this.save();\n  this.translate(x / 2, y / 2);\n  this.rotate(startRotation);\n\n  for (var i = 0; i < text.length; i++) {\n    this.save();\n    this.rotate(i * numRadsPerLetter);\n\n    this.fillText(text[i], 0, -radius);\n    this.restore();\n  }\n  this.restore();\n};\n\nfunction drawImage(ctx, x, imageToDraw, texture) {\n\n  var image = new Image()\n  image.onload = function() {\n    ctx.drawImage(image,x/3.72,x/3.72,x/2.15,x/2.15)\n    texture.needsUpdate = true\n  }\n  image.src = imageToDraw\n\n}\n\nfunction drawFace(ctx, x, y, radius) {\n  ctx.beginPath();\n  ctx.arc(x / 2, x / 2, radius / 2.14, 0, Math.PI * 2, true); // Outer circle\n  ctx.moveTo(110, 75);\n  ctx.arc(x / 2, x / 2, radius / 3, 0, Math.PI, false); // Mouth (clockwise)\n  ctx.moveTo(65, 65);\n  ctx.arc(x / 2.5, y / 2.3, radius / 15, 0, Math.PI * 2, true); // Left eye\n  ctx.moveTo(x / 1.58, y / 2.3);\n  ctx.arc(x / 1.66, y / 2.3, radius / 15, 0, Math.PI * 2, true); // Right eye\n}\n\nfunction circleBadge(\n  text,\n  x,\n  y,\n  radius,\n  startRotation,\n  threejsdimension,\n  color,\n  badgeStyle\n) {\n  var textcanvas = document.createElement(\"canvas\");\n  var ctx = textcanvas.getContext(\"2d\");\n\nvar texture = new THREE.Texture(textcanvas); // now make texture\n  texture.minFilter = THREE.LinearFilter; // eliminate console message\n  //texture.needsUpdate = true;\n\n  textcanvas.width = x;\n  textcanvas.height = y;\n\n  ctx.fillStyle = color;\n  ctx.beginPath();\n  ctx.arc(x / 2, y / 2, radius * 2, 0, Math.PI * 2, true); // Outer circle\n  //ctx.fillRect(0, 0, ctx.width, ctx.height);\n\n  if (badgeStyle === \"globe\") {\n    drawImage(ctx, x, globeimage, texture)\n  } else if (badgeStyle === \"following\") {\n    drawImage(ctx, x, smileyimage, texture)\n  }\n\n  ctx.fill();\n\n  ctx.fillStyle = \"#00000f\";\n  ctx.font = \"italic 20px Times New Roman\";\n\n  ctx.fillTextCircle(text + \" \", x, y, (radius / 3) * 1.8, -Math.PI / 2);\n\n  ctx.stroke();\n\n\n\n  //var geometry = new THREE.CylinderGeometry(threejsdimension, threejsdimension, 0.05, 20);\n  var geometry = new THREE.BufferGeometry().fromGeometry( new THREE.CircleGeometry(threejsdimension / 2, 20))\n  var material1 = new THREE.MeshBasicMaterial({\n    color: 0xfe5b30,\n    opacity: 1.0,\n  });\n  var material2 = new THREE.MeshBasicMaterial({\n    side: THREE.DoubleSide,\n    map: texture,\n    transparent: true,\n    opacity: 1.0,\n  });\n  const materials = [material1, material2, material2];\n  // and finally, the mesh\n  var mesh = new THREE.Mesh(geometry, material2);\n  mesh.castShadow = true;\n  return mesh;\n}\n\nif (hasTouch()) {\n  // remove all the :hover stylesheets\n  try {\n    // prevent exception on browsers not supporting DOM styleSheets properly\n    for (var si in document.styleSheets) {\n      var styleSheet = document.styleSheets[si];\n      if (!styleSheet.rules) continue;\n\n      for (var ri = styleSheet.rules.length - 1; ri >= 0; ri--) {\n        if (!styleSheet.rules[ri].selectorText) continue;\n\n        if (styleSheet.rules[ri].selectorText.match(\":hover\")) {\n          styleSheet.deleteRule(ri);\n        }\n      }\n    }\n  } catch (ex) {}\n}\n\nclass ThreeJS extends Component {\n  componentDidMount() {\n    // === THREE.JS CODE START ===\n    var rotationmodifier = 0.0001;\n\n    camera = new THREE.PerspectiveCamera(\n      50,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      8\n    );\n    if (((window.innerWidth / window.innerHeight) * 1.6666) < 1) {\n      camera.zoom = (window.innerWidth / window.innerHeight) * 1.6666\n    } else {\n      camera.zoom = 1\n    }\n\n\n    var renderer = new THREE.WebGLRenderer({ alpha: true });\n    renderer.setClearColor(0xffffff, 0);\n    renderer.setPixelRatio(Math.min(devicePixelRatio, 2 || 1));\n    renderer.powerPreference = \"low-power\"\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMapSoft = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    this.mount.appendChild(renderer.domElement);\n\n    var geometry = new THREE.PlaneGeometry(800, 800, 800);\n    var material = new THREE.ShadowMaterial({\n      color: 0x666666,\n      side: THREE.DoubleSide,\n    });\n    material.opacity = 0.2;\n    var plane = new THREE.Mesh(geometry, material);\n    plane.position.z = 0;\n    plane.receiveShadow = true;\n    scene.add(plane);\n\n    scene.add(camera);\n    camera.position.z = 5;\n    camera.zoom = 1\n\n    const interaction = new Interaction(renderer, scene, camera);\n\n    //requestLatestPhotos();\n\n    // var cubeloader = new THREE.CubeTextureLoader();\n\n    // var textureCube = cubeloader.load([\n    //   holographicmap,\n    //   holographicmap,\n    //   holographicmap,\n    //   holographicmap,\n    //   holographicmap,\n    //   holographicmap,\n    // ]);\n\n    // var normalMap = textureLoader.load(papermap)\n    // var geometry = new THREE.BoxGeometry(2,2,0.1)\n    // var material = new THREE.MeshStandardMaterial()\n    // material.normalMap = normalMap\n    // material.normalScale = new THREE.Vector2(0.4,0.4)\n    // material.normalMapType = THREE.ObjectSpaceNormalMap\n    // material.envMap = textureCube\n    // material.metalness = 0.9\n    // material.envMap.mapping = THREE.CubeReflectionMapping\n    // var object = new THREE.Mesh(geometry,material)\n    // //scene.add(object)\n    // object.position.set(0,0,1.75)\n\n    // anime({\n    //     targets: object.rotation,\n    //     x: [\n    //       {\n    //         value: Math.PI * 2,\n    //         easing: \"linear\",\n    //         duration: 6000,\n    //       },\n    //     ],\n    //     y: [\n    //       {\n    //         value: Math.PI * 2,\n    //         easing: \"linear\",\n    //         duration: 6000,\n    //       },\n    //     ],\n    //     loop: true,\n    //   });\n\n    // var loader = new GLTFLoader();\n\n    // loader.load(scenedata, function (gltf) {\n    //   console.log(\"loaded scene\");\n\n      // gltf.scene.traverse(function (object) {\n      //   console.log(\"GLTF traverse\");\n      //   console.log(object.name);\n      // });\n\n      // //gltf.scene.position.z = -1000\n      // daisy = gltf.scene.getObjectByName(\"daisy002\");\n      // scene.add(daisy);\n      // daisy.scale.set(0.25, 0.25, 0.25);\n      // daisy.rotation.set(-Math.PI / 2, -Math.PI, -Math.PI);\n      // // daisy.position.set(imagewidth/2 + 0.25,-0.25,photozposition - 0.75)\n      // daisy.position.set(1000, 1000, 1000);\n      // daisy.children[0].castShadow = true;\n      // daisy.children[1].castShadow = true;\n\n      // var diamond = gltf.scene.getObjectByName(\"diamond1\");\n      // // scene.add(diamond);\n      // diamond.scale.set(0.1, 0.1, 0.1);\n      // diamond.rotation.set(-Math.PI / 2, -Math.PI, -Math.PI);\n      // // daisy.position.set(imagewidth/2 + 0.25,-0.25,photozposition - 0.75)\n      // diamond.position.set(0, 0, 2);\n      // diamond.castShadow = true;\n      // console.log(diamond);\n\n      // var diamondmaterial = new THREE.MeshStandardMaterial();\n      // diamond.material = diamondmaterial;\n      // //diamond.material.color = new THREE.Color(\"0x\" + \"BEBEBE\");\n      // diamond.material.metalness = 1;\n      // diamond.material.roughness = 0;\n      // diamond.material.refractionRatio = 0.95;\n      // //diamond.material.envMap.mapping = THREE.CubeRefractionMapping\n      // // diamond.material.envMap = textureCube\n      // var cubeloader = new THREE.CubeTextureLoader();\n\n      // var textureCube = cubeloader.load([\n      //   holographicmap,\n      //   holographicmap,\n      //   holographicmap,\n      //   holographicmap,\n      //   holographicmap,\n      //   holographicmap,\n      // ]);\n\n      // var normalMap = textureLoader.load(papermap)\n      // var geometry = new THREE.BoxGeometry(2,2,0.1)\n      // var material = new THREE.MeshStandardMaterial()\n      // material.normalMap = normalMap\n      // material.envMap = textureCube\n      // material.metalness = 0.9\n      // var object = THREE.Mesh(geometry,material)\n      // scene.add(object)\n      // object.position.set(0,0,2)\n\n      // diamond.material.normalMap = normalMap\n      // diamond.material.metalnessMap = normalMap\n      // diamond.material.map = normalMap\n      // diamond.material.roughnessMap = normalMap\n      // textureCube.mapping = THREE.CubeRefractionMapping;\n      // diamond.material.envMap = textureCube;\n      // diamond.material.transparent = true;\n      // diamond.material.opacity = 1;\n\n\n      // //diamond.material.envMapIntensity = 0.5\n\n      // textureLoader.load(scratchmap, function (texture) {\n      //   diamond.material.roughnessMap = texture\n      //   console.log('loaded scratch map')\n      //           })\n\n      // anime({\n      //   targets: diamond.rotation,\n      //   x: [\n      //     {\n      //       value: Math.PI * 2,\n      //       easing: \"linear\",\n      //       duration: 6000,\n      //     },\n      //   ],\n      //   y: [\n      //     {\n      //       value: Math.PI * 2,\n      //       easing: \"linear\",\n      //       duration: 6000,\n      //     },\n      //   ],\n      //   loop: true,\n      // });\n\n      // anime({\n      //   targets: diamond.position,\n      //   x: [\n      //     {\n      //       value: -1,\n      //       easing: \"linear\",\n      //       duration: 6000,\n      //     },\n      //   ],\n      //   loop: true,\n      // });\n\n      //             var material = new THREE.MeshStandardMaterial( { color: \"0xfffff\", envMap: textureCube, refractionRatio: 0.95, roughness:0 } );\n      // material.envMap.mapping = THREE.CubeRefractionMapping;\n      // diamond.material.dispose()\n      // diamond.material = material\n\n      //diamond.material.transparent = true\n      //diamond.material.opacity = 1\n\n    //   console.log(daisy);\n\n    //   // daisy.children[0].material = new THREE.MeshStandardMaterial({\n    //   //   color: new THREE.Color(\"0x\" + primarywhite)\n    //   // })\n    // });\n\n    var spotLight = new THREE.DirectionalLight(0xfff1db);\n    spotLight.intensity = 0.65;\n\n    spotLight.castShadow = true;\n\n    const shadowmapmultiplier = 3;\n\n    spotLight.shadow.mapSize.width = 1024 * 1;\n    spotLight.shadow.mapSize.height = 1024 * 1;\n\n    const d = 4;\n\n    spotLight.shadow.bias = - 0.0005\n\n    spotLight.shadow.camera.left = -d;\n    spotLight.shadow.camera.right = d;\n    spotLight.shadow.camera.top = d;\n    spotLight.shadow.camera.bottom = -d;\n    spotLight.shadow.radius = d;\n\n    spotLight.target.position.set(0, 0, 0);\n    //spotLight.shadow.bias = -0.0005\n    camera.add(spotLight);\n    spotLight.position.set(0, 5.25, 10);\n\n    camera.add(spotLight.target);\n\n    var light2 = new THREE.AmbientLight(0xfff1db,0.45)\n    scene.add(light2)\n\n    // var light2 = new THREE.DirectionalLight(0xfff1db); // soft white light\n    // light2.intensity = 0.25;\n    // //light2.shadow.bias = -0.0005\n\n    // camera.add(light2);\n    // light2.position.set(0, -9.5, 10);\n    // //camera.add(light2);\n\n    var animate = function () {\n      requestAnimationFrame(animate);\n      renderer.render(scene, camera);\n      //renderer.render(scene2)\n    };\n    animate();\n\n    var checkScrollSpeed = (function (settings) {\n      settings = settings || {};\n\n      var lastPos,\n        newPos,\n        timer,\n        delta,\n        delay = settings.delay || 50; // in \"ms\" (higher means lower fidelity )\n\n      function clear() {\n        lastPos = null;\n        delta = 0;\n      }\n\n      clear();\n\n      return function () {\n        newPos = window.scrollY;\n        if (lastPos != null) {\n          // && newPos < maxScroll\n          delta = newPos - lastPos;\n        }\n        lastPos = newPos;\n        clearTimeout(timer);\n        timer = setTimeout(clear, delay);\n        return delta;\n      };\n    })();\n    window.onscroll = function () {\n      scrollCam();\n      loadUnloadPhotosByCameraDistance()\n      console.log(renderer.info)\n\n      // @var int totalPageHeight\n      var totalPageHeight = document.body.scrollHeight; \n\n      // @var int scrollPoint\n      var scrollPoint = window.scrollY + window.innerHeight;\n\n      // check if we hit the bottom of the page\n      if(scrollPoint >= totalPageHeight)\n      {\n          console.log(\"at the bottom\");\n          currentPage += 1\n\n          var feedAnimationType = animationType.fromleft\n\n          if (window.App.state.mode === \"all\") {\n            feedAnimationType = animationType.fromleft\n          } else if (window.App.state.mode === \"private\") {\n            feedAnimationType = animationType.fromright\n          }\n\n          generateFeed(paginateArray(currentPhotosList,20,currentPage),stickers,feedAnimationType)\n      }\n    };\n\n    function scrollCam() {\n      calculateNewFeedSize();\n      var winScroll =\n        document.body.scrollTop || document.documentElement.scrollTop;\n      var height =\n        document.documentElement.scrollHeight -\n        document.documentElement.clientHeight;\n      var scrolled = winScroll / height;\n      camera.position.y = 0 - winScroll / 100;\n      //spotLight.position.y = 0 + bottomoffeed * scrolled;\n      //rotationmodifier = Math.abs(checkScrollSpeed());\n      //console.log (checkScrollSpeed())\n    }\n\n    var globalResizeTimer = null;\n\n    $(window).resize(function () {\n      // if (globalResizeTimer != null) window.clearTimeout(globalResizeTimer);\n      // globalResizeTimer = window.setTimeout(function () {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        if (((window.innerWidth / window.innerHeight) * 1.6666) < 1.05) {\n          camera.zoom = (window.innerWidth / window.innerHeight) * 1.6666\n        } else {\n          camera.zoom = 1\n        }\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      // }, 200);\n    }\n    );\n\n    var scrollStop = function (callback) {\n      // Make sure a valid callback was provided\n      if (!callback || typeof callback !== \"function\") return;\n\n      // Setup scrolling variable\n      var isScrolling;\n\n      // Listen for scroll events\n      window.addEventListener(\n        \"scroll\",\n        function (event) {\n          // Clear our timeout throughout the scroll\n          window.clearTimeout(isScrolling);\n\n          // Set a timeout to run after scrolling ends\n          isScrolling = setTimeout(function () {\n            // Run the callback\n            callback();\n          }, 66);\n        },\n        false\n      );\n    };\n    scrollStop(function () {\n      rotationmodifier = 0;\n    });\n\n    // === THREE.JS EXAMPLE CODE END ===\n  }\n  render() {\n    return <div className=\"backgroundcanvas\" ref={(ref) => (this.mount = ref)} />;\n  }\n}\n\nfunction addToBackDict(photosList, stickers,div,title, uid) {\n  if (div) {\n   div.classList.add('sentBack')\n  }\n  var newBackDict = {\n    'div': div,\n    'photosList' : photosList,\n    'stickers' : stickers,\n    'title' : title,\n    'scroll': window.scrollY,\n    'uid' : uid\n  }\n  backDicts.push(newBackDict)\n  window.App.setState({\n    minimalUI:true\n  })\n}\n\nclass AccountForm extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      formDisplay: false,\n      strokeCount: 0,\n      notificationList:[],\n      number:\"\"\n    };\n    this.dismissForm = this.dismissForm.bind(this)\n    this.stickerForm = React.createRef()\n    this.accountForm = React.createRef()\n    this.notificationList = React.createRef()\n    this.signOut = this.signOut.bind(this)\n    this.addStroke = this.addStroke.bind(this)\n    this.clearStroke = this.clearStroke.bind(this)\n    this.requestUserPhotos = this.requestUserPhotos.bind(this)\n  }\n\n  componentDidMount() {\n\n  }\n\n  addStroke() {\n    this.setState({\n      strokeCount: this.state.strokeCount + 1\n    })\n    console.log(this.state.strokeCount)\n  }\n\n  clearStroke() {\n    this.setState({\n      strokeCount: 0\n    })\n  }\n\n  dismissForm() {\n    if (this.state.strokeCount > 0 ) {\n      this.stickerForm.current.submit()\n    }\n\n    this.setState({\n      formDisplay:false,\n    })\n\n    this.props.dismissAccountForm()\n\n    this.clearStroke()\n    this.props.maximizeUI()\n    this.props.setNotificationsRead()\n    this.markNotificationsAsRead()\n  }\n\n  markNotificationsAsRead() {\n    for(var notification of this.state.notificationList) {\n      if (notification.val().status === \"unread\") {\n        notification.ref.child('status').set('read')\n      }\n    }\n  }\n\n  showForm() {\n    this.setState({\n      formDisplay:true\n    })\n    this.requestNotifications()\n  }\n\n  requestNotifications() {\n    const component = this\n    firebase\n    .database()\n    .ref(\"notifications/\" + firebase.auth().currentUser.uid).limitToLast(50)\n    .once('value', function (snapshot) {\n      console.log(\"Notification\")\n      console.log(snapshot.val())\n      var notifications = []\n      snapshot.forEach(function(childSnapshot) {\n\n        notifications.push(childSnapshot)\n\n      })\n      component.setState({\n        notificationList:notifications.reverse()\n      })\n    })\n  }\n\n  signOut() {\n    signOut()\n    this.setState({\n      formDisplay:false\n    })\n    this.props.maximizeUI()\n    this.props.dismissAccountForm()\n    this.props.loginForm.current.setState({\n        success:false\n    })\n  }\n\n  requestUserPhotos(uid, displayName) {\n    this.props.goForward(displayName, uid, this.accountForm.current, requestUserPhotos, uid, photos)\n    this.props.dismissAccountForm()\n    this.props.setHamburgerHidden()\n  }\n\n  requestSinglePhoto(uid, creatorName) {\n    this.props.goForward(creatorName + \"'s photo\", \"\", this.accountForm.current, requestSinglePhoto, uid, photos)\n    this.props.dismissAccountForm()\n    this.props.setHamburgerHidden()\n\n  }\n\n  render() {\n    return (\n      <div ref={this.accountForm} className={\"accountform \" +\n      (this.state.formDisplay\n        ? \"accountformopen\"\n        : \"\")}>\n        <div className=\"stickerheader\">\n        <div className=\"ratio\">  <svg viewBox=\"0 0 4 3\"></svg>\n{/* <CanvasDraw imgSrc=\"\" canvasHeight=\"300\" canvasWidth=\"400\" style={{background:\"rgb(0,0,0,0)\", height:\"300px\", width:\"400px\"}} brushRadius={1} hideGrid={true} brushColor=\"#00000\" lazyRadius={1} hideInterface={true}/>  */}\n{/* <SignatureCanvas canvasProps={{width: 400, height: 300, className: 'sigCanvas'}}></SignatureCanvas> */}\n<StickerForm formDisplay={this.state.formDisplay} ref={this.stickerForm} addStroke={this.addStroke}/>\n        </div>\n        <div class=\"row\">\n  <div class=\"block\">\n    <h1>\n      <span><div className=\"usertext\">{this.props.loggedInUser['username']||''}\n      <div className=\"usernumber\">&#10036;&#xFE0E;{this.props.userNumber}</div></div></span>\n    </h1>\n   </div>\n</div>\n</div>\n       {/* <div className=\"accountreadout\"> */}\n       <NotificationList newNotifications={this.props.newNotifications} ref={this.notificationList} notificationList={this.state.notificationList} requestSinglePhoto={this.requestSinglePhoto.bind(this)} setCurrentTitle={this.props.setCurrentTitle} accountForm={this.accountForm.current} currentTitle={this.props.currentTitle}></NotificationList>\n       <ShortUserList requestUserPhotos={this.requestUserPhotos.bind(this)} setCurrentTitle={this.props.setCurrentTitle} accountForm={this.accountForm.current} currentTitle={this.props.currentTitle}></ShortUserList>\n       <DialList/>\n\n         <div className=\"toolbarcontainer\">\n      <button id=\"title\" onClick={() => this.requestUserPhotos(firebase.auth().currentUser.uid, firebase.auth().currentUser.displayName)}><div className=\"buttonsymbol\">&#12297;</div>View Photos</button>\n       <button id=\"title\" onClick={this.signOut}><div className=\"buttonsymbol\">&#12296;</div>Sign Out</button>\n       \n       </div>\n    {/* </div> */}\n    {/* <div className=\"dismiss\" onClick={this.dismissForm}></div> */}\n      </div>\n    );\n  }\n\n}\n\nfunction fadeOutPhotos() {\n  scene.opacity = 0\n}\n\nfunction fadeInPhotos() {\n  scene.opacity = 1\n}\n\n\nfunction uploadSticker(file) {\n  var url = `https://api.cloudinary.com/v1_1/cathedralapp/upload`;\n  var xhr = new XMLHttpRequest();\n  var fd = new FormData();\n\n  xhr.open(\"POST\", url, true);\n  xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\n  xhr.onreadystatechange = function (e) {\n    if (xhr.readyState == 4 && xhr.status == 200) {\n      var response = JSON.parse(xhr.responseText);\n\n      console.log(\"UPLOADED\")\n\n      var url = response.secure_url;\n      console.log(url);\n\n      const sigRef = firebase.database().ref('users/' + firebase.auth().currentUser.uid + '/stickerimage');\n      sigRef.set(url)\n\n      const userRef = firebase.database().ref('stickerusers/' + firebase.auth().currentUser.uid  + '/stickerimage')\n      userRef.set(url)\n    }\n  }\n  \n\n  fd.append(\"upload_preset\", \"sunshinesticker\");\n  fd.append(\"tags\", \"browser_upload\"); // Optional - add tag for image admin in Cloudinary\n  fd.append(\"file\", file);\n  xhr.send(fd);\n}\n\nasync function getBase64ImageFromUrl(imageUrl) {\n  var res = await fetch(imageUrl);\n  var blob = await res.blob();\n\n  return new Promise((resolve, reject) => {\n    var reader  = new FileReader();\n    reader.addEventListener(\"load\", function () {\n        resolve(reader.result);\n    }, false);\n\n    reader.onerror = () => {\n      return reject(this);\n    };\n    reader.readAsDataURL(blob);\n  })\n}\n\nclass StickerForm extends Component {\n  \n  constructor() {\n    super()\n    this.sigCanvas = React.createRef()\n    this.undo = this.undo.bind(this)\n    this.submit = this.submit.bind(this)\n  }\n\n  componentDidMount() {\n\n    var component = this\n\n    var canvas = this.sigCanvas.current.getCanvas()\n    var ctx = canvas.getContext('2d')\n\n    var image = new Image()\n\n    image.crossOrigin = \"anonymous\"\n\n    image.onload = function() {\n      ctx.drawImage(image,0,0,400,300)\n    }\n\n    image.src = stickerbg\n\n    firebase.auth().onAuthStateChanged( function(user) {\n\n      firebase.database().ref('users/' + firebase.auth().currentUser.uid + '/stickerimage').once('value').then(function(snapshot) {\n        console.log(\"saved image\")\n        console.log(snapshot.val())\n\n        var canvas = component.sigCanvas.current.getCanvas()\n        var ctx = canvas.getContext('2d')\n\n        var image = new Image()\n\n        image.crossOrigin = \"anonymous\"\n\n        image.onload = function() {\n          ctx.drawImage(image,0,0,400,300)\n        }\n\n        image.src = snapshot.val()\n\n      })\n    })\n  }\n\n  undo() {\n    // console.log(this.sigCanvas.current)\n    // this.sigCanvas.current.clear()\n    var canvas = this.sigCanvas.current.getCanvas()\n    var ctx = canvas.getContext('2d')\n    var image = new Image()\n\n    image.crossOrigin = \"anonymous\"\n\n    image.onload = function() {\n      ctx.drawImage(image,0,0,400,300)\n    }\n\n    image.src = stickerbg\n    firebase.database().ref('users/' + firebase.auth().currentUser.uid + '/stickerimage').remove()\n  }\n\n  submit() {\n    var image = this.sigCanvas.current.toDataURL(\"image/png\")\n    uploadSticker(image)\n    var points = this.sigCanvas.current.toData()\n    console.log(points)\n  }\n\n\n  render() {\n    return (\n      <div className={\"signatureform \"} >\n<SignatureCanvas onEnd={this.props.addStroke} ref={this.sigCanvas} canvasProps={{width: 400, height: 300, className: 'sigCanvas'}}></SignatureCanvas>\n<div className=\"stickerbuttoncontainer\"><button onClick={this.undo}>&#x27f2;</button></div>\n        </div>\n    );\n  }\n}\n\n\nclass LoginForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loginregtext: \"i'm new\",\n      errortext: \"\",\n      error: false,\n      usernameexists: false,\n      tryingtologin: false,\n      success: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handlePassword = this.handlePassword.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n\n  }\n  handleChange(e) {\n    console.log(\"handling chnage\");\n    var component = this;\n\n    component.setState(\n      {\n        [e.target.name]: e.target.value,\n        errortext: \"\",\n      },\n      function () {\n        firebase\n          .database()\n          .ref(\"/users/\")\n          .orderByChild(\"username\")\n          .equalTo(this.state.username)\n          .once(\"value\")\n          .then(function (snapshot) {\n            var children = [];\n            snapshot.forEach(function (childSnapshot) {\n              var childData = childSnapshot.val();\n              console.log(childData);\n              children.push(childData);\n            });\n\n            if (children.length === 0) {\n              component.setState({\n                loginregtext: \"i'm new\",\n                usernameexists: false,\n              });\n            } else {\n              component.setState({\n                loginregtext: \"login\",\n                usernameexists: true,\n              });\n            }\n          });\n      }\n    );\n  }\n\n  handleRegisterLogin(e) {\n    var component = this;\n    var enteredusername = this.state.username;\n    var enteredpassword = this.state.password;\n\n    this.setState({\n      tryingtologin: true,\n    });\n\n    //LOGIN\n    if (this.state.usernameexists) {\n      console.log(\"username does exist, loggin in\");\n\n      firebase\n        .database()\n        .ref(\"/users/\")\n        .orderByChild(\"username\")\n        .equalTo(this.state.username)\n        .once(\"value\")\n        .then(function (snapshot) {\n          console.log(\"checking username against database\");\n          var key = \"\";\n          snapshot.forEach(function (childSnapshot) {\n            console.log(childSnapshot.key);\n            console.log(childSnapshot.value);\n            key = childSnapshot.key;\n          });\n          console.log(key);\n\n          firebase\n            .auth()\n            .signInWithEmailAndPassword(key + \"@recworld.app\", enteredpassword)\n            .then(function (result) {\n              console.log(\"login success\");\n              console.log(result);\n              component.props.signIn();\n              component.setState({\n                username: \"\",\n                password: \"\",\n                loginregtext: \"i'm new\",\n                errortext: \"\",\n                error: false,\n                usernameexists: false,\n                tryingtologin: false,\n              });\n              successLoginForm()\n              component.setState({\n                success:true\n              })\n              component.props.handleUpload();\n            })\n            .catch(function (error) {\n              // Handle Errors here.\n              var errorCode = error.code;\n              var errorMessage = error.message;\n              component.setState({\n                errortext: errorMessage,\n              });\n\n              // ...\n            });\n        });\n    } else {\n      //REGISTER\n      e.preventDefault();\n\n      firebase.auth().currentUser.updateProfile({\n        displayName: enteredusername,\n      });\n\n      firebase\n        .database()\n        .ref(\"users/\" + firebase.auth().currentUser.uid)\n        .set({\n          username: enteredusername,\n          //some more user data\n        });\n\n      var credential = firebase.auth.EmailAuthProvider.credential(\n        firebase.auth().currentUser.uid + \"@recworld.app\",\n        enteredpassword\n      );\n\n      firebase\n        .auth()\n        .currentUser.linkWithCredential(credential)\n        .then(function (usercred) {\n          var user = usercred.user;\n          console.log(\"Anonymous account successfully upgraded\", user);\n          component.props.register(enteredusername);\n          component.setState({\n            username: \"\",\n            password: \"\",\n            loginregtext: \"i'm new\",\n            errortext: \"\",\n            error: false,\n            usernameexists: false,\n            tryingtologin: false,\n          });\n\n          successLoginForm()\n          component.setState({\n            success:true\n          })\n          component.props.loginRegisterAction(firebase.auth().currentUser.uid)\n          component.props.handleUpload();\n        })\n        .catch(function (error) {\n          component.setState({\n            errortext: error.message,\n          });\n          console.log(\"enteredusername\");\n          console.log(\"Error upgrading anonymous account\", error);\n        });\n    }\n  }\n\n  handlePassword(e) {\n    this.setState({\n      [e.target.name]: e.target.value,\n      errortext: \"\",\n    });\n  }\n\n  handleCancel() {\n    this.setState({\n      username: \"\",\n      password: \"\",\n      loginregtext: \"i'm new\",\n      errortext: \"\",\n      error: false,\n      usernameexists: false,\n      tryingtologin: false,\n    });\n\n    cancelLoginForm();\n\n    this.props.closeloginform();\n  }\n\n  handleUpload() {\n    handlePhotoUpload()\n  }\n\n  render() {\n    return (\n      <div className=\"logindialog\">\n        <div className=\"logindialogimagecontainer\">\n          <span>\n            <span>\n              <img\n                id=\"loginimage\"\n                className=\"logindialogimage\"\n                src={starbutton}\n                object-fit=\"scale-down\"\n              ></img>\n            </span>\n          </span>\n        </div>\n        <div\n          className=\"loginform\"\n          style={{\n            maxHeight: !this.state.success ? \"800px\" : \"0px\",\n            overflow: !this.state.success ? \"visible\" : \"hidden\",\n          }}\n        >\n          <div class=\"floating-label\">\n            <input\n              className=\"floating-input\"\n              type=\"text\"\n              placeholder=\" \"\n              type=\"text\"\n              name=\"username\"\n              onBlur={this.handleChange}\n              onChange={this.handleChange}\n              value={this.state.username}\n            ></input>\n            <span class=\"highlight\"></span>\n            <label>USERNAME</label>\n          </div>\n          <div class=\"floating-label\">\n            <input\n              className=\"floating-input passwordinput\"\n              type=\"password\"\n              placeholder=\" \"\n              onChange={this.handlePassword}\n              type=\"text\"\n              name=\"password\"\n              value={this.state.password}\n            ></input>\n            <span class=\"highlight\"></span>\n            <label>PASSWORD</label>\n          </div>\n          <span> {this.state.errortext}</span>\n          <div className=\"modalbuttons\">\n            <button\n              onClick={this.handleCancel.bind(this)}\n              key=\"cancel button\"\n              className=\"cancelbutton\"\n            >\n              cancel\n            </button>\n            <button\n              onClick={this.handleRegisterLogin.bind(this)}\n              className={\n                \"submitbutton \" +\n                (this.state.username.trim() && this.state.password.trim()\n                  ? \"submitshake\"\n                  : \"\")\n              }\n            >\n              <span\n                style={{ display: this.tryingtologin ? \"inherit\" : \"none\" }}\n                className=\"material-icons rotating\"\n              >\n                work\n              </span>\n              {this.state.loginregtext}\n            </button>\n          </div>\n        </div>\n        <div\n          className=\"submitform\"\n          // style={{ maxHeight: this.props.isAnonymous ? \"0px\" : \"800px\" }}\n        >\n          <div className=\"modalbuttons\">\n            <button\n              onClick={this.handleCancel.bind(this)}\n              key=\"cancel button\"\n              className=\"cancelbutton\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={this.handleUpload.bind(this)}\n              className={\"uploadbutton \"}\n              id=\"uploadbutton\"\n            >\n              <img src=\"/images/8-Point-Star_black_void.svg\"></img>\n              Send\n            </button>\n          </div>\n          {/* <div className=\"uploadbutton\">\n          <img id=\"submitimage\" className=\"uploadimage\" src=\"/images/down-arrow-svgrepo-com (1).svg\"></img>\n        </div> */}\n\n          {/* <button\n            onClick={this.handleCancel.bind(this)}\n            key=\"cancel button\"\n            className=\"cancelbutton2\"\n          >\n            cancel\n          </button> */}\n        </div>\n        {/* <div\n          className={\n            \"backgroundlogin \" +\n            (!this.state.success ? \"\" : \"backgroundloginfadein\")\n          }\n        ></div> */}\n\n        {/* <div className=\"rodal-mask\"></div> */}\n      </div>\n    );\n  }\n}\n\nclass DialList extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      menuOpen: false,\n    };\n  }\n\n  toggleMenu() {\n    this.setState({\n      menuOpen: !this.state.menuOpen\n    })\n    \n  }\n\n  render() {\n\n    return (\n      <div className=\"shortuserlist\">\n      \n      <div onClick={() => this.toggleMenu()} className=\"listtitle\">&#10036;&#xFE0E; DIALER <div className={\"arrow \" +\n                  (this.state.menuOpen\n                    ? \"arrowrotate\"\n                    : \"\")}>&#x25BE;</div></div>\n      <div  className={\"list \" +\n                (this.state.menuOpen\n                  ? \"listexpanded\"\n                  : \"\")}>\n        <Dialer/>\n        {/* {shortUsers} */}\n      </div>\n      <div className=\"divider\"></div>\n      </div>\n    );\n  }\n}\n\nvar initialMessage = \"Dial someone?\"\n\nclass Dialer extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      displayName: \"\",\n      number: \"\",\n      isFollowing: true,\n      message:initialMessage,\n      currentAnimation:anime({})\n\n    };\n    this.handleInput = this.handleInput.bind(this)\n    this.dialerReport = React.createRef()\n  }\n\n  componentDidMount() {\n  }\n\n  handleFollow() {\n    handleFollow(this.props.uid)\n    // this.setState({\n    //   isFollowing:true\n    // })\n  }\n\n  handleUnfollow() {\n    handleUnfollow(this.props.uid)\n    // this.setState({\n    //   isFollowing:false\n    // })\n  }\n\n  showResponse(message) {\n    var component = this\n\n  anime.remove(component.dialerReport.current)\n    \n    component.setState({\n      message:message\n    }, function() {\n\n     var animation = anime({\n        targets: component.dialerReport.current,\n        opacity: [{ value: \"0.8\", easing: \"easeInOutQuad\", duration: 300}],\n      complete: function() {\n        anime({\n          targets: component.dialerReport.current,\n          opacity: [{ value: \"0\", easing: \"easeInOutQuad\", duration: 4000}]})\n      }})\n\n    component.setState({\n      currentAnimation:animation\n    })\n\n    })\n\n  }\n\n  handleInput(event) {\n    const component = this\n\n    event.preventDefault()\n\n    console.log(\"HANDLING INPUT\")\n\n    const isnum = /^\\d+$/.test(event.target.value)\n\n    if (!isnum) {\n      console.log(\"ISN'T NUMBER\")\n\n      event.target.value = \"\"\n      this.showResponse(\"You can only dial numbers.\")\n    }\n\n    if(event.target.value.length === 4) {\n      const value = event.target.value\n      event.target.value = \"\"\n      firebase.database().ref('users/').orderByChild('number').equalTo(value).once('value', function(snapshot) {\n        \n        var snapshotCount = 0\n\n        snapshot.forEach(function(childSnapshot) {\n\n          const user = childSnapshot.val()\n          handleFollow(childSnapshot.key)\n          component.showResponse(\"Followed \" + user.username + \".\")\n          snapshotCount += 1\n\n        })\n\n        if (snapshotCount === 0) {\n\n          component.showResponse(\"No user with that number.\")\n\n        }\n\n      })\n    }\n  }\n\n  handleFocus(event) {\n\n    if (this.state.message === initialMessage) {\n      var animation = anime({targets: this.dialerReport.current,\n      opacity: [{ value: \"0\", easing: \"easeInOutQuad\", duration: 4000}]})\n\n      this.setState({\n        currentAnimation:animation\n      })\n    }\n\n  }\n\n  render() {\n    return (\n      <div className=\"dialercontainer\" id={this.props.uid} >\n        <div className=\"dialerreport\" ref={this.dialerReport}>{this.state.message}</div>\n        <div className=\"staranddialer\">\n        <div className=\"dialerstar\">&#10036;&#xFE0E;</div>\n        <div className=\"dialer\">\n\n        <input onFocus={event => this.handleFocus(event)} pattern=\"[0-9]*\" inputmode=\"numeric\" onInput={event => this.handleInput(event)} className=\"dialerinput\" type=\"number\"></input>\n        <div className=\"dialerlinecontainer\">\n          <div className=\"dialerline\"></div>\n          <div className=\"dialerline\"></div>\n          <div className=\"dialerline\"></div>\n          <div className=\"dialerline\"></div>\n          </div>\n          </div>\n          </div>\n      </div>\n    );\n  }\n}\n\nclass ShortUser extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      displayName: \"\",\n      number: \"\",\n      isFollowing: true\n    };\n  }\n\n  componentDidMount() {\n\n    var component = this;\n\n    console.log(\"short user \" + this.props.uid)\n\n    firebase\n    .database()\n    .ref(\"users/\" + this.props.uid)\n    .on('value', function (snapshot) {\n      //console.log(snapshot.val().username)\n      component.setState({\n        displayName:snapshot.val().username || \"\",\n        number:snapshot.val().number || \"\"\n      })\n    })\n\n    var followingRef = firebase.database().ref('following/' + firebase.auth().currentUser.uid + '/' + this.props.uid)\n    followingRef.on('value', function(snapshot) {\n      if(snapshot.exists()) {\n        component.setState({\n          isFollowing:true\n        })\n      } else {\n        component.setState({\n          isFollowing:false\n        })    \n      }\n    })\n\n  }\n\n  handleFollow() {\n    handleFollow(this.props.uid)\n    // this.setState({\n    //   isFollowing:true\n    // })\n  }\n\n  handleUnfollow() {\n    handleUnfollow(this.props.uid)\n    // this.setState({\n    //   isFollowing:false\n    // })\n  }\n\n  render() {\n    return (\n      <div className=\"shortuser\" id={this.props.uid} >\n        <div onClick={() => this.props.requestUserPhotos(this.props.uid, this.state.displayName)} className=\"shortusertext\">{this.state.displayName}\n    <div className=\"shortusernumber\">&#10036;&#xFE0E;{this.state.number}</div>\n        </div>\n        {/* <div className=\"shortuserbuttoncontainer\"> */}\n        <button style={this.state.isFollowing ? {} : {display:'none'}} onClick={this.handleUnfollow.bind(this)} className=\"shortuserbutton plus\">&#65293;</button>\n        <button style={!this.state.isFollowing ? {} : {display:'none'}} onClick={this.handleFollow.bind(this)} className=\"shortuserbutton plus\">&#65291;</button>\n        <button className=\"shortuserbutton\" onClick={() => this.props.requestUserPhotos(this.props.uid, this.state.displayName)}>&#12297;</button>\n        {/* </div> */}\n      </div>\n    );\n  }\n}\n\nclass ShortUserList extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      uidList: [],\n      menuOpen: false\n    };\n  }\n\n  componentDidMount() {\n\n    function getFollowingList(component, uid) {\n\n      firebase\n      .database()\n      .ref(\"following/\" + uid)\n      .once('value', function (snapshot) {\n\n        var newUids = []\n\n        console.log(\"Loading new followers\")\n\n        snapshot.forEach(function (childSnapshot) {\n          newUids.push(childSnapshot.key)\n          console.log(childSnapshot.key)\n        })\n\n        component.setState({\n          uidList:newUids,\n        })\n\n      })\n    }\n\n\n    const component = this\n    firebase.auth().onAuthStateChanged(function (user) {\n      \n      getFollowingList(component, user.uid)\n\n      firebase\n      .database()\n      .ref(\"following/\" + user.uid)\n      .on('child_added', function (snapshot) {\n        getFollowingList(component, user.uid)\n      })\n    })\n  }\n\n  toggleMenu() {\n    this.setState({\n      menuOpen: !this.state.menuOpen\n    })\n  }\n\n  render() {\n    var shortUsers = this.state.uidList.map((d) => \n    <ShortUser requestUserPhotos={this.props.requestUserPhotos} setCurrentTitle={this.props.setCurrentTitle} accountForm={this.props.accountForm} currentTitle={this.props.currentTitle} uid={d} key={d}></ShortUser>);\n\n    return (\n      <div className=\"shortuserlist\">\n      \n      <div onClick={() => this.toggleMenu()} className=\"listtitle\">&#8942;&#xFE0E; FOLLOWING <div className={\"arrow \" +\n                  (this.state.menuOpen\n                    ? \"arrowrotate\"\n                    : \"\")}>&#x25BE;</div></div>\n      <div  className={\"list \" +\n                (this.state.menuOpen\n                  ? \"listexpanded\"\n                  : \"\")}>\n        {/* <Dialer/> */}\n        {shortUsers}\n      </div>\n      <div className=\"divider\"></div>\n      </div>\n    );\n  }\n}\n\nclass Notification extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      notificationMessage: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.notification.type === \"reply\") {\n\n      const message = this.props.notification.creatorDisplayName + \" replied\"\n\n      this.setState({\n        notificationMessage: message\n      })\n\n    } else if (this.props.notification.type === \"also\") {\n\n      const message = this.props.notification.creatorDisplayName + \" also replied to \" + this.props.notification.originalCreatorDisplay\n\n      this.setState({\n        notificationMessage: message\n      })\n\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"shortuser\" id={this.props.uid} >\n        <div style={this.props.notification.status === \"unread\" ? {'opacity':1} : {'opacity':0}} className=\"notificationDot onNotification\"></div>\n        <img className=\"notificationImage\" src={this.props.notification.photoUrl}></img>\n    <div onClick={() => this.props.requestSinglePhoto(this.props.notification.photoUid, this.props.notification.originalCreatorDisplay || \"\")} className=\"shortusertext\">{this.state.notificationMessage}</div>\n        {/* <div className=\"shortuserbuttoncontainer\"> */}\n        <button className=\"shortuserbutton\" onClick={() => this.props.requestSinglePhoto(this.props.notification.photoUid, this.props.notification.originalCreatorDisplay || \"\")}>&#12297;</button>\n        {/* </div> */}\n      </div>\n    );\n  }\n}\n\nclass NotificationList extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      notificationList: [],\n      menuOpen: false\n    };\n  }\n\n  componentDidMount() {\n\n    // function getFollowingList(component, uid) {\n\n      // firebase\n      // .database()\n      // .ref(\"notifications/\" + uid)\n      // .once('value', function (snapshot) {\n\n      //   var newUids = []\n      //   snapshot.forEach(function (childSnapshot) {\n      //     newUids.push(childSnapshot.key)\n      //     console.log(childSnapshot.key)\n      //   })\n\n      //   component.setState({\n      //     uidList:newUids,\n      //   })\n\n      // })\n    // }\n\n\n    // const component = this\n    // firebase.auth().onAuthStateChanged(function (user) {\n\n    //   if(user.isAnonymous) {\n    //     this.setState({\n    //       notificationList:[]\n    //     })\n    //     return\n    //   }\n    //   firebase\n    //   .database()\n    //   .ref(\"notifications/\" + user.uid).limitToLast(50)\n    //   .on('child_added', function (snapshot) {\n    //     console.log(\"Notification\")\n    //     console.log(snapshot.val())\n    //     component.setState({\n    //       notificationList: component.state.notificationList.push(snapshot.val())\n    //     })\n    //   })\n    // })\n  }\n\n  toggleMenu() {\n    this.setState({\n      menuOpen: !this.state.menuOpen\n    })\n    \n  }\n\n  render() {\n    var notifications = this.props.notificationList.map((d) => \n    <Notification key={d.key} uid={d.key} requestSinglePhoto={this.props.requestSinglePhoto} currentTitle={this.props.currentTitle} notification={d.val()}></Notification>);\n\n    return (\n      <div className=\"shortuserlist\">\n      \n      <div onClick={() => this.toggleMenu()} className=\"listtitle\">&#9900;&#xFE0E; NOTIFICATIONS <div style={this.props.newNotifications ? {opacity:1}: {opacity:0}}  className=\"notificationDot menuNotificationDot\"></div> <div className={\"arrow \" +\n                  (this.state.menuOpen\n                    ? \"arrowrotate\"\n                    : \"\")}>&#x25BE;</div></div>\n      <div  className={\"list \" +\n                (this.state.menuOpen\n                  ? \"listexpanded\"\n                  : \"\")}>\n        {notifications}\n      </div>\n      <div className=\"divider\"></div>\n      </div>\n    );\n  }\n}\n\nfunction transitionPhotosRight(photos) {\n  for(var photo of photos) {\n    // anime({\n    //   targets: photo.material,\n    //   opacity: [\n    //     {\n    //       value: 0,\n    //       easing: \"easeInQuad\",\n    //       duration: transitionTime - 100,\n    //     },\n    //   ],\n    // });\n\n    anime({\n      targets: photo.rotation,\n      z: [\n        {\n          value: 0.15,\n        },\n      ],\n      easing: \"spring(1, 80, 20, 0)\",\n      duration: 3000\n    });\n    anime({\n      targets: photo.position,\n      x: [\n        {\n          value: photo.position.x + 5,\n          easing: \"spring(1, 80, 20, 0)\",\n          duration: transitionTime * 200,\n          delay: anime.random(0,150)\n        },\n      ],\n      y: [\n        {\n          value: photo.position.y - 1.5,\n          easing: \"spring(1, 80, 20, 0)\",\n          duration: transitionTime * 200,\n        },\n      ],\n    });\n  }\n}\n\nfunction transitionPhotosLeft(photos) {\n  for(var photo of photos) {\n    // anime({\n    //   targets: photo.material,\n    //   opacity: [\n    //     {\n    //       value: 0,\n    //       easing: \"easeInQuad\",\n    //       duration: transitionTime - 100,\n    //     },\n    //   ],\n    // });\n\n     anime({\n        targets: photo.rotation,\n        z: [\n          {\n            value: -0.15,\n          },\n        ],\n        easing: \"spring(1, 80, 20, 0)\",\n        duration: 3000\n      });\n\n    anime({\n      targets: photo.position,\n      x: [\n        {\n          value: photo.position.x - 5,\n          easing: \"spring(1, 80, 20, 0)\",\n          duration: transitionTime * 200,\n          delay: anime.random(0,150)\n        },\n      ],\n      y: [\n        {\n          value: photo.position.y + 1.5,\n          easing: \"spring(1, 80, 20, 0)\",\n          duration: transitionTime * 200,\n        },\n      ],\n    });\n  }\n}\n\nvar uploadStyle= \"submit\"\n\nclass App extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      currentusername: \"\",\n      currentuid: \"\",\n      loginformopen: false,\n      loginbuttonvisible: false,\n      isAnonymous: true,\n      loggedInUser: {},\n      currentUser: {},\n      currentTitle: \"\",\n      currentTitleUid: \"\",\n      minimalUI: false,\n      accountFormOpen: false,\n      currentTitleUidFollowing: true,\n      mode: \"all\",\n      firstLoad:true,\n      newNotifications:false,\n      hamburgerHidden:true,\n      userNumber:\"\"\n    };\n    window.App = this;\n    this.backTitle = React.createRef()\n    this.loginForm = React.createRef()\n    this.accountForm = React.createRef()\n    this.goBack = this.goBack.bind(this)\n    this.submitInput = React.createRef()\n    this.replyInput = React.createRef()\n    this.noFollowingNotification = React.createRef()\n  }\n\n  componentDidMount() {\n    //this.requestPublicFeed()\n\n    var component = this;\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        console.log(\"AUTH STATE CHANGED\");\n        console.log(user);\n        var isAnonymous = user.isAnonymous;\n        var uid = user.uid;\n\n        console.log(JSON.stringify(firebase.auth().currentUser))\n        component.setState(\n          {\n            isAnonymous: isAnonymous,\n            currentUser: JSON.stringify(firebase.auth().currentUser)\n          },\n          function () {}\n        );\n\n        if (!user.isAnonymous) {\n\n          component.loginRegisterAction(user.uid)\n\n        }\n\n        getFollowing(user.uid).then( function() {\n          if (component.state.firstLoad) {\n            component.requestPublicFeed()\n            component.setState({\n              firstLoad:false\n            })\n          }\n        }\n        )\n\n        // ...\n      } else {\n        // User is signed out.\n        // ...\n        firebase\n          .auth()\n          .signInAnonymously()\n          .catch(function (error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(errorMessage);\n          });\n\n          component.setState({\n\n            hamburgerHidden:true\n\n          })\n\n      }\n      // ...\n    });\n  }\n\n  loginRegisterAction(uid) {\n\n    const component = this \n\n    component.createNotificationsListener(uid)\n\n    firebase\n    .database()\n    .ref(\"users/\" + uid)\n    .once('value', function (snapshot) {\n      console.log(\"firebase user ref\")\n      console.log(snapshot.val())\n      component.setState({\n        currentUser:firebase.auth().currentUser.displayName,\n        isAnonymous:false,\n        loggedInUser:snapshot.val(),\n        hamburgerHidden:false,\n        userNumber: snapshot.val().number || \"\"\n      })\n    })\n\n    firebase\n    .database()\n    .ref(\"users/\" + uid)\n    .on('child_added', function (snapshot) {\n\n      if(snapshot.key === \"number\") {\n        component.setState({\n          userNumber: snapshot.val()\n        })\n      }\n\n    })\n\n  }\n\n  createNotificationsListener(uid) {\n    const component = this \n    const newNotificationsRef = firebase.database().ref('/notifications/' + uid).orderByChild('status').equalTo('unread').limitToLast(50)\n    newNotificationsRef.on(\"child_added\", function(snapshot) {\n      component.setState({\n        newNotifications:true\n      })\n      component.accountForm.current.requestNotifications()\n    })\n  }\n\n  setHamburgerHidden() {\n    this.setState({\n      hamburgerHidden: true\n    })\n  }\n\n  setHamburgerShow() {\n    this.setState({\n      hamburgerHidden: false\n    })\n  }\n\n\n  setNewNotifications() {\n    this.setState({\n      newNotifications:true\n    })\n  }\n\n  setNotificationsRead() {\n    this.setState({\n      newNotifications:false\n    })\n  }\n\n  loginFormShow() {\n    this.setState({\n      loginformopen: true,\n    });\n  }\n\n  loginFormHide() {\n    this.setState({\n      loginformopen: false,\n    });\n  }\n\n  register(username) {\n    this.setState({\n      currentusername: username,\n      loginformopen: false,\n    });\n  }\n  signIn() {\n    this.setState({\n      loginformopen: false,\n    });\n  }\n\n\n\n  requestPrivateFeed() {\n    this.setState({\n      mode:\"private\"\n    })\n    requestPrivateFeed()\n\n    if (Object.entries(followingList).length === 0) {\n      anime({\n        targets: this.noFollowingNotification.current,\n        opacity: [{ value: \"0.8\", easing: \"easeInOutQuad\", duration: 300},\n        { value: \"0\", easing: \"easeInOutQuad\", duration: 4000}\n      ]})\n    }\n  }\n\n  requestPublicFeed() {\n    this.setState({\n      mode:\"all\"\n    })\n    requestLatestPhotos()\n  }\n\n  signOut() {\n    signOut()\n  }\n\n  showAccountForm() {\n    this.minizeUI()\n    this.accountForm.current.showForm()\n    this.setState({\n      accountFormOpen:true\n    })\n    // this.accountForm.current.accountForm.current.classList.remove('sentBack')\n  }\n\n  dismissAccountForm() {\n    // this.minizeUI()\n    // this.accountForm.current.showForm()\n    this.setState({\n      accountFormOpen:false\n    })\n    // this.accountForm.current.accountForm.current.classList.remove('sentBack')\n  }\n\n  goBack() {\n    var backDict = backDicts.pop()\n    var showingAccountForm = false\n    if (backDict !== undefined) {\n\n      transitionPhotosRight(photos)\n\n      setTimeout(function() { \n        clearFeed()\n        setUpNewFeed(backDict.photosList,backDict.stickers, animationType.fromleft, backDict.scroll)\n      }, transitionTime - 100);\n\n      this.setCurrentTitle(backDict.title, backDict.uid, \"back\")\n\n      if (backDict.div) {\n        backDict.div.classList.remove('sentBack')\n        if (backDict.div.className.includes(\"accountform\")) {\n          showingAccountForm = true\n          this.setState({\n            accountFormOpen:true\n           })\n        }\n      }\n    }\n\n    if (backDicts.length === 0 && !showingAccountForm) {\n      this.setState({\n        minimalUI:false,\n        currentTitle:\"\",\n        currentTitleUid:\"\",\n      })\n    }\n\n    if (backDicts.length === 0 && this.state.isAnonymous === false) {\n      this.setState({\n        hamburgerHidden:false\n      })\n    }\n\n  }\n\n  goForward(newTitle, newUid, backDiv, newPhotosFunction, functionArgument, photos) {\n      \n    addToBackDict(currentPhotosList, stickers, backDiv, this.state.currentTitle, this.state.currentTitleUid)\n\n    transitionPhotosLeft(photos)\n\n    setTimeout(function() { \n       newPhotosFunction(functionArgument)\n    }, transitionTime - 100);    \n\n    this.setCurrentTitle(newTitle, newUid, \"forward\")\n\n    this.setState({\n      hamburgerHidden:true\n    })\n\n  }\n\n  // setCurrentTitle(title,uid,direction) {\n  //   var component = this\n  //   if (direction === \"forward\" && backDicts.length > 1) {\n\n  //     setTimeout(function() {\n  //       component.setState({\n  //       currentTitle:title,\n  //        currentTitleUid: uid\n  //       })\n  //     }, 300)\n\n  //     anime({\n  //       targets: this.backTitle.current,\n  //       translateX: [\n  //         {value: '0px'},\n  //         {\n  //           value: \"-20px\",\n  //           easing: \"easeInQuad\",\n  //           duration: 300,\n  //         },\n  //         {value:'20px'},\n  //         {\n  //           value: \"0px\",\n  //           easing: \"easeOutQuad\",\n  //           duration: 300,\n  //         }\n  //       ],\n  //       opacity: [\n  //         {value: 1},\n  //         {\n  //           value: 0,\n  //           easing: \"easeInQuad\",\n  //           duration: 300,\n  //         },\n  //         {value:0},\n  //         {\n  //           value: 1,\n  //           easing: \"easeOutQuad\",\n  //           duration: 300,\n  //         }\n  //       ]\n  //     })\n  //   }\n  //   if (direction === \"forward\" && backDicts.length === 1) {\n\n  //     setTimeout(function() {\n  //       component.setState({\n  //       currentTitle:title,\n  //        currentTitleUid: uid\n  //       })\n  //     }, 0)\n\n  //     anime({\n  //       targets: this.backTitle.current,\n  //       translateX: [\n  //         {value:'20px'},\n  //         {\n  //           value: \"0px\",\n  //           easing: \"easeOutQuad\",\n  //           duration: 300,\n  //         }\n  //       ],\n  //       opacity: [\n  //         {value:0},\n  //         {\n  //           value: 1,\n  //           easing: \"easeOutQuad\",\n  //           duration: 300,\n  //         }\n  //       ]\n  //     })\n  //   }\n  // }\n\n  setCurrentTitle(title, uid) {\n    console.log(\"TITLE \" + title)\n    this.setState({\n      currentTitle:title,\n      currentTitleUid: uid\n    }, () => {\n      this.checkIfFollowingTitleUid()})\n  }\n\n  // setCurrentTitle(title, uid, direction) {\n\n  //   var component = this\n  //   if (direction === \"forward\" && backDicts.length > 0) {\n  //     anime({\n  //       targets: this.backTitle.current,\n  //       translateX: [\n  //         {\n  //           value: \"-20px\",\n  //           easing: \"easeInOutQuad\",\n  //           duration: 300,\n  //         }\n  //       ],\n  //       opacity: [\n  //         {\n  //           value: 0,\n  //           easing: \"easeInOutQuad\",\n  //           duration: 300,\n  //           complete: function() {\n  //               component.setState({\n  //       currentTitle:title,\n  //       currentTitleUid: uid\n  //     }, () => {\n  //       component.checkIfFollowingTitleUid()\n  //       anime({\n  //         targets: component.backTitle.current,\n  //         translateX: [\n  //           {\n  //             value: \"20px\",\n  //           },\n  //           {\n  //             value: \"0px\",\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }\n  //         ],\n  //         opacity: [\n  //           {value:0},\n  //           {\n  //             value: 1,\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }]\n  //         })\n  //     })\n  //           }\n  //         }\n  //       ]\n  //     });\n  //   }\n  //   if (direction === \"forward\" && backDicts.length === 0) {\n  //     anime({\n  //       targets: this.backTitle.current,\n  //       translateX: [\n  //         {\n  //           value: \"-20px\",\n  //           easing: \"easeInOutQuad\",\n  //           duration: 0,\n  //         }\n  //       ],\n  //       opacity: [\n  //         {\n  //           value: 0,\n  //           easing: \"easeInOutQuad\",\n  //           duration: 0,\n  //           complete: function() {\n  //               component.setState({\n  //       currentTitle:title,\n  //       currentTitleUid: uid\n  //     }, () => {\n  //       component.checkIfFollowingTitleUid()\n  //       anime({\n  //         targets: component.backTitle.current,\n  //         translateX: [\n  //           {\n  //             value: \"20px\",\n  //           },\n  //           {\n  //             value: \"0px\",\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }\n  //         ],\n  //         opacity: [\n  //           {value:0},\n  //           {\n  //             value: 1,\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }]\n  //         })\n  //     })\n  //           }\n  //         }\n  //       ]\n  //     });\n  //   }\n  //   if (direction === \"back\" && backDicts.length > 0) {\n  //     anime({\n  //       targets: this.backTitle.current,\n  //       translateX: [\n  //         {\n  //           value: \"20px\",\n  //           easing: \"easeInOutQuad\",\n  //           duration: 300,\n  //         }\n  //       ],\n  //       opacity: [\n  //         {\n  //           value: 0,\n  //           easing: \"easeInOutQuad\",\n  //           duration: 300,\n  //           complete: function() {\n  //               component.setState({\n  //       currentTitle:title,\n  //       currentTitleUid: uid\n  //     }, () => {\n  //       component.checkIfFollowingTitleUid()\n  //       anime({\n  //         targets: component.backTitle.current,\n  //         translateX: [\n  //           {\n  //             value: \"-20px\",\n  //           },\n  //           {\n  //             value: \"0px\",\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }\n  //         ],\n  //         opacity: [\n  //           {value:0},\n  //           {\n  //             value: 1,\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }]\n  //         })\n  //     })\n  //           }\n  //         }\n  //       ]\n  //     });\n  //   }\n\n  //   if (direction === \"back\" && backDicts.length === 0) {\n  //     anime({\n  //       targets: this.backTitle.current,\n  //       translateX: [\n  //         {\n  //           value: \"20px\",\n  //           easing: \"easeInOutQuad\",\n  //           duration: 300,\n  //         }\n  //       ],\n  //       opacity: [\n  //         {\n  //           value: 0,\n  //           easing: \"easeInOutQuad\",\n  //           duration: 300,\n  //           complete: function() {\n  //               component.setState({\n  //       currentTitle:title,\n  //       currentTitleUid: uid\n  //     }, () => {\n  //       component.checkIfFollowingTitleUid()\n  //       anime({\n  //         targets: component.backTitle.current,\n  //         translateX: [\n  //           {\n  //             value: \"-20px\",\n  //           },\n  //           {\n  //             value: \"0px\",\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }\n  //         ],\n  //         opacity: [\n  //           {value:0},\n  //           {\n  //             value: 1,\n  //             easing: \"easeInOutQuad\",\n  //             duration: 300\n  //           }]\n  //         })\n  //     })\n  //           }\n  //         }\n  //       ]\n  //     });\n  //   }\n  // }\n\n  submitInputOnChange(event) {\n    uploadStyle= \"submit\"\n    submitOnChange(this.submitInput.current, event)\n    console.log(\"Submit input\")\n  }\n\n  replyInputOnChange(event) {\n    uploadStyle= \"reply\"\n    replyOnChange(this.replyInput.current, event)\n  }\n\n  minizeUI() {\n    this.setState({\n      minimalUI:true\n    })\n  }\n\n  maximizeUI() {\n    this.setState({\n      minimalUI:false\n    })\n  }\n\n  closeAccountButton() {\n    this.accountForm.current.dismissForm()\n  }\n\n  handleUpload() {\n\n    const component = this\n\n    setTimeout(function() {\n      if (uploadStyle === \"submit\") {\n        handlePhotoUpload(component.submitInput.current)\n      } else if (uploadStyle === \"reply\") {\n        handleReplyUpload(component.replyInput.current)\n      }\n    }, 100)\n  }\n\n  checkIfFollowingTitleUid() {\n    var component = this\n\n    if( this.state.currentTitleUid !== \"\") {\n      var newUidRef= firebase.database().ref('/following/' + firebase.auth().currentUser.uid + '/' + this.state.currentTitleUid)\n      newUidRef.once('value', function(snapshot) {\n        console.log(snapshot)\n\n        if (snapshot.exists()) {\n          component.setState({\n            currentTitleUidFollowing:true\n          })\n\n      } else {\n        component.setState({\n          currentTitleUidFollowing:false\n        })\n      }\n      })\n    }\n  }\n\n  handleTitleFollow() {\n    handleFollow(this.state.currentTitleUid)\n    this.setState({\n      currentTitleUidFollowing:true\n    })\n  }\n\n  handleTitleUnfollow() {\n    handleUnfollow(this.state.currentTitleUid)\n    this.setState({\n      currentTitleUidFollowing:false\n    })\n  }\n\n  shineButtonClick() {\n    this.submitInput.current.click()\n  }\n\n  render() {\n    return (\n      <div>\n            <div class=\"title\" >\n              <div className=\"titleBar\">\n              <div  style={this.state.hamburgerHidden ? {maxWidth:0, opacity:0, marginRight:0}: {maxWidth:75,opacity:1}} className=\"titleMenu\">\n    \n    <Hamburger size={26} distance={\"large\"} onToggle={toggled => {\n      if (toggled) {\n        this.showAccountForm()\n      } else {\n        this.accountForm.current.dismissForm()\n      }\n    }}></Hamburger>\n    <div style={this.state.newNotifications ? {opacity:1}: {opacity:0}} className=\"notificationDot accountNotificationDot\"></div>\n        </div>\n    <div class=\"titletext\" >SUNSHINE</div>\n\n      </div>\n    <div id=\"progress\" className=\"progress\">\n    </div>\n    {/* <button className=\"modebutton closeAccountButton\" onClick={this.closeAccountButton.bind(this)} style={this.state.accountFormOpen ? {opacity:1,pointerEvents:\"all\", overflow:\"auto\", bottom: '15px'}: {opacity:0,pointerEvents:\"none\",overflow:\"hidden\" }}>&#10005;</button> */}\n\n    <div className=\"backTitle \" ref={this.backTitle} style={this.state.currentTitle ? {'opacity':'1', 'max-height':100} : {'opacity':'0', 'max-height':0, 'margin-bottom':'-10px'}}><div onClick={this.goBack.bind(this)} className=\"backButton\" style={this.state.currentTitle ? {'display':'inline-block'} : {'display' :'none'}}>&#x27F5;&#xFE0E;</div>{this.state.currentTitle ? this.state.currentTitle : \"\"}\n    </div>\n\n    <AccountForm userNumber={this.state.userNumber} setHamburgerHidden={this.setHamburgerHidden.bind(this)} newNotifications={this.state.newNotifications} setNotificationsRead={this.setNotificationsRead.bind(this)} goForward={this.goForward.bind(this)} loginForm={this.loginForm} dismissAccountForm={this.dismissAccountForm.bind(this)} showAccountForm={this.showAccountForm.bind(this)} accountFormOpen={this.state.accountFormOpen} maximizeUI={this.maximizeUI.bind(this)} setCurrentTitle={this.setCurrentTitle.bind(this)} ref={this.accountForm} loggedInUser={this.state.loggedInUser} currentUser={this.state.currentUser} />\n\n    </div>\n\n    <div className=\"modeBar\" style={this.state.minimalUI ? {opacity:0,pointerEvents:\"none\"}: {opacity:1}}>\n    <button className={\"modebutton globe \" + (this.state.mode === \"all\"\n      ? \"modebuttonactive\"\n      : \"\")} id=\"requestpublic\" style={this.state.isAnonymous || this.state.minimalUI ? {opacity:0,pointerEvents:\"none\"}: {opacity:1}} onClick={this.requestPublicFeed.bind(this)}><img src={globeimage}/></button>\n    <button className={\"modebutton private \" + (this.state.mode === \"private\"\n      ? \"modebuttonactive\"\n      : \"\")} style={this.state.isAnonymous || this.state.minimalUI ? {opacity:0,pointerEvents:\"none\"}: {opacity:1}} onClick={this.requestPrivateFeed.bind(this)}><img src={smileyimage}/></button>\n    {/* <button className=\"modebutton account\" style={this.state.isAnonymous ? {opacity:0,pointerEvents:\"none\"}: {opacity:1}} onClick={this.showAccountForm.bind(this)}><img src={accountimage}/><div style={this.state.newNotifications ? {opacity:1}: {opacity:0}} className=\"notificationDot accountNotificationDot\"></div></button> */}\n\n    <div onClick={this.shineButtonClick.bind(this)} className=\"shinebutton\" id=\"shinebutton\" style={this.state.minimalUI ? {opacity:0,pointerEvents:\"none\"}: {opacity:1, pointerEvents:\"all\"}}>\n      <img\n        src={starbutton}\n      />\n    </div>\n\n\n    </div>\n      <div id=\"root\">\n        <div className=\"threejs\" style={this.state.accountFormOpen ? {opacity:0,pointerEvents:\"none\",overflow:\"hidden\" }: {opacity:1,pointerEvents:\"all\", overflow:\"auto\"}}>\n          <ThreeJS />\n        </div>\n\n      </div>\n      <LoginForm\n      loginRegisterAction={this.loginRegisterAction.bind(this)}\n          ref={this.loginForm}\n          closeloginform={this.loginFormHide.bind(this)}\n          register={this.register.bind(this)}\n          signIn={this.signIn.bind(this)}\n          isAnonymous={this.state.isAnonymous}\n          handleUpload={this.handleUpload.bind(this)}\n        />\n            <button className=\"titleFollowButton\" onClick={this.handleTitleFollow.bind(this)} style={this.state.currentTitleUid && !this.state.currentTitleUidFollowing ? {'opacity':1, pointerEvents:'all', bottom:'15px'} : {'opacity':0, pointerEvents:'none', bottom:'-100px'}}>Follow</button>\n    <button className=\"titleFollowButton\" onClick={this.handleTitleUnfollow.bind(this)} style={this.state.currentTitleUid && this.state.currentTitleUidFollowing ? {'opacity':1, pointerEvents:'all', bottom:'15px'} : {'opacity':0, pointerEvents:'none', bottom:'-100px'}}>Unfollow</button>\n    <div className=\"replyinput\">\n      <input style={{display:\"none\"}} onChange={this.replyInputOnChange.bind(this)} ref={this.replyInput} type=\"file\" accept=\"image/*\" id=\"reply-input\"/>\n      <label for=\"reply-input\"></label>\n    </div>\n    <input style={{display:\"none\"}} onChange={this.submitInputOnChange.bind(this)} ref={this.submitInput} type=\"file\" accept=\"image/*\" id=\"file-input\"/>\n    <label for=\"file-input\"></label>\n    <div ref={this.noFollowingNotification} className=\"noFollowersNotification\">You don't follow anyone yet.</div>\n      </div>\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root2\");\nReactDOM.render(<App />, rootElement);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n\nfunction interpolateColors(color1, color2, ratio) {\n  var hex = function (x) {\n    x = x.toString(16);\n    return x.length == 1 ? \"0\" + x : x;\n  };\n\n  var r = Math.ceil(\n    parseInt(color1.substring(0, 2), 16) * ratio +\n      parseInt(color2.substring(0, 2), 16) * (1 - ratio)\n  );\n  var g = Math.ceil(\n    parseInt(color1.substring(2, 4), 16) * ratio +\n      parseInt(color2.substring(2, 4), 16) * (1 - ratio)\n  );\n  var b = Math.ceil(\n    parseInt(color1.substring(4, 6), 16) * ratio +\n      parseInt(color2.substring(4, 6), 16) * (1 - ratio)\n  );\n\n  var middle = hex(r) + hex(g) + hex(b);\n  return middle;\n}\n\nfunction removeItemAll(arr, value) {\n  var i = 0;\n  while (i < arr.length) {\n    if (arr[i] === value) {\n      arr.splice(i, 1);\n    } else {\n      ++i;\n    }\n  }\n  return arr;\n}\n\nconst scrollToTop = () => {\n  // const c = document.documentElement.scrollTop || document.body.scrollTop;\n  // if (c > 0) {\n  //   window.requestAnimationFrame(scrollToTop);\n  //   window.scrollTo(0, c - c / 8);\n  // }\n\n  $('html, body').animate({scrollTop:0},'500');\n\n};\n\nfunction paginateArray(array, page_size, page_number) {\n  return array.slice(page_number * page_size, page_number * page_size + page_size);\n};\n\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n  }\n}","module.exports = __webpack_public_path__ + \"static/media/Plastic_001_ROUGH2.0e5d21e8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/globe3.9023f1f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/smiley.5b7478dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/stickerbg.84ab8dc3.png\";","module.exports = __webpack_public_path__ + \"static/media/8-Point-Star_black_void.a5cd0efe.svg\";","module.exports = __webpack_public_path__ + \"static/media/images.28148b6c.jpeg\";"],"sourceRoot":""}