(this.webpackJsonpphotos=this.webpackJsonpphotos||[]).push([[0],{100:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADbCAAAAABc5bIUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJV2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjk3YTQyN2RkLTRjODUtMGQ0ZS05YzZkLTFiNzI2ZTBiZTgwMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkZjBhOGY1OC1iMzBkLTQ4ZmUtYTc0Yy1mMjBjYmJlOGFiNTUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iNDU1MzFGOEM0MkZENzgzRTRCRTNEOTIyMjgyQkZGNkEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIxIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iRG90IEdhaW4gMjAlIiB0aWZmOkltYWdlV2lkdGg9IjIzMCIgdGlmZjpJbWFnZUxlbmd0aD0iMjE5IiB0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb249IjIiIHRpZmY6U2FtcGxlc1BlclBpeGVsPSIzIiB0aWZmOlhSZXNvbHV0aW9uPSIxLzEiIHRpZmY6WVJlc29sdXRpb249IjEvMSIgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMSIgZXhpZjpFeGlmVmVyc2lvbj0iMDIzMSIgZXhpZjpDb2xvclNwYWNlPSI2NTUzNSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjIzMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjIxOSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTAtMDNUMTI6NDI6MzQtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTEzYTFjYmMtMmFiMS00NzA0LTliMTAtNGI1MTU0YWM3NmM2IiBzdEV2dDp3aGVuPSIyMDIwLTEwLTAzVDEzOjE2OjIxLTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252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"},101:function(e,t){e.exports="data:image/jpeg;base64,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"},121:function(e,t,a){e.exports=a(263)},127:function(e,t,a){},128:function(e,t,a){e.exports=a.p+"static/media/account2.38212e2a.svg"},129:function(e,t,a){e.exports=a.p+"static/media/envmap.58ec940d.jpg"},130:function(e,t,a){e.exports=a.p+"static/media/envmap2.998e01c2.jpg"},131:function(e,t,a){e.exports=a.p+"static/media/scratchtexture.b22144dd.jpg"},132:function(e,t,a){e.exports=a.p+"static/media/paper.243be7c8.jpg"},133:function(e,t,a){e.exports=a.p+"static/media/MWHG50-XLARGE.5dae3fc8.jpg"},262:function(e,t,a){e.exports=a.p+"static/media/daisy.f46a10bc.glb"},263:function(e,t,a){"use strict";a.r(t);var n=a(17),o=a.n(n),i=a(9),s=a(11),r=a(3),l=a(7),c=a(5),u=a(6),d=a(20),m=a(13),p=a(24),h=a(98),g=a.n(h),f=(a(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function v(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b=a(0),y=a(62),w=a.n(y),O=a(2),I=a.n(O),k=a(63),A=a.n(k),j=a(8),E=a(99),S=a.n(E),N=a(100),R=a.n(N),T=a(64),U=a.n(T),x=a(65),M=a.n(x),F=(a(128),a(66)),C=a.n(F),L=(a(129),a(130),a(131),a(101)),Z=a.n(L),Q=(a(132),a(67)),z=a.n(Q),D=(a(133),["uniform float mRefractionRatio;","uniform float mFresnelBias;","uniform float mFresnelScale;","uniform float mFresnelPower;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );","\tvec3 I = worldPosition.xyz - cameraPosition;","\tvReflect = reflect( I, worldNormal );","\tvRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );","\tvRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );","\tvRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );","\tvReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );","\tgl_Position = projectionMatrix * mvPosition;","}"].join("\n"),["uniform samplerCube tCube;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","\tvec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","\tvec4 refractedColor = vec4( 1.0 );","\trefractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;","\trefractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;","\trefractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;","\tgl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );","}"].join("\n"),a(102)),P=a(4),W=a.n(P),G=a(103),B=(a(264),a(107)),J=a.n(B),Y=a(108),H=(a(261),a(262),{reply:"reply",sticker:"sticker",feedphoto:"feedphoto",newphoto:"newphoto"}),X="fromright",V="fromleft",K="fromabove",q=new b.gb,_=new b.W,$=2;console.log("Window width");var ee=[],te=[],ae={},ne=0,oe={},ie={},se={},re={},le={},ce=[],ue=0,de=0,me=[],pe={};console.log(window.innerWidth),window.innerWidth<737&&($=1.8);var he=new b.ob;he.crossOrigin="Anonymous";var ge=void 0,fe=void 0,ve=(new b.g).fromGeometry(new b.e(1,1,1e-6));function be(){return new Promise((function(e){he.load(A.a,(function(t){ge=t,e(t)}))}))}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===ge?be().then((function(){t.material.roughnessMap=ge,t.material.needsUpdate=!0})):(t.material.roughnessMap=ge,t.material.needsUpdate=!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return new Promise((function(e){he.load(Z.a,(function(t){fe=t,e(t)}))}))}function Ie(){return(Ie=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===fe?Oe().then((function(){t.material.normalMap=fe,t.material.needsUpdate=!0})):(t.material.normalMap=fe,t.material.needsUpdate=!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}new b.J;W.a.initializeApp({apiKey:"AIzaSyAaVRDb7lnaSSVAKfq8aYZ_KuGhhmMyA28",authDomain:"sunshine-c9025.firebaseapp.com",databaseURL:"https://sunshine-c9025.firebaseio.com",projectId:"sunshine-c9025",storageBucket:"sunshine-c9025.appspot.com",messagingSenderId:"182239551587",appId:"1:182239551587:web:0f69153c66050e45559856"}),W.a.auth().onAuthStateChanged((function(e){e?(console.log("AUTH STATE CHANGED"),console.log(e),e.isAnonymous||(W.a.database().ref("stickerusers/"+e.uid+"/time").set(Date.now()),console.log("SETTING TIME"),function(e){var t=W.a.database().ref("/following/"+e);t.on("child_added",(function(e){pe[e.key]=!0,console.log("FOLLOWING "+e.key)})),t.on("child_removed",(function(e){pe[e.key]=!1,console.log("FOLLOWING "+e.key)}))}(e.uid))):(pe={},W.a.auth().signInAnonymously().catch((function(e){e.code;var t=e.message;console.log(t)})))}));new D.Cloudinary({cloud_name:"cathedralapp",secure:!0,api_key:"485812499374832",api_secret:"_6igNEblFUeNDo6rMajgIpOH0BU"});function ke(){Object(j.a)({targets:".logindialog",top:[{value:"50%",easing:"easeInOutQuad",duration:600}]})}function Ae(){Object(j.a)({targets:".logindialog",top:[{value:"-200%",easing:"easeInOutQuad",duration:600}],delay:500})}function je(){W.a.auth().signOut(),console.log("signed out")}function Ee(e){if(e.files.length>0){var t=new Image;t.src=window.URL.createObjectURL(e.files[0]),t.onload=function(){Re(e.files[0],t.width,t.height,"testimages/",!1)}}}var Se="";function Ne(e){if(e.files.length>0){var t=new Image;t.src=window.URL.createObjectURL(e.files[0]),t.onload=function(){Re(e.files[0],t.width,t.height,"testimages/"+Se+"/replies",!0,Se)}}}function Re(e,t,a,n,o,i){1==o&&(q.getObjectByName(Se).canClick=!1);var s=new XMLHttpRequest,r=new FormData;s.open("POST","https://api.cloudinary.com/v1_1/cathedralapp/upload",!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),document.getElementById("progress").style.width=0,document.getElementById("progress").style.opacity=1,s.upload.addEventListener("progress",(function(e){var t=Math.round(100*e.loaded/e.total);document.getElementById("progress").style.width=t+"%",console.log("fileuploadprogress data.loaded: ".concat(e.loaded,",\n  data.total: ").concat(e.total))})),s.onreadystatechange=function(e){if(4==s.readyState&&200==s.status){var r=JSON.parse(s.responseText);Object(j.a)({targets:".progress",opacity:[{value:0,easing:"easeInOutQuad",duration:600}]});var l=r.secure_url;console.log(l);var c=W.a.database().ref(n),u={url:l,width:t,height:a,creator:W.a.auth().currentUser.uid,creatorusername:W.a.auth().currentUser.displayName};if(!1===o)c.push(u).then((function(e){e.once("value",(function(e){console.log(e.val());var t=e.val();Ve(ee),console.log(ee[ee.length-1]);var a,n=0,o=Object(m.a)(ee.entries());try{for(o.s();!(a=o.n()).done;){var i=Object(d.a)(a.value,2),s=i[0],r=(i[1],s+1);if(""!=ee[ee.length-r].name){n=ee[ee.length-r].scale.y/2;break}}}catch(h){o.e(h)}finally{o.f()}var l,c=$*(t.height/t.width)/2+.5+n,u=Object(m.a)(ee);try{for(u.s();!(l=u.n()).done;){var p=l.value;Object(j.a)({targets:p.position,y:[{value:p.position.y-c,easing:"easeInOutQuad",duration:750}]})}}catch(h){u.e(h)}finally{u.f()}t.key=e.key;nt(t.url,0,0,t.creatorusername,t,H.newphoto,V);Et()}))}));else{var p=q.getObjectByName(Se);p.canClick=!0;c.push(u).then((function(e){e.once("value",(function(e){console.log(e.val());var t,a,n,o,s,r,l=e.val();ae[i].creator!==W.a.auth().currentUser.uid&&Te(ae[i].creator,ae[i].creatorusername,W.a.auth().currentUser.uid,W.a.auth().currentUser.displayName,i,ae[i].url,"reply"),t=ae[i].creator,a=ae[i].creatorusername,n=W.a.auth().currentUser.uid,o=W.a.auth().currentUser.displayName,s=i,r=ae[i].url,W.a.database().ref("/testimages/"+s+"/replies").once("value",(function(e){var i={};e.forEach((function(e){e.val().creator!==t&&e.val().creator!==n&&(i[e.val().creator]=e.val())}));for(var l=0,c=Object.entries(i);l<c.length;l++){var u=Object(d.a)(c[l],2),m=u[0];u[1],console.log("Also receiver "+m),Te(m,a,n,o,s,r,"also")}})),Ve(ee);var c,u=$*(l.height/l.width)+.5,h=Object(m.a)(ee);try{for(h.s();!(c=h.n()).done;){var g=c.value;g.position.y<p.position.y-.001&&Object(j.a)({targets:g.position,y:[{value:g.position.y-u,easing:"easeInOutQuad",duration:750}]})}}catch(A){h.e(A)}finally{h.f()}var f=p.position.y-p.scale.y/2-$*(l.height/l.width)/2-.5,v=nt(l.url,.1,f,l.creatorusername,l,H.newreply,X);if(l.object=v,oe[Se]){var b=oe[Se];for(var y in oe[Se]={},oe[Se][e.key]=l,b)oe[Se][y]=b[y];console.log(oe[Se])}else oe[Se]={},oe[Se][e.key]=l,console.log(oe[Se]);se[Se]=se[Se]-u;var w=p.scale.y/2,O=p.position.y-w,I=[];if(Object.entries(oe[Se]).forEach((function(e,t){var a=Object(d.a)(e,2),n=(a[0],a[1]);O<w&&(O-=.5,O-=$*(n.height/n.width)/2),I.push(O-p.position.y),O-=$*(n.height/n.width)/2})),re[p.name]){var k=re[p.name];k.scale.x=0,Object(j.a)({targets:k.material,opacity:[{value:0,easing:"easeInOutQuad",duration:200}],complete:function(){q.remove(k)}})}_e(0,I,p)}))}))}}},r.append("upload_preset","sunshine"),r.append("tags","browser_upload"),r.append("file",e),s.send(r)}function Te(e,t,a,n,o,i,s){var r=W.a.database().ref("/notifications/"+e),l=i.split("/upload/"),c={receiverUid:e,creatorUid:a,originalCreatorDisplay:t,creatorDisplayName:n,photoUid:o,photoUrl:l[0]+"/upload/t_media_lib_thumb/"+l[1],type:s,status:"unread"};r.push(c)}function Ue(){return xe.apply(this,arguments)}function xe(){return(xe=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.a.database().ref("stickerusers").orderByChild("time").limitToLast(10).once("value").then((function(e){return ce=[],e.forEach((function(e){console.log("Sticker "+e.val()),e.val().stickerimage&&ce.push(e.val())})),console.log(ce),Nt(ce),Promise.resolve(ce)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze(),console.log(t),W.a.database().ref("/testimages/").child(t).once("value").then((function(e){console.log(e);var t=e.val();t.key=e.key,Qe([t],void 0,X,0)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze(),console.log(t),W.a.database().ref("/testimages/").orderByChild("creator").equalTo(t).once("value").then((function(e){console.log(e);var t=[];e.forEach((function(e){var a=e.key;console.log(a);var n=e.val();console.log(n),n.key=a,t.push(n)})),t.reverse(),Qe(t,void 0,X,0)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return(Ze=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:ce=e.sent,console.log("Stickers promise "+ce),ze(),W.a.database().ref("testimages").limitToLast(60).once("value").then((function(e){console.log(e);var t=[];e.forEach((function(e){var a=e.key;console.log(a);var n=e.val();console.log(n),n.key=a,t.push(n)})),t.reverse(),Qe(t,ce,V)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t,a,n){te=e,ne=0,void 0===n?Et():window.scrollTo(0,n),Pe(St(te,20,ne),t,a)}function ze(){var e,t=Object(m.a)(ee);try{for(t.s();!(e=t.n()).done;){var a=e.value;for(var n in a.children){null!=n.geometry&&n.geometry.dispose();try{n.material.map.dispose()}catch(o){}try{n.material.roughnessMap.dispose()}catch(i){}try{n.material.normalMap.dispose()}catch(s){}try{n.material.dispose()}catch(r){}}a.geometry.dispose(),null!=a.material.map&&a.material.map.dispose();try{a.material.roughnessMap.dispose()}catch(l){}try{a.material.normalMap.dispose()}catch(c){}null!=a.material.map&&a.material.map.dispose(),a.material.dispose(),q.remove(a,a.children)}}catch(u){t.e(u)}finally{t.f()}oe={},ee=[],ie={},se={},re={},le={},ue=0,de=0}var De=!0;j.a.random(2,8);function Pe(e,t,a){console.log("Generating feed");var n=0;q.getObjectByName("bottomOfFeed")&&(n=q.getObjectByName("bottomOfFeed").position.y);var o,i=Object(m.a)(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;console.log(s),n<0&&(n-=.5,n-=$*(s.height/s.width)/2);var r="sample";s.creatorusername&&(r=s.creatorusername),nt(s.url,0,n,r,s,H.feedphoto,a),n-=$*(s.height/s.width)/2,8===ue&&void 0!==t&&t[de]&&(n-=.8,Ge(n-=$*(3/4)/2.3,t[de],De),n-=$*(3/4)/2.3,n-=0,De=!De,j.a.random(8,11),ue=0,de+=1),De=!De,ue+=1}}catch(c){i.e(c)}finally{i.f()}if(q.getObjectByName("bottomOfFeed")){q.getObjectByName("bottomOfFeed").position.y=n}else{var l=new b.J;l.name="bottomOfFeed",q.add(l),l.position.y=n,ee.push(l)}}function We(){var e=new b.J(ve),t=new b.M;return t.roughness=.15,t.normalScale=new b.rb(.35,.35),e.type=H.sticker,e.material=t,e.castShadow=!0,e.receiveShadow=!0,function(e){Ie.apply(this,arguments)}(e),e}function Ge(e,t,a){var n=We(),o=t.stickerimage;he.load(o,(function(e){console.log("texture loaded"),n.material.map=e,n.material.needsUpdate=!0})),q.add(n),n.position.y=e,n.position.z=.05,!0===a?(n.rotation.z=.02+.1*Math.random(),n.position.x=-$/3.75):(n.rotation.z=-(.02+.1*Math.random()),n.position.x=$/3.75),n.rotation.y=-.005,n.scale.x=1.2*$,n.scale.y=$*(3/4)*1.2,ee.push(n)}function Be(){if(Ve(ee),ee.length>0){var e=-ee[0].position.y||window.innerHeight;document.getElementById("root").style.height=100*e+window.innerHeight+"px"}Je()}function Je(){var e,t=_.position.y,a=Object(m.a)(ee);try{for(a.s();!(e=a.n()).done;){var n=e.value;Math.abs(n.position.y-t)<20?(console.log("Loading photo prelim"),Ye(n)):(console.log("Unloading photo prelim"),He(n))}}catch(o){a.e(o)}finally{a.f()}}function Ye(e){e.url&&(e.loaded||(console.log("Loading photo"),he.load(e.url,(function(t){console.log("texture loaded"),e.material.map=t,e.material.needsUpdate=!0}))),e.loaded=!0)}function He(e){if(e.url){if(e.loaded)if(null!=e.material.map)e.material.map.dispose(),e.material.map=null,e.material.needsUpdate=!0;e.loaded=!1}}var Xe=!1;function Ve(e){e.sort((function(e,t){return e.position.y-t.position.y}))}function Ke(e){if(Xe){if(clearTimeout(Xe),Xe=null,console.log("DOUBLE TAP"),""===e.intersects[0].object.name)return;var t=e.intersects[0].object.worldToLocal(e.intersects[0].point),a={xposition:t.x,yposition:t.y};W.a.database().ref("/testimages/"+e.intersects[0].object.name+"/stars/"+W.a.auth().currentUser.uid).set(a)}else Xe=setTimeout((function(){Xe=null,""!==e.intersects[0].object.name&&(console.log(e.intersects[0].object.position),Object(j.a)({targets:e.intersects[0].object.position,z:[{value:.5,easing:"easeInOutQuad",duration:100},{value:.75,easing:"easeInOutQuad",duration:300,delay:100}],loop:!1,direction:"alternate"}),console.log("are replies visible "+ie[e.intersects[0].object.name]),!1===(ie[e.intersects[0].object.name]||!1)?(ie[e.intersects[0].object.name]=!0,function(e){e.canClick=!1,console.log("Object scale "+e.scale.y);var t=e.scale.y/2,a=e.position.y-t,n=[];console.log("Starting value "+t);var o=[];oe[e.name]&&(o=oe[e.name]);Object(j.a)({targets:e.position,x:[{value:-.2,easing:"easeInOutQuad",duration:300}]}),Object.entries(o).forEach((function(o,i){var s=Object(d.a)(o,2),r=s[0],l=s[1],c="#"+jt("E6E3DA","3773B3",1-1/(i+2));console.log(r,l),console.log("Y value "+a),q.attach(l.object),a<t&&(a-=.5,a-=$*(l.height/l.width)/2),n.push(a-e.position.y),he.crossOrigin="Anonymous",he.load(A.a,(function(e){console.log("TEXTURE LOADED",e),he.load(l.url,(function(e){console.log("texture loaded")}))})),Object(j.a)({targets:l.object.scale,y:[{value:$*(l.height/l.width),easing:"easeInOutQuad",duration:175,delay:100}],complete:function(){var e=.1*Math.random()/2,t=200*Math.random();l.animations=rt(l.object,e,t);var a="globe";!0===pe[l.creator]&&(a="following",console.log("Found following"));var n=st(l.creatorusername,c,l.object,l.creator,a);n.material.opacity=0,Object(j.a)({targets:n.material,opacity:[{value:1,easing:"easeInOutQuad",duration:750}]})}}),Object(j.a)({targets:l.object.position,y:[{value:a,easing:"easeInOutQuad",duration:175,delay:100}],x:[{value:.1,easing:"easeInOutQuad",duration:175,delay:100}],complete:function(){ee.push(l.object);var e=new b.M;l.object.material=e,ye(l.object),he.load(l.url,(function(t){console.log("texture loaded"),e.map=t,l.object.material.needsUpdate=!0}))}}),Object(j.a)({targets:l.object.position,z:[{value:.25,easing:"easeInOutQuad",duration:50},{value:.75,easing:"easeInOutQuad",duration:300,delay:200}]}),console.log(a),a-=$*(l.height/l.width)/2})),_e(a-e.position.y,n,e);var i=0;Ve(ee);var s,r=Object(m.a)(ee);try{for(r.s();!(s=r.n()).done;){if((u=s.value).position.y<e.position.y&&""!=e.name){i=e.scale.y/2;break}}}catch(p){r.e(p)}finally{r.f()}se[e.name]=a-e.position.y+i;var l,c=Object(m.a)(ee.reverse());try{for(c.s();!(l=c.n()).done;){var u;(u=l.value).position.y<e.position.y&&Object(j.a)({targets:u.position,y:[{value:u.position.y+a-e.position.y+i,easing:"easeInOutQuad",duration:550}],complete:function(){e.canClick=!0}})}}catch(p){c.e(p)}finally{c.f()}le[e.name]?qe(le[e.name]):function(e,t){var a=function(){var e=new b.V;e.moveTo(-.05,.2),e.lineTo(-.3,0),e.lineTo(-.05,-.2),e.lineTo(-.3,0),e.lineTo(.1,0),e.quadraticCurveTo(.3,0,.3,-.2),e.quadraticCurveTo(.3,-.4,.1,-.4);var t=e.getPoints(25),a=(new b.g).setFromPoints(t),n=new b.y({color:0});return new b.x(a,n)}();le[t]=a,q.add(a),a.position.set(0,e,.25),qe(a);a.scale.set(.45,.45,.45),ee.push(a),Object(j.a)({targets:a.rotation,y:[{value:2*Math.PI,easing:"linear",duration:8e3}],loop:!0}),a.on("click",(function(){Se=t,document.getElementById("reply-input").click()}))}(e.position.y,e.name)}(e.intersects[0].object),console.log("Reply false")):!0===ie[e.intersects[0].object.name]&&(console.log("Reply true"),ie[e.intersects[0].object.name]=!1,function(e){e.canClick=!0;var t=[];oe[e.name]&&(t=oe[e.name]);a=le[e.name],Object(j.a)({targets:a.position,x:[{value:0,easing:"easeInOutQuad",duration:350,delay:100}],z:[{value:.25,easing:"easeInOutQuad",duration:350,delay:100}]}),Object(j.a)({targets:e.position,x:[{value:0,easing:"easeInOutQuad",duration:300}]}),Object(j.a)({targets:re[e.name].scale,y:[{value:0,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(j.a)({targets:re[e.name].position,x:[{value:re[e.name].position.x+.1,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(j.a)({targets:re[e.name].material,opacity:[{value:0,easing:"easeInOutQuad",duration:175,delay:100}],complete:function(){q.remove(re[e.name])}});var a;var n=e.position.y-.01;Object.entries(t).length>0&&(n=Object.entries(t)[Object.entries(t).length-1][1].object.position.y);var o,i=Object(m.a)(ee);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.position.y<n&&Object(j.a)({targets:s.position,y:[{value:s.position.y-se[e.name],easing:"easeInOutQuad",duration:400}],complete:function(){e.canClick=!0}})}}catch(r){i.e(r)}finally{i.f()}Object.entries(t).forEach((function(t,a){var n=Object(d.a)(t,2),o=(n[0],n[1]);!function(e,t){var a=0;for(;a<e.length;)e[a]===t?e.splice(a,1):++a}(ee,o.object),e.attach(o.object);var i=new b.M;i.color=new b.k($e(a)),o.object.material=i,o.object.material.needsUpdate=!0;var s,l=et(a),c=Object(m.a)(o.animations||[]);try{for(c.s();!(s=c.n()).done;){s.value.pause()}}catch(r){c.e(r)}finally{c.f()}var u,p=Object(m.a)(o.object.children);try{for(p.s();!(u=p.n()).done;){var h=u.value;Object(j.a)({targets:h.material,opacity:[{value:0,easing:"easeInOutQuad",duration:300}],complete:function(){o.object.remove(h)}})}}catch(r){p.e(r)}finally{p.f()}Object(j.a)({targets:o.object.position,x:[{value:l.x}],y:[{value:l.y}],z:[{value:l.z}],easing:"easeInOutQuad",duration:175,delay:100,complete:function(){o.object.rotation.set(0,0,0)}}),Object(j.a)({targets:o.object.scale,x:[{value:1}],y:[{value:1}],z:[{value:1}],easing:"easeInOutQuad",duration:175,delay:100})}))}(e.intersects[0].object)))}),300)}function qe(e){Object(j.a)({targets:e.position,x:[{value:$/2+.1,easing:"easeInOutQuad",duration:350,delay:100}],z:[{value:.45,easing:"easeInOutQuad",duration:350,delay:100}]})}function _e(e,t,a){var n,o=new b.V,i=Object(m.a)(t.entries());try{for(i.s();!(n=i.n()).done;){var s=Object(d.a)(n.value,2),r=s[0],l=s[1];r!==t.length-1?(o.lineTo(0,l+.15),o.quadraticCurveTo(0,l,.25,l),o.quadraticCurveTo(0,l,0,l-.15),console.log("last midpoint"+l)):(o.lineTo(0,l+.15),o.quadraticCurveTo(0,l,.25,l),console.log("last midpoint"+l))}}catch(f){i.e(f)}finally{i.f()}var c=o.getPoints(),u=(new b.g).setFromPoints(c),p=new b.y({color:0}),h=new b.x(u,p),g=new b.J;q.add(g),g.position.set(-$/2,a.position.y,.25),g.add(h),g.scale.y=0,g.scale.x=0,ee.push(g),re[a.name]=g,g.material.opacity=0,Object(j.a)({targets:g.scale,y:[{value:1,easing:"easeInOutQuad",duration:175,delay:100}],x:[{value:1,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(j.a)({targets:g.position,x:[{value:-$/2-.1,easing:"easeInOutQuad",duration:175,delay:100}]}),Object(j.a)({targets:g.material,opacity:[{value:1,easing:"easeInOutQuad",duration:175,delay:100}]})}function $e(e){return e+=1,parseInt("0x"+jt("3773B3","E6E3DA",1/(1.4*e)))}function et(e){return{x:.03-1/(1.5*(e+=1))*.03,y:-1/(1.5*e)*-.2-.2,z:-1/(1.5*e)*-.1-.1}}function tt(e){e.material.opacity=0,Object(j.a)({targets:e.material,opacity:[{value:1,easing:"easeInOutQuad",duration:350}]})}function at(e,t,a,n){if(e.getObjectByName(t)){var o=e.getObjectByName(t);return o.position.x=a,o.position.y=n,void tt(o)}var i=new b.X(.1,.1,.1),s=new b.M;s.metalness=.5,s.roughness=.1,s.transparent=!0,he.load(S.a,(function(o){s.map=o,s.roughnessMap=o,he.load(R.a,(function(o){s.alphaMap=o;var r=new b.J(i,s);e.add(r),r.position.set(a,n,1e-4),r.name=t,r.scale.set(1/e.scale.x,1/e.scale.y,1),tt(r)}))}))}function nt(e,t,a,n,o,i,s,r,l,c){var u=new b.J(ve),m=new b.M;u.material=m,ye(u);var p=o.height,h=o.width,g=o.key;u.scale.y=$*(p/h),u.scale.x=$,u.castShadow=!0,u.name=g,q.add(u),u.position.y=a,u.position.x=t,u.canClick=!1;var f="globe",v="#fe5b30";if(console.log("Following photo "+o.creator),console.log(pe),!0===pe[o.creator]&&(f="following",v="#fe5b30",console.log("Found following")),s===K){u.position.z=5,u.material.opacity=0,Object(j.a)({targets:u.position,z:[{value:.75,easing:"spring(1, 80, 10, 0)",duration:800+100*-a}],complete:function(){u.canClick=!0}}),Object(j.a)({targets:u.material,opacity:[{value:1,easing:"easeInOutQuad",duration:800+10*-a}]});var y=.1*Math.random()/2,w=200*Math.random();rt(u,y,w)}(i!==H.feedphoto&&i!==H.newphoto||(u.url=e,u.loaded=!1,function(e,t){var a=W.a.database().ref("testimages/"+t+"/stars");a.on("child_added",(function(t){console.log(t),at(e,t.key,t.val().xposition,t.val().yposition)})),a.on("child_changed",(function(t){console.log(t),at(e,t.key,t.val().xposition,t.val().yposition)}))}(u,g),function(e){e.cursor="pointer",e.on("click",(function(e){console.log(e),!0===e.intersects[0].object.canClick&&Ke(e)}))}(u),st(n,v,u,o.creator,f)),s===V&&(u.position.z=.75,u.position.x=t-8,u.position.y=a+1.5,u.rotation.z=-.5,Object(j.a)({targets:u.rotation,z:[{value:0}],easing:"spring(1, 80, 20, 0)",duration:3e3}),Object(j.a)({targets:u.position,x:[{value:t}],easing:"spring(1, 100, 20, 0)",duration:1800,delay:j.a.random(0,150),complete:function(){u.canClick=!0}}),Object(j.a)({targets:u.position,y:[{value:a}],easing:"spring(1, 80, 20, 0)",duration:1800,complete:function(){var e=.1*Math.random()/2,t=200*Math.random();rt(u,e,t)}})),s===X&&(u.position.x=t+8,u.position.y=a+.75,u.position.z=.75,u.rotation.z=-.5,Object(j.a)({targets:u.rotation,z:[{value:0}],easing:"spring(1, 80, 20, 0)",duration:2e3}),Object(j.a)({targets:u.position,x:[{value:t}],easing:"spring(1, 80, 20, 0)",duration:1800,delay:j.a.random(0,150),complete:function(){u.canClick=!0}}),Object(j.a)({targets:u.position,y:[{value:a}],easing:"spring(1, 80, 20, 0)",duration:1800,complete:function(){var e=.1*Math.random()/2,t=200*Math.random();rt(u,e,t)}})),i===H.newreply)&&(he.load(e,(function(e){console.log("TEXTURE LOADED",e),u.material.map=e,u.material.needsUpdate=!0})),st(n,"#"+jt("E6E3DA","3773B3",.25),u,o.creator,f));return ee.push(u),ae[g]=o,o.replies&&(console.log("FOUDN REPLIES"),Object.entries(o.replies).reverse().forEach((function(e,t){var a=Object(d.a)(e,2),n=a[0],o=a[1];console.log("".concat(t,": ").concat(n," = ").concat(o));var i=function(e,t){var a=new b.e(1,1,1e-6),n=$e(t),o=new b.M({color:n}),i=new b.J(a,o);i.castShadow=!0,e.add(i);var s=et(t);return i.position.x=s.x,i.position.y=s.y,i.position.z=s.z,console.log(i.position.y),i}(u,t);console.log(i),o.object=i,oe[g]||(oe[g]={}),oe[g][n]=o,console.log(oe)}))),Be(),u}function ot(e){var t;console.log(e),function(e){W.a.database().ref("/following/"+W.a.auth().currentUser.uid+"/"+e).set(!0)}(e),t=e,W.a.database().ref("/testimages/").orderByChild("creator").equalTo(t).once("value",(function(e){for(var t in e.val())W.a.database().ref("privatefeeds/"+W.a.auth().currentUser.uid+"/"+t).set(!0)}))}function it(e){var t;!function(e){W.a.database().ref("/following/"+W.a.auth().currentUser.uid).child(e).remove()}(e),t=e,W.a.database().ref("/testimages/").orderByChild("creator").equalTo(t).once("value",(function(e){for(var t in e.val())W.a.database().ref("privatefeeds/"+W.a.auth().currentUser.uid).child(t).remove()}))}function st(e,t,a,n,o){var i=function(e,t,a,n,o,i,s,r){var l=document.createElement("canvas"),c=l.getContext("2d");l.width=t,l.height=a,c.fillStyle=s,c.beginPath(),c.arc(t/2,a/2,2*n,0,2*Math.PI,!0),"globe"===r?lt(c,t,U.a):"following"===r&&lt(c,t,M.a);c.fill(),c.fillStyle="#00000f",c.font="italic 20px Times New Roman",c.fillTextCircle(e+" ",t,a,n/3*1.8,-Math.PI/2),c.stroke();var u=new b.nb(l);u.minFilter=b.B,u.needsUpdate=!0;var d=(new b.g).fromGeometry(new b.i(i/2,20)),m=(new b.K({color:16669488,opacity:1}),new b.K({side:b.m,map:u,transparent:!0,opacity:1})),p=new b.J(d,m);return p.castShadow=!0,p}(e,100,100,50,Math.PI,.45,t,o);return a.add(i),i.cursor="pointer",i.on("click",(function(t){console.log(t),Object(j.a)({targets:a.rotation,x:a.rotation.x+.05,y:a.rotation.y+.12,easing:"easeOutElastic",duration:700,direction:"alternate",complete:function(){}}),Object(j.a)({targets:a.position,x:a.position.x-.25,easing:"easeInQuad",duration:250,complete:function(){}}),setTimeout((function(){window.App.goForward(e,n,null,Ce,n,ee)}),250)})),i.scale.y=1/a.scale.y,i.scale.x=1/a.scale.x,i.scale.z=1/a.scale.z,i.position.z=.05,i.position.y=-$/4,i.position.x=$/4,i}function rt(e,t,a){return[Object(j.a)({targets:e.rotation,x:[{value:-.015-t/2,easing:"easeInOutQuad",duration:3500+a},{value:.015+t/2,easing:"easeInOutQuad",duration:3500+a}],loop:!0,direction:"alternate"}),Object(j.a)({targets:e.rotation,y:[{value:-.01-t/2,easing:"easeInOutQuad",duration:4e3-a},{value:.01+t/2,easing:"easeInOutQuad",duration:4e3-a}],loop:!0,direction:"alternate",duration:4e3}),Object(j.a)({targets:e.rotation,z:[{value:-.002-t/6,easing:"easeInOutQuad",duration:4e3-a},{value:.002+t/6,easing:"easeInOutQuad",duration:4e3-a}],loop:!0,direction:"alternate",duration:4e3})]}function lt(e,t,a){var n=new Image;n.onload=function(){e.drawImage(n,t/4,t/4,t/2,t/2)},n.src=a}if(CanvasRenderingContext2D.prototype.fillTextCircle=function(e,t,a,n,o){Math.PI,e.length;this.save(),this.translate(t/2,a/2),this.rotate(o);for(var i=0;i<e.length;i++)this.save(),this.rotate(.35*i),this.fillText(e[i],0,-n),this.restore();this.restore()},"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)try{for(var ct in document.styleSheets){var ut=document.styleSheets[ct];if(ut.rules)for(var dt=ut.rules.length-1;dt>=0;dt--)ut.rules[dt].selectorText&&ut.rules[dt].selectorText.match(":hover")&&ut.deleteRule(dt)}}catch(Rt){}var mt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){_=new b.W(50,window.innerWidth/window.innerHeight,.1,8),window.innerWidth/window.innerHeight*1.6666<1?_.zoom=window.innerWidth/window.innerHeight*1.6666:_.zoom=1;var e=new b.ub({alpha:!0});e.setClearColor(16777215,0),e.setPixelRatio(Math.min(devicePixelRatio,2)),e.powerPreference="low-power",e.shadowMap.enabled=!0,e.shadowMapSoft=!0,e.shadowMap.type=b.U,e.setSize(window.innerWidth,window.innerHeight),this.mount.appendChild(e.domElement);var t=new b.X(800,800,800),a=new b.hb({color:6710886,side:b.m});a.opacity=.2;var n=new b.J(t,a);n.position.z=0,n.receiveShadow=!0,q.add(n),q.add(_),_.position.z=5,_.zoom=1;new G.a(e,q,_);var o=new b.l(16773595);o.intensity=.65,o.castShadow=!0;o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024;o.shadow.bias=-5e-4,o.shadow.camera.left=-4,o.shadow.camera.right=4,o.shadow.camera.top=4,o.shadow.camera.bottom=-4,o.shadow.radius=4,o.target.position.set(0,0,0),_.add(o),o.position.set(0,5.25,10),_.add(o.target);var i=new b.a(16773595,.45);q.add(i);!function t(){requestAnimationFrame(t),e.render(q,_)}();!function(e){var t,a,n,o,i=(e=e||{}).delay||50;function s(){t=null,o=0}s()}();window.onscroll=function(){!function(){Be();var e=document.body.scrollTop||document.documentElement.scrollTop;document.documentElement.scrollHeight,document.documentElement.clientHeight;_.position.y=0-e/100}(),Je(),console.log(e.info);var t=document.body.scrollHeight;window.scrollY+window.innerHeight>=t&&(console.log("at the bottom"),Pe(St(te,20,ne+=1),ce,V))};w()(window).resize((function(){_.aspect=window.innerWidth/window.innerHeight,_.updateProjectionMatrix(),window.innerWidth/window.innerHeight*1.6666<1.05?_.zoom=window.innerWidth/window.innerHeight*1.6666:_.zoom=1,e.setSize(window.innerWidth,window.innerHeight)}));!function(e){var t;e&&"function"===typeof e&&window.addEventListener("scroll",(function(a){window.clearTimeout(t),t=setTimeout((function(){e()}),66)}),!1)}((function(){0}))}},{key:"render",value:function(){var e=this;return I.a.createElement("div",{className:"backgroundcanvas",ref:function(t){return e.mount=t}})}}]),a}(O.Component);var pt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={formDisplay:!1,strokeCount:0,notificationList:[],number:""},e.dismissForm=e.dismissForm.bind(Object(s.a)(e)),e.stickerForm=I.a.createRef(),e.accountForm=I.a.createRef(),e.notificationList=I.a.createRef(),e.signOut=e.signOut.bind(Object(s.a)(e)),e.addStroke=e.addStroke.bind(Object(s.a)(e)),e.clearStroke=e.clearStroke.bind(Object(s.a)(e)),e.requestUserPhotos=e.requestUserPhotos.bind(Object(s.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"addStroke",value:function(){this.setState({strokeCount:this.state.strokeCount+1}),console.log(this.state.strokeCount)}},{key:"clearStroke",value:function(){this.setState({strokeCount:0})}},{key:"dismissForm",value:function(){this.state.strokeCount>0&&this.stickerForm.current.submit(),this.setState({formDisplay:!1}),this.props.dismissAccountForm(),this.clearStroke(),this.props.maximizeUI(),this.props.setNotificationsRead(),this.markNotificationsAsRead()}},{key:"markNotificationsAsRead",value:function(){var e,t=Object(m.a)(this.state.notificationList);try{for(t.s();!(e=t.n()).done;){var a=e.value;"unread"===a.val().status&&a.ref.child("status").set("read")}}catch(n){t.e(n)}finally{t.f()}}},{key:"showForm",value:function(){this.setState({formDisplay:!0}),this.requestNotifications()}},{key:"requestNotifications",value:function(){var e=this;W.a.database().ref("notifications/"+W.a.auth().currentUser.uid).limitToLast(50).once("value",(function(t){console.log("Notification"),console.log(t.val());var a=[];t.forEach((function(e){a.push(e)})),e.setState({notificationList:a.reverse()})}))}},{key:"signOut",value:function(){je(),this.setState({formDisplay:!1}),this.props.maximizeUI(),this.props.dismissAccountForm(),this.props.loginForm.current.setState({success:!1})}},{key:"requestUserPhotos",value:function(e,t){this.props.goForward(t,e,this.accountForm.current,Ce,e,ee),this.props.dismissAccountForm(),this.props.setHamburgerHidden()}},{key:"requestSinglePhoto",value:function(e,t){this.props.goForward(t+"'s photo","",this.accountForm.current,Me,e,ee),this.props.dismissAccountForm(),this.props.setHamburgerHidden()}},{key:"render",value:function(){var e=this;return I.a.createElement("div",{ref:this.accountForm,className:"accountform "+(this.state.formDisplay?"accountformopen":"")},I.a.createElement("div",{className:"stickerheader"},I.a.createElement("div",{className:"ratio"},"  ",I.a.createElement("svg",{viewBox:"0 0 4 3"}),I.a.createElement(ht,{formDisplay:this.state.formDisplay,ref:this.stickerForm,addStroke:this.addStroke})),I.a.createElement("div",{class:"row"},I.a.createElement("div",{class:"block"},I.a.createElement("h1",null,I.a.createElement("span",null,I.a.createElement("div",{className:"usertext"},this.props.loggedInUser.username||"",I.a.createElement("div",{className:"usernumber"},"\u2734\ufe0e",this.props.userNumber))))))),I.a.createElement(Ot,{newNotifications:this.props.newNotifications,ref:this.notificationList,notificationList:this.state.notificationList,requestSinglePhoto:this.requestSinglePhoto.bind(this),setCurrentTitle:this.props.setCurrentTitle,accountForm:this.accountForm.current,currentTitle:this.props.currentTitle}),I.a.createElement(yt,{requestUserPhotos:this.requestUserPhotos.bind(this),setCurrentTitle:this.props.setCurrentTitle,accountForm:this.accountForm.current,currentTitle:this.props.currentTitle}),I.a.createElement(ft,null),I.a.createElement("div",{className:"toolbarcontainer"},I.a.createElement("button",{id:"title",onClick:function(){return e.requestUserPhotos(W.a.auth().currentUser.uid,W.a.auth().currentUser.displayName)}},I.a.createElement("div",{className:"buttonsymbol"},"\u3009"),"View Photos"),I.a.createElement("button",{id:"title",onClick:this.signOut},I.a.createElement("div",{className:"buttonsymbol"},"\u3008"),"Sign Out")))}}]),a}(O.Component);var ht=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).sigCanvas=I.a.createRef(),e.undo=e.undo.bind(Object(s.a)(e)),e.submit=e.submit.bind(Object(s.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.sigCanvas.current.getCanvas().getContext("2d"),a=new Image;a.crossOrigin="anonymous",a.onload=function(){t.drawImage(a,0,0,400,300)},a.src=C.a,W.a.auth().onAuthStateChanged((function(t){W.a.database().ref("users/"+W.a.auth().currentUser.uid+"/stickerimage").once("value").then((function(t){console.log("saved image"),console.log(t.val());var a=e.sigCanvas.current.getCanvas().getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.onload=function(){a.drawImage(n,0,0,400,300)},n.src=t.val()}))}))}},{key:"undo",value:function(){var e=this.sigCanvas.current.getCanvas().getContext("2d"),t=new Image;t.crossOrigin="anonymous",t.onload=function(){e.drawImage(t,0,0,400,300)},t.src=C.a,W.a.database().ref("users/"+W.a.auth().currentUser.uid+"/stickerimage").remove()}},{key:"submit",value:function(){!function(e){var t=new XMLHttpRequest,a=new FormData;t.open("POST","https://api.cloudinary.com/v1_1/cathedralapp/upload",!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onreadystatechange=function(e){if(4==t.readyState&&200==t.status){var a=JSON.parse(t.responseText);console.log("UPLOADED");var n=a.secure_url;console.log(n),W.a.database().ref("users/"+W.a.auth().currentUser.uid+"/stickerimage").set(n),W.a.database().ref("stickerusers/"+W.a.auth().currentUser.uid+"/stickerimage").set(n)}},a.append("upload_preset","sunshinesticker"),a.append("tags","browser_upload"),a.append("file",e),t.send(a)}(this.sigCanvas.current.toDataURL("image/png"));var e=this.sigCanvas.current.toData();console.log(e)}},{key:"render",value:function(){return I.a.createElement("div",{className:"signatureform "},I.a.createElement(J.a,{onEnd:this.props.addStroke,ref:this.sigCanvas,canvasProps:{width:400,height:300,className:"sigCanvas"}}),I.a.createElement("div",{className:"stickerbuttoncontainer"},I.a.createElement("button",{onClick:this.undo},"\u27f2")))}}]),a}(O.Component),gt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1,success:!1},e.handleChange=e.handleChange.bind(Object(s.a)(e)),e.handlePassword=e.handlePassword.bind(Object(s.a)(e)),e.handleUpload=e.handleUpload.bind(Object(s.a)(e)),e}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t;console.log("handling chnage");var a=this;a.setState((t={},Object(i.a)(t,e.target.name,e.target.value),Object(i.a)(t,"errortext",""),t),(function(){W.a.database().ref("/users/").orderByChild("username").equalTo(this.state.username).once("value").then((function(e){var t=[];e.forEach((function(e){var a=e.val();console.log(a),t.push(a)})),0===t.length?a.setState({loginregtext:"i'm new",usernameexists:!1}):a.setState({loginregtext:"login",usernameexists:!0})}))}))}},{key:"handleRegisterLogin",value:function(e){var t=this,a=this.state.username,n=this.state.password;if(this.setState({tryingtologin:!0}),this.state.usernameexists)console.log("username does exist, loggin in"),W.a.database().ref("/users/").orderByChild("username").equalTo(this.state.username).once("value").then((function(e){console.log("checking username against database");var a="";e.forEach((function(e){console.log(e.key),console.log(e.value),a=e.key})),console.log(a),W.a.auth().signInWithEmailAndPassword(a+"@recworld.app",n).then((function(e){console.log("login success"),console.log(e),t.props.signIn(),t.setState({username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1}),Ae(),t.setState({success:!0}),t.props.handleUpload()})).catch((function(e){e.code;var a=e.message;t.setState({errortext:a})}))}));else{e.preventDefault(),W.a.auth().currentUser.updateProfile({displayName:a}),W.a.database().ref("users/"+W.a.auth().currentUser.uid).set({username:a});var o=W.a.auth.EmailAuthProvider.credential(W.a.auth().currentUser.uid+"@recworld.app",n);W.a.auth().currentUser.linkWithCredential(o).then((function(e){var n=e.user;console.log("Anonymous account successfully upgraded",n),t.props.register(a),t.setState({username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1}),Ae(),t.setState({success:!0}),t.props.loginRegisterAction(W.a.auth().currentUser.uid),t.props.handleUpload()})).catch((function(e){t.setState({errortext:e.message}),console.log("enteredusername"),console.log("Error upgrading anonymous account",e)}))}}},{key:"handlePassword",value:function(e){var t;this.setState((t={},Object(i.a)(t,e.target.name,e.target.value),Object(i.a)(t,"errortext",""),t))}},{key:"handleCancel",value:function(){this.setState({username:"",password:"",loginregtext:"i'm new",errortext:"",error:!1,usernameexists:!1,tryingtologin:!1}),Object(j.a)({targets:".logindialog",top:[{value:"200%",easing:"easeInOutQuad",duration:600}]}),this.props.closeloginform()}},{key:"handleUpload",value:function(){Ee()}},{key:"render",value:function(){var e,t;return I.a.createElement("div",{className:"logindialog"},I.a.createElement("div",{className:"logindialogimagecontainer"},I.a.createElement("span",null,I.a.createElement("span",null,I.a.createElement("img",{id:"loginimage",className:"logindialogimage",src:z.a,"object-fit":"scale-down"})))),I.a.createElement("div",{className:"loginform",style:{maxHeight:this.state.success?"0px":"800px",overflow:this.state.success?"hidden":"visible"}},I.a.createElement("div",{class:"floating-label"},I.a.createElement("input",(e={className:"floating-input",type:"text",placeholder:" "},Object(i.a)(e,"type","text"),Object(i.a)(e,"name","username"),Object(i.a)(e,"onBlur",this.handleChange),Object(i.a)(e,"onChange",this.handleChange),Object(i.a)(e,"value",this.state.username),e)),I.a.createElement("span",{class:"highlight"}),I.a.createElement("label",null,"USERNAME")),I.a.createElement("div",{class:"floating-label"},I.a.createElement("input",(t={className:"floating-input passwordinput",type:"password",placeholder:" ",onChange:this.handlePassword},Object(i.a)(t,"type","text"),Object(i.a)(t,"name","password"),Object(i.a)(t,"value",this.state.password),t)),I.a.createElement("span",{class:"highlight"}),I.a.createElement("label",null,"PASSWORD")),I.a.createElement("span",null," ",this.state.errortext),I.a.createElement("div",{className:"modalbuttons"},I.a.createElement("button",{onClick:this.handleCancel.bind(this),key:"cancel button",className:"cancelbutton"},"cancel"),I.a.createElement("button",{onClick:this.handleRegisterLogin.bind(this),className:"submitbutton "+(this.state.username.trim()&&this.state.password.trim()?"submitshake":"")},I.a.createElement("span",{style:{display:this.tryingtologin?"inherit":"none"},className:"material-icons rotating"},"work"),this.state.loginregtext))),I.a.createElement("div",{className:"submitform"},I.a.createElement("div",{className:"modalbuttons"},I.a.createElement("button",{onClick:this.handleCancel.bind(this),key:"cancel button",className:"cancelbutton"},"Cancel"),I.a.createElement("button",{onClick:this.handleUpload.bind(this),className:"uploadbutton ",id:"uploadbutton"},I.a.createElement("img",{src:"/images/8-Point-Star_black_void.svg"}),"Send"))))}}]),a}(O.Component),ft=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={menuOpen:!1},n}return Object(l.a)(a,[{key:"toggleMenu",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"render",value:function(){var e=this;return I.a.createElement("div",{className:"shortuserlist"},I.a.createElement("div",{onClick:function(){return e.toggleMenu()},className:"listtitle"},"\u2734\ufe0e DIALER ",I.a.createElement("div",{className:"arrow "+(this.state.menuOpen?"arrowrotate":"")},"\u25be")),I.a.createElement("div",{className:"list "+(this.state.menuOpen?"listexpanded":"")},I.a.createElement(vt,null)),I.a.createElement("div",{className:"divider"}))}}]),a}(O.Component),vt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={displayName:"",number:"",isFollowing:!0,message:"Dial someone?",currentAnimation:Object(j.a)({})},n.handleInput=n.handleInput.bind(Object(s.a)(n)),n.dialerReport=I.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleFollow",value:function(){ot(this.props.uid)}},{key:"handleUnfollow",value:function(){it(this.props.uid)}},{key:"showResponse",value:function(e){var t=this;j.a.remove(t.dialerReport.current),t.setState({message:e},(function(){var e=Object(j.a)({targets:t.dialerReport.current,opacity:[{value:"0.8",easing:"easeInOutQuad",duration:300}],complete:function(){Object(j.a)({targets:t.dialerReport.current,opacity:[{value:"0",easing:"easeInOutQuad",duration:4e3}]})}});t.setState({currentAnimation:e})}))}},{key:"handleInput",value:function(e){var t=this;if(e.preventDefault(),console.log("HANDLING INPUT"),/^\d+$/.test(e.target.value)||(console.log("ISN'T NUMBER"),e.target.value="",this.showResponse("You can only dial numbers.")),4===e.target.value.length){var a=e.target.value;e.target.value="",W.a.database().ref("users/").orderByChild("number").equalTo(a).once("value",(function(e){var a=0;e.forEach((function(e){var n=e.val();ot(e.key),t.showResponse("Followed "+n.username+"."),a+=1})),0===a&&t.showResponse("No user with that number.")}))}}},{key:"handleFocus",value:function(e){if("Dial someone?"===this.state.message){var t=Object(j.a)({targets:this.dialerReport.current,opacity:[{value:"0",easing:"easeInOutQuad",duration:4e3}]});this.setState({currentAnimation:t})}}},{key:"render",value:function(){var e=this;return I.a.createElement("div",{className:"dialercontainer",id:this.props.uid},I.a.createElement("div",{className:"dialerreport",ref:this.dialerReport},this.state.message),I.a.createElement("div",{className:"staranddialer"},I.a.createElement("div",{className:"dialerstar"},"\u2734\ufe0e"),I.a.createElement("div",{className:"dialer"},I.a.createElement("input",{onFocus:function(t){return e.handleFocus(t)},onInput:function(t){return e.handleInput(t)},className:"dialerinput",type:"number"}),I.a.createElement("div",{className:"dialerlinecontainer"},I.a.createElement("div",{className:"dialerline"}),I.a.createElement("div",{className:"dialerline"}),I.a.createElement("div",{className:"dialerline"}),I.a.createElement("div",{className:"dialerline"})))))}}]),a}(O.Component),bt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={displayName:"",number:"",isFollowing:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("short user "+this.props.uid),W.a.database().ref("users/"+this.props.uid).on("value",(function(t){e.setState({displayName:t.val().username||"",number:t.val().number||""})})),W.a.database().ref("following/"+W.a.auth().currentUser.uid+"/"+this.props.uid).on("value",(function(t){t.exists()?e.setState({isFollowing:!0}):e.setState({isFollowing:!1})}))}},{key:"handleFollow",value:function(){ot(this.props.uid)}},{key:"handleUnfollow",value:function(){it(this.props.uid)}},{key:"render",value:function(){var e=this;return I.a.createElement("div",{className:"shortuser",id:this.props.uid},I.a.createElement("div",{onClick:function(){return e.props.requestUserPhotos(e.props.uid,e.state.displayName)},className:"shortusertext"},this.state.displayName,I.a.createElement("div",{className:"shortusernumber"},"\u2734\ufe0e",this.state.number)),I.a.createElement("button",{style:this.state.isFollowing?{}:{display:"none"},onClick:this.handleUnfollow.bind(this),className:"shortuserbutton plus"},"\uff0d"),I.a.createElement("button",{style:this.state.isFollowing?{display:"none"}:{},onClick:this.handleFollow.bind(this),className:"shortuserbutton plus"},"\uff0b"),I.a.createElement("button",{className:"shortuserbutton",onClick:function(){return e.props.requestUserPhotos(e.props.uid,e.state.displayName)}},"\u3009"))}}]),a}(O.Component),yt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={uidList:[],menuOpen:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){function e(e,t){W.a.database().ref("following/"+t).once("value",(function(t){var a=[];console.log("Loading new followers"),t.forEach((function(e){a.push(e.key),console.log(e.key)})),e.setState({uidList:a})}))}var t=this;W.a.auth().onAuthStateChanged((function(a){e(t,a.uid),W.a.database().ref("following/"+a.uid).on("child_added",(function(n){e(t,a.uid)}))}))}},{key:"toggleMenu",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"render",value:function(){var e=this,t=this.state.uidList.map((function(t){return I.a.createElement(bt,{requestUserPhotos:e.props.requestUserPhotos,setCurrentTitle:e.props.setCurrentTitle,accountForm:e.props.accountForm,currentTitle:e.props.currentTitle,uid:t,key:t})}));return I.a.createElement("div",{className:"shortuserlist"},I.a.createElement("div",{onClick:function(){return e.toggleMenu()},className:"listtitle"},"\u2699\ufe0e FOLLOWING ",I.a.createElement("div",{className:"arrow "+(this.state.menuOpen?"arrowrotate":"")},"\u25be")),I.a.createElement("div",{className:"list "+(this.state.menuOpen?"listexpanded":"")},t),I.a.createElement("div",{className:"divider"}))}}]),a}(O.Component),wt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={notificationMessage:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if("reply"===this.props.notification.type){var e=this.props.notification.creatorDisplayName+" replied";this.setState({notificationMessage:e})}else if("also"===this.props.notification.type){var t=this.props.notification.creatorDisplayName+" also replied to "+this.props.notification.originalCreatorDisplay;this.setState({notificationMessage:t})}}},{key:"render",value:function(){var e=this;return I.a.createElement("div",{className:"shortuser",id:this.props.uid},I.a.createElement("div",{style:"unread"===this.props.notification.status?{opacity:1}:{opacity:0},className:"notificationDot onNotification"}),I.a.createElement("img",{className:"notificationImage",src:this.props.notification.photoUrl}),I.a.createElement("div",{onClick:function(){return e.props.requestSinglePhoto(e.props.notification.photoUid,e.props.notification.originalCreatorDisplay||"")},className:"shortusertext"},this.state.notificationMessage),I.a.createElement("button",{className:"shortuserbutton",onClick:function(){return e.props.requestSinglePhoto(e.props.notification.photoUid,e.props.notification.originalCreatorDisplay||"")}},"\u3009"))}}]),a}(O.Component),Ot=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={notificationList:[],menuOpen:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"toggleMenu",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"render",value:function(){var e=this,t=this.props.notificationList.map((function(t){return I.a.createElement(wt,{key:t.key,uid:t.key,requestSinglePhoto:e.props.requestSinglePhoto,currentTitle:e.props.currentTitle,notification:t.val()})}));return I.a.createElement("div",{className:"shortuserlist"},I.a.createElement("div",{onClick:function(){return e.toggleMenu()},className:"listtitle"},"\u229a\ufe0e NOTIFICATIONS ",I.a.createElement("div",{style:this.props.newNotifications?{opacity:1}:{opacity:0},className:"notificationDot menuNotificationDot"})," ",I.a.createElement("div",{className:"arrow "+(this.state.menuOpen?"arrowrotate":"")},"\u25be")),I.a.createElement("div",{className:"list "+(this.state.menuOpen?"listexpanded":"")},t),I.a.createElement("div",{className:"divider"}))}}]),a}(O.Component);var It="submit",kt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={currentusername:"",currentuid:"",loginformopen:!1,loginbuttonvisible:!1,isAnonymous:!0,loggedInUser:{},currentUser:{},currentTitle:"",currentTitleUid:"",minimalUI:!1,accountFormOpen:!1,currentTitleUidFollowing:!0,mode:"all",firstLoad:!0,newNotifications:!1,hamburgerHidden:!0,userNumber:""},window.App=Object(s.a)(n),n.backTitle=I.a.createRef(),n.loginForm=I.a.createRef(),n.accountForm=I.a.createRef(),n.goBack=n.goBack.bind(Object(s.a)(n)),n.submitInput=I.a.createRef(),n.replyInput=I.a.createRef(),n.noFollowingNotification=I.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;W.a.auth().onAuthStateChanged((function(t){if(t){console.log("AUTH STATE CHANGED"),console.log(t);var a=t.isAnonymous;t.uid;console.log(JSON.stringify(W.a.auth().currentUser)),e.setState({isAnonymous:a,currentUser:JSON.stringify(W.a.auth().currentUser)},(function(){})),t.isAnonymous||e.loginRegisterAction(t.uid),function(e){return new Promise((function(t){W.a.database().ref("/following/"+e).once("value",(function(e){e.forEach((function(t){pe[e.key]=!0})),t(!0)}))}))}(t.uid).then((function(){e.state.firstLoad&&(e.requestPublicFeed(),e.setState({firstLoad:!1}))}))}else W.a.auth().signInAnonymously().catch((function(e){e.code;var t=e.message;console.log(t)})),e.setState({hamburgerHidden:!0})}))}},{key:"loginRegisterAction",value:function(e){var t=this;t.createNotificationsListener(e),W.a.database().ref("users/"+e).once("value",(function(e){console.log("firebase user ref"),console.log(e.val()),t.setState({currentUser:W.a.auth().currentUser.displayName,isAnonymous:!1,loggedInUser:e.val(),hamburgerHidden:!1,userNumber:e.val().number||""})})),W.a.database().ref("users/"+e).on("child_added",(function(e){"number"===e.key&&t.setState({userNumber:e.val()})}))}},{key:"createNotificationsListener",value:function(e){var t=this;W.a.database().ref("/notifications/"+e).orderByChild("status").equalTo("unread").limitToLast(50).on("child_added",(function(e){t.setState({newNotifications:!0}),t.accountForm.current.requestNotifications()}))}},{key:"setHamburgerHidden",value:function(){this.setState({hamburgerHidden:!0})}},{key:"setHamburgerShow",value:function(){this.setState({hamburgerHidden:!1})}},{key:"setNewNotifications",value:function(){this.setState({newNotifications:!0})}},{key:"setNotificationsRead",value:function(){this.setState({newNotifications:!1})}},{key:"loginFormShow",value:function(){this.setState({loginformopen:!0})}},{key:"loginFormHide",value:function(){this.setState({loginformopen:!1})}},{key:"register",value:function(e){this.setState({currentusername:e,loginformopen:!1})}},{key:"signIn",value:function(){this.setState({loginformopen:!1})}},{key:"requestPrivateFeed",value:function(){this.setState({mode:"private"}),ze(),W.a.database().ref("/privatefeeds/"+W.a.auth().currentUser.uid).limitToLast(60).once("value").then((function(e){console.log(e);var t=[],a=0,n=0;e.forEach((function(){n+=1})),console.log("Snapshot length"),console.log(n),e.forEach((function(e){var o=e.key;console.log(o),W.a.database().ref("/testimages/"+o).once("value",(function(e){if(a+=1,e.val()){var i=e.val();console.log(i),i.key=o,t.push(i)}a===n&&(t.reverse(),Qe(t,void 0,V))}))}))})),0===Object.entries(pe).length&&Object(j.a)({targets:this.noFollowingNotification.current,opacity:[{value:"0.8",easing:"easeInOutQuad",duration:300},{value:"0",easing:"easeInOutQuad",duration:4e3}]})}},{key:"requestPublicFeed",value:function(){this.setState({mode:"all"}),function(){Ze.apply(this,arguments)}()}},{key:"signOut",value:function(){je()}},{key:"showAccountForm",value:function(){this.minizeUI(),this.accountForm.current.showForm(),this.setState({accountFormOpen:!0})}},{key:"dismissAccountForm",value:function(){this.setState({accountFormOpen:!1})}},{key:"goBack",value:function(){var e=me.pop(),t=!1;void 0!==e&&(!function(e){var t,a=Object(m.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;Object(j.a)({targets:n.rotation,z:[{value:.15}],easing:"spring(1, 80, 20, 0)",duration:3e3}),Object(j.a)({targets:n.position,x:[{value:n.position.x+5,easing:"spring(1, 80, 20, 0)",duration:1e5,delay:j.a.random(0,150)}],y:[{value:n.position.y-1.5,easing:"spring(1, 80, 20, 0)",duration:1e5}]})}}catch(o){a.e(o)}finally{a.f()}}(ee),setTimeout((function(){ze(),Qe(e.photosList,e.stickers,V,e.scroll)}),400),this.setCurrentTitle(e.title,e.uid,"back"),e.div&&(e.div.classList.remove("sentBack"),e.div.className.includes("accountform")&&(t=!0,this.setState({accountFormOpen:!0})))),0!==me.length||t||this.setState({minimalUI:!1,currentTitle:"",currentTitleUid:""}),0===me.length&&this.setState({hamburgerHidden:!1})}},{key:"goForward",value:function(e,t,a,n,o,i){!function(e,t,a,n,o){a&&a.classList.add("sentBack");var i={div:a,photosList:e,stickers:t,title:n,scroll:window.scrollY,uid:o};me.push(i),window.App.setState({minimalUI:!0})}(te,ce,a,this.state.currentTitle,this.state.currentTitleUid),function(e){var t,a=Object(m.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;Object(j.a)({targets:n.rotation,z:[{value:-.15}],easing:"spring(1, 80, 20, 0)",duration:3e3}),Object(j.a)({targets:n.position,x:[{value:n.position.x-5,easing:"spring(1, 80, 20, 0)",duration:1e5,delay:j.a.random(0,150)}],y:[{value:n.position.y+1.5,easing:"spring(1, 80, 20, 0)",duration:1e5}]})}}catch(o){a.e(o)}finally{a.f()}}(i),setTimeout((function(){n(o)}),400),this.setCurrentTitle(e,t,"forward"),this.setState({hamburgerHidden:!0})}},{key:"setCurrentTitle",value:function(e,t){var a=this;console.log("TITLE "+e),this.setState({currentTitle:e,currentTitleUid:t},(function(){a.checkIfFollowingTitleUid()}))}},{key:"submitInputOnChange",value:function(e){var t;It="submit",t=this.submitInput.current,console.log("changed"),0!==t.files.length&&((new FileReader).readAsDataURL(t.files[0]),console.log(t.files[0]),!0===W.a.auth().currentUser.isAnonymous?ke():Ee(t)),console.log("Submit input")}},{key:"replyInputOnChange",value:function(e){var t;It="reply",t=this.replyInput.current,console.log("changed"),console.log(t.files[0]),!0===W.a.auth().currentUser.isAnonymous?ke():Ne(t)}},{key:"minizeUI",value:function(){this.setState({minimalUI:!0})}},{key:"maximizeUI",value:function(){this.setState({minimalUI:!1})}},{key:"closeAccountButton",value:function(){this.accountForm.current.dismissForm()}},{key:"handleUpload",value:function(){var e=this;setTimeout((function(){"submit"===It?Ee(e.submitInput.current):"reply"===It&&Ne(e.replyInput.current)}),100)}},{key:"checkIfFollowingTitleUid",value:function(){var e=this;""!==this.state.currentTitleUid&&W.a.database().ref("/following/"+W.a.auth().currentUser.uid+"/"+this.state.currentTitleUid).once("value",(function(t){console.log(t),t.exists()?e.setState({currentTitleUidFollowing:!0}):e.setState({currentTitleUidFollowing:!1})}))}},{key:"handleTitleFollow",value:function(){ot(this.state.currentTitleUid),this.setState({currentTitleUidFollowing:!0})}},{key:"handleTitleUnfollow",value:function(){it(this.state.currentTitleUid),this.setState({currentTitleUidFollowing:!1})}},{key:"shineButtonClick",value:function(){this.submitInput.current.click()}},{key:"render",value:function(){var e=this;return I.a.createElement("div",null,I.a.createElement("div",{class:"title"},I.a.createElement("div",{className:"titleBar"},I.a.createElement("div",{style:this.state.hamburgerHidden?{maxWidth:0,opacity:0,marginRight:0}:{maxWidth:75,opacity:1},className:"titleMenu"},I.a.createElement(Y.a,{size:26,distance:"large",onToggle:function(t){t?e.showAccountForm():e.accountForm.current.dismissForm()}}),I.a.createElement("div",{style:this.state.newNotifications?{opacity:1}:{opacity:0},className:"notificationDot accountNotificationDot"})),I.a.createElement("div",{class:"titletext"},"SUNSHINE")),I.a.createElement("div",{id:"progress",className:"progress"}),I.a.createElement("div",{className:"backTitle ",ref:this.backTitle,style:this.state.currentTitle?{opacity:"1","max-height":100}:{opacity:"0","max-height":0,"margin-bottom":"-10px"}},I.a.createElement("div",{onClick:this.goBack.bind(this),className:"backButton",style:this.state.currentTitle?{display:"inline-block"}:{display:"none"}},"\u27f5\ufe0e"),this.state.currentTitle?this.state.currentTitle:""),I.a.createElement(pt,{userNumber:this.state.userNumber,setHamburgerHidden:this.setHamburgerHidden.bind(this),newNotifications:this.state.newNotifications,setNotificationsRead:this.setNotificationsRead.bind(this),goForward:this.goForward.bind(this),loginForm:this.loginForm,dismissAccountForm:this.dismissAccountForm.bind(this),showAccountForm:this.showAccountForm.bind(this),accountFormOpen:this.state.accountFormOpen,maximizeUI:this.maximizeUI.bind(this),setCurrentTitle:this.setCurrentTitle.bind(this),ref:this.accountForm,loggedInUser:this.state.loggedInUser,currentUser:this.state.currentUser})),I.a.createElement("div",{className:"modeBar",style:this.state.minimalUI?{opacity:0,pointerEvents:"none"}:{opacity:1}},I.a.createElement("button",{className:"modebutton globe "+("all"===this.state.mode?"modebuttonactive":""),id:"requestpublic",style:this.state.isAnonymous||this.state.minimalUI?{opacity:0,pointerEvents:"none"}:{opacity:1},onClick:this.requestPublicFeed.bind(this)},I.a.createElement("img",{src:U.a})),I.a.createElement("button",{className:"modebutton private "+("private"===this.state.mode?"modebuttonactive":""),style:this.state.isAnonymous||this.state.minimalUI?{opacity:0,pointerEvents:"none"}:{opacity:1},onClick:this.requestPrivateFeed.bind(this)},I.a.createElement("img",{src:M.a})),I.a.createElement("div",{onClick:this.shineButtonClick.bind(this),className:"shinebutton",id:"shinebutton",style:this.state.minimalUI?{opacity:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"all"}},I.a.createElement("img",{src:z.a}))),I.a.createElement("div",{id:"root"},I.a.createElement("div",{className:"threejs",style:this.state.accountFormOpen?{opacity:0,pointerEvents:"none",overflow:"hidden"}:{opacity:1,pointerEvents:"all",overflow:"auto"}},I.a.createElement(mt,null))),I.a.createElement(gt,{loginRegisterAction:this.loginRegisterAction.bind(this),ref:this.loginForm,closeloginform:this.loginFormHide.bind(this),register:this.register.bind(this),signIn:this.signIn.bind(this),isAnonymous:this.state.isAnonymous,handleUpload:this.handleUpload.bind(this)}),I.a.createElement("button",{className:"titleFollowButton",onClick:this.handleTitleFollow.bind(this),style:this.state.currentTitleUid&&!this.state.currentTitleUidFollowing?{display:"inline-block",pointerEvents:"all"}:{display:"none"}},"Follow"),I.a.createElement("button",{className:"titleFollowButton",onClick:this.handleTitleUnfollow.bind(this),style:this.state.currentTitleUid&&this.state.currentTitleUidFollowing?{display:"inline-block",pointerEvents:"all"}:{display:"none"}},"Unfollow"),I.a.createElement("div",{className:"replyinput"},I.a.createElement("input",{style:{display:"none"},onChange:this.replyInputOnChange.bind(this),ref:this.replyInput,type:"file",accept:"image/*",id:"reply-input"}),I.a.createElement("label",{for:"reply-input"})),I.a.createElement("input",{style:{display:"none"},onChange:this.submitInputOnChange.bind(this),ref:this.submitInput,type:"file",accept:"image/*",id:"file-input"}),I.a.createElement("label",{for:"file-input"}),I.a.createElement("div",{ref:this.noFollowingNotification,className:"noFollowersNotification"},"You don't follow anyone yet."))}}]),a}(O.Component),At=document.getElementById("root2");function jt(e,t,a){var n=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(e.substring(0,2),16)*a+parseInt(t.substring(0,2),16)*(1-a)),i=Math.ceil(parseInt(e.substring(2,4),16)*a+parseInt(t.substring(2,4),16)*(1-a)),s=Math.ceil(parseInt(e.substring(4,6),16)*a+parseInt(t.substring(4,6),16)*(1-a));return n(o)+n(i)+n(s)}g.a.render(I.a.createElement(kt,null),At),function(e){if("serviceWorker"in navigator){if(new URL("/sunshine",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sunshine","/service-worker.js");f?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):v(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):v(t,e)}))}}();var Et=function(){w()("html, body").animate({scrollTop:0},"500")};function St(e,t,a){return e.slice(a*t,a*t+t)}function Nt(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}},63:function(e,t,a){e.exports=a.p+"static/media/Plastic_001_ROUGH2.0e5d21e8.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/globe3.9023f1f7.svg"},65:function(e,t,a){e.exports=a.p+"static/media/smiley.5b7478dd.svg"},66:function(e,t,a){e.exports=a.p+"static/media/stickerbg.84ab8dc3.png"},67:function(e,t,a){e.exports=a.p+"static/media/8-Point-Star_black_void.a5cd0efe.svg"},99:function(e,t,a){e.exports=a.p+"static/media/images.cfa0a8bf.png"}},[[121,1,2]]]);
//# sourceMappingURL=main.a25501cd.chunk.js.map